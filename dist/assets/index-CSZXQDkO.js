(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function u(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(d){if(d.ep)return;d.ep=!0;const h=u(d);fetch(d.href,h)}})();var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dc={exports:{}},ss={};var kh;function Cg(){if(kh)return ss;kh=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function u(r,d,h){var m=null;if(h!==void 0&&(m=""+h),d.key!==void 0&&(m=""+d.key),"key"in d){h={};for(var x in d)x!=="key"&&(h[x]=d[x])}else h=d;return d=h.ref,{$$typeof:s,type:r,key:m,ref:d!==void 0?d:null,props:h}}return ss.Fragment=c,ss.jsx=u,ss.jsxs=u,ss}var Mh;function Rg(){return Mh||(Mh=1,dc.exports=Cg()),dc.exports}var n=Rg(),fc={exports:{}},we={};var $h;function Tg(){if($h)return we;$h=1;var s=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function G(R,A,te){this.props=R,this.context=A,this.refs=N,this.updater=te||b}G.prototype.isReactComponent={},G.prototype.setState=function(R,A){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,A,"setState")},G.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function V(){}V.prototype=G.prototype;function w(R,A,te){this.props=R,this.context=A,this.refs=N,this.updater=te||b}var J=w.prototype=new V;J.constructor=w,E(J,G.prototype),J.isPureReactComponent=!0;var K=Array.isArray;function k(){}var z={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function re(R,A,te){var fe=te.ref;return{$$typeof:s,type:R,key:A,ref:fe!==void 0?fe:null,props:te}}function P(R,A){return re(R.type,A,R.props)}function he(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function ne(R){var A={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(te){return A[te]})}var H=/\/+/g;function Y(R,A){return typeof R=="object"&&R!==null&&R.key!=null?ne(""+R.key):A.toString(36)}function F(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(k,k):(R.status="pending",R.then(function(A){R.status==="pending"&&(R.status="fulfilled",R.value=A)},function(A){R.status==="pending"&&(R.status="rejected",R.reason=A)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function O(R,A,te,fe,Q){var se=typeof R;(se==="undefined"||se==="boolean")&&(R=null);var D=!1;if(R===null)D=!0;else switch(se){case"bigint":case"string":case"number":D=!0;break;case"object":switch(R.$$typeof){case s:case c:D=!0;break;case v:return D=R._init,O(D(R._payload),A,te,fe,Q)}}if(D)return Q=Q(R),D=fe===""?"."+Y(R,0):fe,K(Q)?(te="",D!=null&&(te=D.replace(H,"$&/")+"/"),O(Q,A,te,"",function(W){return W})):Q!=null&&(he(Q)&&(Q=P(Q,te+(Q.key==null||R&&R.key===Q.key?"":(""+Q.key).replace(H,"$&/")+"/")+D)),A.push(Q)),1;D=0;var q=fe===""?".":fe+":";if(K(R))for(var oe=0;oe<R.length;oe++)fe=R[oe],se=q+Y(fe,oe),D+=O(fe,A,te,se,Q);else if(oe=C(R),typeof oe=="function")for(R=oe.call(R),oe=0;!(fe=R.next()).done;)fe=fe.value,se=q+Y(fe,oe++),D+=O(fe,A,te,se,Q);else if(se==="object"){if(typeof R.then=="function")return O(F(R),A,te,fe,Q);throw A=String(R),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return D}function I(R,A,te){if(R==null)return R;var fe=[],Q=0;return O(R,fe,"","",function(se){return A.call(te,se,Q++)}),fe}function de(R){if(R._status===-1){var A=R._result;A=A(),A.then(function(te){(R._status===0||R._status===-1)&&(R._status=1,R._result=te)},function(te){(R._status===0||R._status===-1)&&(R._status=2,R._result=te)}),R._status===-1&&(R._status=0,R._result=A)}if(R._status===1)return R._result.default;throw R._result}var pe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},je={map:I,forEach:function(R,A,te){I(R,function(){A.apply(this,arguments)},te)},count:function(R){var A=0;return I(R,function(){A++}),A},toArray:function(R){return I(R,function(A){return A})||[]},only:function(R){if(!he(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return we.Activity=_,we.Children=je,we.Component=G,we.Fragment=u,we.Profiler=d,we.PureComponent=w,we.StrictMode=r,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,we.__COMPILER_RUNTIME={__proto__:null,c:function(R){return z.H.useMemoCache(R)}},we.cache=function(R){return function(){return R.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(R,A,te){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var fe=E({},R.props),Q=R.key;if(A!=null)for(se in A.key!==void 0&&(Q=""+A.key),A)!ee.call(A,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&A.ref===void 0||(fe[se]=A[se]);var se=arguments.length-2;if(se===1)fe.children=te;else if(1<se){for(var D=Array(se),q=0;q<se;q++)D[q]=arguments[q+2];fe.children=D}return re(R.type,Q,fe)},we.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:h,_context:R},R},we.createElement=function(R,A,te){var fe,Q={},se=null;if(A!=null)for(fe in A.key!==void 0&&(se=""+A.key),A)ee.call(A,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Q[fe]=A[fe]);var D=arguments.length-2;if(D===1)Q.children=te;else if(1<D){for(var q=Array(D),oe=0;oe<D;oe++)q[oe]=arguments[oe+2];Q.children=q}if(R&&R.defaultProps)for(fe in D=R.defaultProps,D)Q[fe]===void 0&&(Q[fe]=D[fe]);return re(R,se,Q)},we.createRef=function(){return{current:null}},we.forwardRef=function(R){return{$$typeof:x,render:R}},we.isValidElement=he,we.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:de}},we.memo=function(R,A){return{$$typeof:p,type:R,compare:A===void 0?null:A}},we.startTransition=function(R){var A=z.T,te={};z.T=te;try{var fe=R(),Q=z.S;Q!==null&&Q(te,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(k,pe)}catch(se){pe(se)}finally{A!==null&&te.types!==null&&(A.types=te.types),z.T=A}},we.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},we.use=function(R){return z.H.use(R)},we.useActionState=function(R,A,te){return z.H.useActionState(R,A,te)},we.useCallback=function(R,A){return z.H.useCallback(R,A)},we.useContext=function(R){return z.H.useContext(R)},we.useDebugValue=function(){},we.useDeferredValue=function(R,A){return z.H.useDeferredValue(R,A)},we.useEffect=function(R,A){return z.H.useEffect(R,A)},we.useEffectEvent=function(R){return z.H.useEffectEvent(R)},we.useId=function(){return z.H.useId()},we.useImperativeHandle=function(R,A,te){return z.H.useImperativeHandle(R,A,te)},we.useInsertionEffect=function(R,A){return z.H.useInsertionEffect(R,A)},we.useLayoutEffect=function(R,A){return z.H.useLayoutEffect(R,A)},we.useMemo=function(R,A){return z.H.useMemo(R,A)},we.useOptimistic=function(R,A){return z.H.useOptimistic(R,A)},we.useReducer=function(R,A,te){return z.H.useReducer(R,A,te)},we.useRef=function(R){return z.H.useRef(R)},we.useState=function(R){return z.H.useState(R)},we.useSyncExternalStore=function(R,A,te){return z.H.useSyncExternalStore(R,A,te)},we.useTransition=function(){return z.H.useTransition()},we.version="19.2.0",we}var Bh;function Rc(){return Bh||(Bh=1,fc.exports=Tg()),fc.exports}var j=Rc(),hc={exports:{}},is={},mc={exports:{}},pc={};var Hh;function Ag(){return Hh||(Hh=1,(function(s){function c(O,I){var de=O.length;O.push(I);e:for(;0<de;){var pe=de-1>>>1,je=O[pe];if(0<d(je,I))O[pe]=I,O[de]=je,de=pe;else break e}}function u(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var I=O[0],de=O.pop();if(de!==I){O[0]=de;e:for(var pe=0,je=O.length,R=je>>>1;pe<R;){var A=2*(pe+1)-1,te=O[A],fe=A+1,Q=O[fe];if(0>d(te,de))fe<je&&0>d(Q,te)?(O[pe]=Q,O[fe]=de,pe=fe):(O[pe]=te,O[A]=de,pe=A);else if(fe<je&&0>d(Q,de))O[pe]=Q,O[fe]=de,pe=fe;else break e}}return I}function d(O,I){var de=O.sortIndex-I.sortIndex;return de!==0?de:O.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,x=m.now();s.unstable_now=function(){return m.now()-x}}var y=[],p=[],v=1,_=null,S=3,C=!1,b=!1,E=!1,N=!1,G=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function J(O){for(var I=u(p);I!==null;){if(I.callback===null)r(p);else if(I.startTime<=O)r(p),I.sortIndex=I.expirationTime,c(y,I);else break;I=u(p)}}function K(O){if(E=!1,J(O),!b)if(u(y)!==null)b=!0,k||(k=!0,ne());else{var I=u(p);I!==null&&F(K,I.startTime-O)}}var k=!1,z=-1,ee=5,re=-1;function P(){return N?!0:!(s.unstable_now()-re<ee)}function he(){if(N=!1,k){var O=s.unstable_now();re=O;var I=!0;try{e:{b=!1,E&&(E=!1,V(z),z=-1),C=!0;var de=S;try{t:{for(J(O),_=u(y);_!==null&&!(_.expirationTime>O&&P());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,S=_.priorityLevel;var je=pe(_.expirationTime<=O);if(O=s.unstable_now(),typeof je=="function"){_.callback=je,J(O),I=!0;break t}_===u(y)&&r(y),J(O)}else r(y);_=u(y)}if(_!==null)I=!0;else{var R=u(p);R!==null&&F(K,R.startTime-O),I=!1}}break e}finally{_=null,S=de,C=!1}I=void 0}}finally{I?ne():k=!1}}}var ne;if(typeof w=="function")ne=function(){w(he)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=he,ne=function(){Y.postMessage(null)}}else ne=function(){G(he,0)};function F(O,I){z=G(function(){O(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(O){switch(S){case 1:case 2:case 3:var I=3;break;default:I=S}var de=S;S=I;try{return O()}finally{S=de}},s.unstable_requestPaint=function(){N=!0},s.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var de=S;S=O;try{return I()}finally{S=de}},s.unstable_scheduleCallback=function(O,I,de){var pe=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?pe+de:pe):de=pe,O){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=de+je,O={id:v++,callback:I,priorityLevel:O,startTime:de,expirationTime:je,sortIndex:-1},de>pe?(O.sortIndex=de,c(p,O),u(y)===null&&O===u(p)&&(E?(V(z),z=-1):E=!0,F(K,de-pe))):(O.sortIndex=je,c(y,O),b||C||(b=!0,k||(k=!0,ne()))),O},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(O){var I=S;return function(){var de=S;S=I;try{return O.apply(this,arguments)}finally{S=de}}}})(pc)),pc}var Qh;function Dg(){return Qh||(Qh=1,mc.exports=Ag()),mc.exports}var xc={exports:{}},ht={};var Gh;function qg(){if(Gh)return ht;Gh=1;var s=Rc();function c(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var r={d:{f:u,r:function(){throw Error(c(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(y,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:_==null?null:""+_,children:y,containerInfo:p,implementation:v}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ht.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(c(299));return h(y,p,null,v)},ht.flushSync=function(y){var p=m.T,v=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=p,r.p=v,r.d.f()}},ht.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},ht.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},ht.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,_=x(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):v==="script"&&r.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=x(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},ht.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=x(v,p.crossOrigin);r.d.L(y,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=x(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},ht.requestFormReset=function(y){r.d.r(y)},ht.unstable_batchedUpdates=function(y,p){return y(p)},ht.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},ht.version="19.2.0",ht}var Vh;function Og(){if(Vh)return xc.exports;Vh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),xc.exports=qg(),xc.exports}var Fh;function Lg(){if(Fh)return is;Fh=1;var s=Dg(),c=Rc(),u=Og();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var i=a.return;if(i===null)break;var o=i.alternate;if(o===null){if(l=i.return,l!==null){a=l;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===a)return y(i),e;if(o===l)return y(i),t;o=o.sibling}throw Error(r(188))}if(a.return!==l.return)a=i,l=o;else{for(var f=!1,g=i.child;g;){if(g===a){f=!0,a=i,l=o;break}if(g===l){f=!0,l=i,a=o;break}g=g.sibling}if(!f){for(g=o.child;g;){if(g===a){f=!0,a=o,l=i;break}if(g===l){f=!0,l=o,a=i;break}g=g.sibling}if(!f)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),w=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var H=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===H?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case G:return"Profiler";case N:return"StrictMode";case K:return"Suspense";case k:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case w:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var F=Array.isArray,O=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},pe=[],je=-1;function R(e){return{current:e}}function A(e){0>je||(e.current=pe[je],pe[je]=null,je--)}function te(e,t){je++,pe[je]=e.current,e.current=t}var fe=R(null),Q=R(null),se=R(null),D=R(null);function q(e,t){switch(te(se,t),te(Q,e),te(fe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ih(t),e=oh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}A(fe),te(fe,e)}function oe(){A(fe),A(Q),A(se)}function W(e){e.memoizedState!==null&&te(D,e);var t=fe.current,a=oh(t,e.type);t!==a&&(te(Q,e),te(fe,a))}function ce(e){Q.current===e&&(A(fe),A(Q)),D.current===e&&(A(D),ts._currentValue=de)}var ve,xe;function Se(e){if(ve===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ve=t&&t[1]||"",xe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+e+xe}var ye=!1;function Ut(e,t){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var B=Z}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(Z){B=Z}e.call(ie.prototype)}}else{try{throw Error()}catch(Z){B=Z}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&B&&typeof Z.stack=="string")return[Z.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),f=o[0],g=o[1];if(f&&g){var T=f.split(`
`),$=g.split(`
`);for(i=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;i<$.length&&!$[i].includes("DetermineComponentFrameRoot");)i++;if(l===T.length||i===$.length)for(l=T.length-1,i=$.length-1;1<=l&&0<=i&&T[l]!==$[i];)i--;for(;1<=l&&0<=i;l--,i--)if(T[l]!==$[i]){if(l!==1||i!==1)do if(l--,i--,0>i||T[l]!==$[i]){var ae=`
`+T[l].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=l&&0<=i);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Se(a):""}function $e(e,t){switch(e.tag){case 26:case 27:case 5:return Se(e.type);case 16:return Se("Lazy");case 13:return e.child!==t&&t!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return Ut(e.type,!1);case 11:return Ut(e.type.render,!1);case 1:return Ut(e.type,!0);case 31:return Se("Activity");default:return""}}function me(e){try{var t="",a=null;do t+=$e(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Ee=s.unstable_scheduleCallback,Ka=s.unstable_cancelCallback,ul=s.unstable_shouldYield,dl=s.unstable_requestPaint,ot=s.unstable_now,fl=s.unstable_getCurrentPriorityLevel,Sa=s.unstable_ImmediatePriority,Mc=s.unstable_UserBlockingPriority,gs=s.unstable_NormalPriority,rp=s.unstable_LowPriority,$c=s.unstable_IdlePriority,cp=s.log,up=s.unstable_setDisableYieldValue,hl=null,Et=null;function wa(e){if(typeof cp=="function"&&up(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(hl,e)}catch{}}var Ct=Math.clz32?Math.clz32:hp,dp=Math.log,fp=Math.LN2;function hp(e){return e>>>=0,e===0?32:31-(dp(e)/fp|0)|0}var vs=256,ys=262144,js=4194304;function Pa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bs(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var i=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var g=l&134217727;return g!==0?(l=g&~o,l!==0?i=Pa(l):(f&=g,f!==0?i=Pa(f):a||(a=g&~e,a!==0&&(i=Pa(a))))):(g=l&~o,g!==0?i=Pa(g):f!==0?i=Pa(f):a||(a=l&~e,a!==0&&(i=Pa(a)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:i}function ml(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var e=js;return js<<=1,(js&62914560)===0&&(js=4194304),e}function Ii(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function pl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pp(e,t,a,l,i,o){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,T=e.expirationTimes,$=e.hiddenUpdates;for(a=f&~a;0<a;){var ae=31-Ct(a),ie=1<<ae;g[ae]=0,T[ae]=-1;var B=$[ae];if(B!==null)for($[ae]=null,ae=0;ae<B.length;ae++){var Z=B[ae];Z!==null&&(Z.lane&=-536870913)}a&=~ie}l!==0&&Hc(e,l,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function Hc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ct(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Qc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Ct(a),i=1<<l;i&t|e[l]&t&&(e[l]|=t),a&=~i}}function Gc(e,t){var a=t&-t;return a=(a&42)!==0?1:Wi(a),(a&(e.suspendedLanes|t))!==0?0:a}function Wi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function eo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vc(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Ah(e.type))}function Fc(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var Ea=Math.random().toString(36).slice(2),rt="__reactFiber$"+Ea,gt="__reactProps$"+Ea,jn="__reactContainer$"+Ea,to="__reactEvents$"+Ea,xp="__reactListeners$"+Ea,gp="__reactHandles$"+Ea,Yc="__reactResources$"+Ea,xl="__reactMarker$"+Ea;function ao(e){delete e[rt],delete e[gt],delete e[to],delete e[xp],delete e[gp]}function bn(e){var t=e[rt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[jn]||a[rt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=mh(e);e!==null;){if(a=e[rt])return a;e=mh(e)}return t}e=a,a=e.parentNode}return null}function _n(e){if(e=e[rt]||e[jn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Nn(e){var t=e[Yc];return t||(t=e[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[xl]=!0}var Xc=new Set,Zc={};function Ia(e,t){Sn(e,t),Sn(e+"Capture",t)}function Sn(e,t){for(Zc[e]=t,e=0;e<t.length;e++)Xc.add(t[e])}var vp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jc={},Kc={};function yp(e){return xt.call(Kc,e)?!0:xt.call(Jc,e)?!1:vp.test(e)?Kc[e]=!0:(Jc[e]=!0,!1)}function _s(e,t,a){if(yp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ns(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function na(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jp(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var i=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(f){a=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function no(e){if(!e._valueTracker){var t=Pc(e)?"checked":"value";e._valueTracker=jp(e,t,""+e[t])}}function Ic(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Pc(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bp=/[\n"\\]/g;function kt(e){return e.replace(bp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lo(e,t,a,l,i,o,f,g){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?so(e,f,zt(t)):a!=null?so(e,f,zt(a)):l!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+zt(g):e.removeAttribute("name")}function Wc(e,t,a,l,i,o,f,g){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){no(e);return}a=a!=null?""+zt(a):"",t=t!=null?""+zt(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}l=l??i,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=g?e.checked:!!l,e.defaultChecked=!!l,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),no(e)}function so(e,t,a){t==="number"&&Ss(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wn(e,t,a,l){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&l&&(e[a].defaultSelected=!0)}else{for(a=""+zt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,l&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function eu(e,t,a){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+zt(a):""}function tu(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(F(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=zt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),no(e)}function En(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var _p=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||_p.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function nu(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var i in t)l=t[i],t.hasOwnProperty(i)&&a[i]!==l&&au(e,i,l)}else for(var o in t)t.hasOwnProperty(o)&&au(e,o,t[o])}function io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ws(e){return Sp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function la(){}var oo=null;function ro(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cn=null,Rn=null;function lu(e){var t=_n(e);if(t&&(e=t.stateNode)){var a=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(lo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var i=l[gt]||null;if(!i)throw Error(r(90));lo(l,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Ic(l)}break e;case"textarea":eu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&wn(e,!!a.multiple,t,!1)}}}var co=!1;function su(e,t,a){if(co)return e(t,a);co=!0;try{var l=e(t);return l}finally{if(co=!1,(Cn!==null||Rn!==null)&&(fi(),Cn&&(t=Cn,e=Rn,Rn=Cn=null,lu(t),e)))for(t=0;t<e.length;t++)lu(e[t])}}function vl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=!1;if(sa)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){uo=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{uo=!1}var Ca=null,fo=null,Es=null;function iu(){if(Es)return Es;var e,t=fo,a=t.length,l,i="value"in Ca?Ca.value:Ca.textContent,o=i.length;for(e=0;e<a&&t[e]===i[e];e++);var f=a-e;for(l=1;l<=f&&t[a-l]===i[o-l];l++);return Es=i.slice(e,1<l?1-l:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rs(){return!0}function ou(){return!1}function vt(e){function t(a,l,i,o,f){this._reactName=a,this._targetInst=i,this.type=l,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(o):o[g]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rs:ou,this.isPropagationStopped=ou,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),t}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=vt(Wa),jl=_({},Wa,{view:0,detail:0}),wp=vt(jl),ho,mo,bl,As=_({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bl&&(bl&&e.type==="mousemove"?(ho=e.screenX-bl.screenX,mo=e.screenY-bl.screenY):mo=ho=0,bl=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:mo}}),ru=vt(As),Ep=_({},As,{dataTransfer:0}),Cp=vt(Ep),Rp=_({},jl,{relatedTarget:0}),po=vt(Rp),Tp=_({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ap=vt(Tp),Dp=_({},Wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qp=vt(Dp),Op=_({},Wa,{data:0}),cu=vt(Op),Lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zp[e])?!!t[e]:!1}function xo(){return kp}var Mp=_({},jl,{key:function(e){if(e.key){var t=Lp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$p=vt(Mp),Bp=_({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=vt(Bp),Hp=_({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),Qp=vt(Hp),Gp=_({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vp=vt(Gp),Fp=_({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yp=vt(Fp),Xp=_({},Wa,{newState:0,oldState:0}),Zp=vt(Xp),Jp=[9,13,27,32],go=sa&&"CompositionEvent"in window,_l=null;sa&&"documentMode"in document&&(_l=document.documentMode);var Kp=sa&&"TextEvent"in window&&!_l,du=sa&&(!go||_l&&8<_l&&11>=_l),fu=" ",hu=!1;function mu(e,t){switch(e){case"keyup":return Jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tn=!1;function Pp(e,t){switch(e){case"compositionend":return pu(t);case"keypress":return t.which!==32?null:(hu=!0,fu);case"textInput":return e=t.data,e===fu&&hu?null:e;default:return null}}function Ip(e,t){if(Tn)return e==="compositionend"||!go&&mu(e,t)?(e=iu(),Es=fo=Ca=null,Tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var Wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wp[e.type]:t==="textarea"}function gu(e,t,a,l){Cn?Rn?Rn.push(l):Rn=[l]:Cn=l,t=yi(t,"onChange"),0<t.length&&(a=new Ts("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Nl=null,Sl=null;function ex(e){eh(e,0)}function Ds(e){var t=gl(e);if(Ic(t))return e}function vu(e,t){if(e==="change")return t}var yu=!1;if(sa){var vo;if(sa){var yo="oninput"in document;if(!yo){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),yo=typeof ju.oninput=="function"}vo=yo}else vo=!1;yu=vo&&(!document.documentMode||9<document.documentMode)}function bu(){Nl&&(Nl.detachEvent("onpropertychange",_u),Sl=Nl=null)}function _u(e){if(e.propertyName==="value"&&Ds(Sl)){var t=[];gu(t,Sl,e,ro(e)),su(ex,t)}}function tx(e,t,a){e==="focusin"?(bu(),Nl=t,Sl=a,Nl.attachEvent("onpropertychange",_u)):e==="focusout"&&bu()}function ax(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(Sl)}function nx(e,t){if(e==="click")return Ds(t)}function lx(e,t){if(e==="input"||e==="change")return Ds(t)}function sx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:sx;function wl(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var i=a[l];if(!xt.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function Nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Su(e,t){var a=Nu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Nu(a)}}function wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ss(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ss(e.document)}return t}function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ix=sa&&"documentMode"in document&&11>=document.documentMode,An=null,bo=null,El=null,_o=!1;function Cu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_o||An==null||An!==Ss(l)||(l=An,"selectionStart"in l&&jo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&wl(El,l)||(El=l,l=yi(bo,"onSelect"),0<l.length&&(t=new Ts("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=An)))}function en(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Dn={animationend:en("Animation","AnimationEnd"),animationiteration:en("Animation","AnimationIteration"),animationstart:en("Animation","AnimationStart"),transitionrun:en("Transition","TransitionRun"),transitionstart:en("Transition","TransitionStart"),transitioncancel:en("Transition","TransitionCancel"),transitionend:en("Transition","TransitionEnd")},No={},Ru={};sa&&(Ru=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function tn(e){if(No[e])return No[e];if(!Dn[e])return e;var t=Dn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ru)return No[e]=t[a];return e}var Tu=tn("animationend"),Au=tn("animationiteration"),Du=tn("animationstart"),ox=tn("transitionrun"),rx=tn("transitionstart"),cx=tn("transitioncancel"),qu=tn("transitionend"),Ou=new Map,So="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");So.push("scrollEnd");function Yt(e,t){Ou.set(e,t),Ia(t,[e])}var qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],qn=0,wo=0;function Os(){for(var e=qn,t=wo=qn=0;t<e;){var a=Mt[t];Mt[t++]=null;var l=Mt[t];Mt[t++]=null;var i=Mt[t];Mt[t++]=null;var o=Mt[t];if(Mt[t++]=null,l!==null&&i!==null){var f=l.pending;f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i}o!==0&&Lu(a,i,o)}}function Ls(e,t,a,l){Mt[qn++]=e,Mt[qn++]=t,Mt[qn++]=a,Mt[qn++]=l,wo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Eo(e,t,a,l){return Ls(e,t,a,l),Us(e)}function an(e,t){return Ls(e,null,null,t),Us(e)}function Lu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var i=!1,o=e.return;o!==null;)o.childLanes|=a,l=o.alternate,l!==null&&(l.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-Ct(a),e=o.hiddenUpdates,l=e[i],l===null?e[i]=[t]:l.push(t),t.lane=a|536870912),o):null}function Us(e){if(50<Zl)throw Zl=0,Ur=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var On={};function ux(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,a,l){return new ux(e,t,a,l)}function Co(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var a=e.alternate;return a===null?(a=Tt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Uu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zs(e,t,a,l,i,o){var f=0;if(l=e,typeof e=="function")Co(e)&&(f=1);else if(typeof e=="string")f=pg(e,a,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Tt(31,a,t,i),e.elementType=re,e.lanes=o,e;case E:return nn(a.children,i,o,t);case N:f=8,i|=24;break;case G:return e=Tt(12,a,t,i|2),e.elementType=G,e.lanes=o,e;case K:return e=Tt(13,a,t,i),e.elementType=K,e.lanes=o,e;case k:return e=Tt(19,a,t,i),e.elementType=k,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:f=10;break e;case V:f=9;break e;case J:f=11;break e;case z:f=14;break e;case ee:f=16,l=null;break e}f=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Tt(f,a,t,i),t.elementType=e,t.type=l,t.lanes=o,t}function nn(e,t,a,l){return e=Tt(7,e,l,t),e.lanes=a,e}function Ro(e,t,a){return e=Tt(6,e,null,t),e.lanes=a,e}function zu(e){var t=Tt(18,null,null,0);return t.stateNode=e,t}function To(e,t,a){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ku=new WeakMap;function $t(e,t){if(typeof e=="object"&&e!==null){var a=ku.get(e);return a!==void 0?a:(t={value:e,source:t,stack:me(t)},ku.set(e,t),t)}return{value:e,source:t,stack:me(t)}}var Ln=[],Un=0,ks=null,Cl=0,Bt=[],Ht=0,Ra=null,Pt=1,It="";function oa(e,t){Ln[Un++]=Cl,Ln[Un++]=ks,ks=e,Cl=t}function Mu(e,t,a){Bt[Ht++]=Pt,Bt[Ht++]=It,Bt[Ht++]=Ra,Ra=e;var l=Pt;e=It;var i=32-Ct(l)-1;l&=~(1<<i),a+=1;var o=32-Ct(t)+i;if(30<o){var f=i-i%5;o=(l&(1<<f)-1).toString(32),l>>=f,i-=f,Pt=1<<32-Ct(t)+i|a<<i|l,It=o+e}else Pt=1<<o|a<<i|l,It=e}function Ao(e){e.return!==null&&(oa(e,1),Mu(e,1,0))}function Do(e){for(;e===ks;)ks=Ln[--Un],Ln[Un]=null,Cl=Ln[--Un],Ln[Un]=null;for(;e===Ra;)Ra=Bt[--Ht],Bt[Ht]=null,It=Bt[--Ht],Bt[Ht]=null,Pt=Bt[--Ht],Bt[Ht]=null}function $u(e,t){Bt[Ht++]=Pt,Bt[Ht++]=It,Bt[Ht++]=Ra,Pt=t.id,It=t.overflow,Ra=e}var ct=null,Ye=null,Le=!1,Ta=null,Qt=!1,qo=Error(r(519));function Aa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl($t(t,e)),qo}function Bu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[rt]=e,t[gt]=l,a){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(a=0;a<Kl.length;a++)De(Kl[a],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),Wc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),tu(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||lh(t.textContent,a)?(l.popover!=null&&(De("beforetoggle",t),De("toggle",t)),l.onScroll!=null&&De("scroll",t),l.onScrollEnd!=null&&De("scrollend",t),l.onClick!=null&&(t.onclick=la),t=!0):t=!1,t||Aa(e,!0)}function Hu(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ct=ct.return}}function zn(e){if(e!==ct)return!1;if(!Le)return Hu(e),Le=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Kr(e.type,e.memoizedProps)),a=!a),a&&Ye&&Aa(e),Hu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=hh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=hh(e)}else t===27?(t=Ye,Va(e.type)?(e=tc,tc=null,Ye=e):Ye=t):Ye=ct?Vt(e.stateNode.nextSibling):null;return!0}function ln(){Ye=ct=null,Le=!1}function Oo(){var e=Ta;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Ta=null),e}function Rl(e){Ta===null?Ta=[e]:Ta.push(e)}var Lo=R(null),sn=null,ra=null;function Da(e,t,a){te(Lo,t._currentValue),t._currentValue=a}function ca(e){e._currentValue=Lo.current,A(Lo)}function Uo(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function zo(e,t,a,l){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var f=i.child;o=o.firstContext;e:for(;o!==null;){var g=o;o=i;for(var T=0;T<t.length;T++)if(g.context===t[T]){o.lanes|=a,g=o.alternate,g!==null&&(g.lanes|=a),Uo(o.return,a,e),l||(f=null);break e}o=g.next}}else if(i.tag===18){if(f=i.return,f===null)throw Error(r(341));f.lanes|=a,o=f.alternate,o!==null&&(o.lanes|=a),Uo(f,a,e),f=null}else f=i.child;if(f!==null)f.return=i;else for(f=i;f!==null;){if(f===e){f=null;break}if(i=f.sibling,i!==null){i.return=f.return,f=i;break}f=f.return}i=f}}function kn(e,t,a,l){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var f=i.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var g=i.type;Rt(i.pendingProps.value,f.value)||(e!==null?e.push(g):e=[g])}}else if(i===D.current){if(f=i.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ts):e=[ts])}i=i.return}e!==null&&zo(t,e,a,l),t.flags|=262144}function Ms(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function on(e){sn=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Qu(sn,e)}function $s(e,t){return sn===null&&on(e),Qu(e,t)}function Qu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ra===null){if(e===null)throw Error(r(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return a}var dx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},fx=s.unstable_scheduleCallback,hx=s.unstable_NormalPriority,et={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ko(){return{controller:new dx,data:new Map,refCount:0}}function Tl(e){e.refCount--,e.refCount===0&&fx(hx,function(){e.controller.abort()})}var Al=null,Mo=0,Mn=0,$n=null;function mx(e,t){if(Al===null){var a=Al=[];Mo=0,Mn=Hr(),$n={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mo++,t.then(Gu,Gu),t}function Gu(){if(--Mo===0&&Al!==null){$n!==null&&($n.status="fulfilled");var e=Al;Al=null,Mn=0,$n=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function px(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(l.status="rejected",l.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),l}var Vu=O.S;O.S=function(e,t){Rf=ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&mx(e,t),Vu!==null&&Vu(e,t)};var rn=R(null);function $o(){var e=rn.current;return e!==null?e:Fe.pooledCache}function Bs(e,t){t===null?te(rn,rn.current):te(rn,t.pool)}function Fu(){var e=$o();return e===null?null:{parent:et._currentValue,pool:e}}var Bn=Error(r(460)),Bo=Error(r(474)),Hs=Error(r(542)),Qs={then:function(){}};function Yu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(la,la),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ju(e),e;default:if(typeof t.status=="string")t.then(la,la);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=l}},function(l){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ju(e),e}throw un=t,Bn}}function cn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(un=a,Bn):a}}var un=null;function Zu(){if(un===null)throw Error(r(459));var e=un;return un=null,e}function Ju(e){if(e===Bn||e===Hs)throw Error(r(483))}var Hn=null,Dl=0;function Gs(e){var t=Dl;return Dl+=1,Hn===null&&(Hn=[]),Xu(Hn,e,t)}function ql(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vs(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ku(e){function t(U,L){if(e){var M=U.deletions;M===null?(U.deletions=[L],U.flags|=16):M.push(L)}}function a(U,L){if(!e)return null;for(;L!==null;)t(U,L),L=L.sibling;return null}function l(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function i(U,L){return U=ia(U,L),U.index=0,U.sibling=null,U}function o(U,L,M){return U.index=M,e?(M=U.alternate,M!==null?(M=M.index,M<L?(U.flags|=67108866,L):M):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function f(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function g(U,L,M,le){return L===null||L.tag!==6?(L=Ro(M,U.mode,le),L.return=U,L):(L=i(L,M),L.return=U,L)}function T(U,L,M,le){var _e=M.type;return _e===E?ae(U,L,M.props.children,le,M.key):L!==null&&(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ee&&cn(_e)===L.type)?(L=i(L,M.props),ql(L,M),L.return=U,L):(L=zs(M.type,M.key,M.props,null,U.mode,le),ql(L,M),L.return=U,L)}function $(U,L,M,le){return L===null||L.tag!==4||L.stateNode.containerInfo!==M.containerInfo||L.stateNode.implementation!==M.implementation?(L=To(M,U.mode,le),L.return=U,L):(L=i(L,M.children||[]),L.return=U,L)}function ae(U,L,M,le,_e){return L===null||L.tag!==7?(L=nn(M,U.mode,le,_e),L.return=U,L):(L=i(L,M),L.return=U,L)}function ie(U,L,M){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ro(""+L,U.mode,M),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return M=zs(L.type,L.key,L.props,null,U.mode,M),ql(M,L),M.return=U,M;case b:return L=To(L,U.mode,M),L.return=U,L;case ee:return L=cn(L),ie(U,L,M)}if(F(L)||ne(L))return L=nn(L,U.mode,M,null),L.return=U,L;if(typeof L.then=="function")return ie(U,Gs(L),M);if(L.$$typeof===w)return ie(U,$s(U,L),M);Vs(U,L)}return null}function B(U,L,M,le){var _e=L!==null?L.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return _e!==null?null:g(U,L,""+M,le);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return M.key===_e?T(U,L,M,le):null;case b:return M.key===_e?$(U,L,M,le):null;case ee:return M=cn(M),B(U,L,M,le)}if(F(M)||ne(M))return _e!==null?null:ae(U,L,M,le,null);if(typeof M.then=="function")return B(U,L,Gs(M),le);if(M.$$typeof===w)return B(U,L,$s(U,M),le);Vs(U,M)}return null}function Z(U,L,M,le,_e){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return U=U.get(M)||null,g(L,U,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return U=U.get(le.key===null?M:le.key)||null,T(L,U,le,_e);case b:return U=U.get(le.key===null?M:le.key)||null,$(L,U,le,_e);case ee:return le=cn(le),Z(U,L,M,le,_e)}if(F(le)||ne(le))return U=U.get(M)||null,ae(L,U,le,_e,null);if(typeof le.then=="function")return Z(U,L,M,Gs(le),_e);if(le.$$typeof===w)return Z(U,L,M,$s(L,le),_e);Vs(L,le)}return null}function ge(U,L,M,le){for(var _e=null,Ue=null,be=L,Te=L=0,Oe=null;be!==null&&Te<M.length;Te++){be.index>Te?(Oe=be,be=null):Oe=be.sibling;var ze=B(U,be,M[Te],le);if(ze===null){be===null&&(be=Oe);break}e&&be&&ze.alternate===null&&t(U,be),L=o(ze,L,Te),Ue===null?_e=ze:Ue.sibling=ze,Ue=ze,be=Oe}if(Te===M.length)return a(U,be),Le&&oa(U,Te),_e;if(be===null){for(;Te<M.length;Te++)be=ie(U,M[Te],le),be!==null&&(L=o(be,L,Te),Ue===null?_e=be:Ue.sibling=be,Ue=be);return Le&&oa(U,Te),_e}for(be=l(be);Te<M.length;Te++)Oe=Z(be,U,Te,M[Te],le),Oe!==null&&(e&&Oe.alternate!==null&&be.delete(Oe.key===null?Te:Oe.key),L=o(Oe,L,Te),Ue===null?_e=Oe:Ue.sibling=Oe,Ue=Oe);return e&&be.forEach(function(Ja){return t(U,Ja)}),Le&&oa(U,Te),_e}function Ne(U,L,M,le){if(M==null)throw Error(r(151));for(var _e=null,Ue=null,be=L,Te=L=0,Oe=null,ze=M.next();be!==null&&!ze.done;Te++,ze=M.next()){be.index>Te?(Oe=be,be=null):Oe=be.sibling;var Ja=B(U,be,ze.value,le);if(Ja===null){be===null&&(be=Oe);break}e&&be&&Ja.alternate===null&&t(U,be),L=o(Ja,L,Te),Ue===null?_e=Ja:Ue.sibling=Ja,Ue=Ja,be=Oe}if(ze.done)return a(U,be),Le&&oa(U,Te),_e;if(be===null){for(;!ze.done;Te++,ze=M.next())ze=ie(U,ze.value,le),ze!==null&&(L=o(ze,L,Te),Ue===null?_e=ze:Ue.sibling=ze,Ue=ze);return Le&&oa(U,Te),_e}for(be=l(be);!ze.done;Te++,ze=M.next())ze=Z(be,U,Te,ze.value,le),ze!==null&&(e&&ze.alternate!==null&&be.delete(ze.key===null?Te:ze.key),L=o(ze,L,Te),Ue===null?_e=ze:Ue.sibling=ze,Ue=ze);return e&&be.forEach(function(Eg){return t(U,Eg)}),Le&&oa(U,Te),_e}function Ve(U,L,M,le){if(typeof M=="object"&&M!==null&&M.type===E&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case C:e:{for(var _e=M.key;L!==null;){if(L.key===_e){if(_e=M.type,_e===E){if(L.tag===7){a(U,L.sibling),le=i(L,M.props.children),le.return=U,U=le;break e}}else if(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ee&&cn(_e)===L.type){a(U,L.sibling),le=i(L,M.props),ql(le,M),le.return=U,U=le;break e}a(U,L);break}else t(U,L);L=L.sibling}M.type===E?(le=nn(M.props.children,U.mode,le,M.key),le.return=U,U=le):(le=zs(M.type,M.key,M.props,null,U.mode,le),ql(le,M),le.return=U,U=le)}return f(U);case b:e:{for(_e=M.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===M.containerInfo&&L.stateNode.implementation===M.implementation){a(U,L.sibling),le=i(L,M.children||[]),le.return=U,U=le;break e}else{a(U,L);break}else t(U,L);L=L.sibling}le=To(M,U.mode,le),le.return=U,U=le}return f(U);case ee:return M=cn(M),Ve(U,L,M,le)}if(F(M))return ge(U,L,M,le);if(ne(M)){if(_e=ne(M),typeof _e!="function")throw Error(r(150));return M=_e.call(M),Ne(U,L,M,le)}if(typeof M.then=="function")return Ve(U,L,Gs(M),le);if(M.$$typeof===w)return Ve(U,L,$s(U,M),le);Vs(U,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,L!==null&&L.tag===6?(a(U,L.sibling),le=i(L,M),le.return=U,U=le):(a(U,L),le=Ro(M,U.mode,le),le.return=U,U=le),f(U)):a(U,L)}return function(U,L,M,le){try{Dl=0;var _e=Ve(U,L,M,le);return Hn=null,_e}catch(be){if(be===Bn||be===Hs)throw be;var Ue=Tt(29,be,null,U.mode);return Ue.lanes=le,Ue.return=U,Ue}finally{}}}var dn=Ku(!0),Pu=Ku(!1),qa=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var i=l.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),l.pending=t,t=Us(e),Lu(e,null,a),t}return Ls(e,l,t,a),Us(e)}function Ol(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Qc(e,a)}}function Go(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var i=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?i=o=f:o=o.next=f,a=a.next}while(a!==null);o===null?i=o=t:o=o.next=t}else i=o=t;a={baseState:l.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Vo=!1;function Ll(){if(Vo){var e=$n;if(e!==null)throw e}}function Ul(e,t,a,l){Vo=!1;var i=e.updateQueue;qa=!1;var o=i.firstBaseUpdate,f=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var T=g,$=T.next;T.next=null,f===null?o=$:f.next=$,f=T;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,g=ae.lastBaseUpdate,g!==f&&(g===null?ae.firstBaseUpdate=$:g.next=$,ae.lastBaseUpdate=T))}if(o!==null){var ie=i.baseState;f=0,ae=$=T=null,g=o;do{var B=g.lane&-536870913,Z=B!==g.lane;if(Z?(qe&B)===B:(l&B)===B){B!==0&&B===Mn&&(Vo=!0),ae!==null&&(ae=ae.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var ge=e,Ne=g;B=t;var Ve=a;switch(Ne.tag){case 1:if(ge=Ne.payload,typeof ge=="function"){ie=ge.call(Ve,ie,B);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ne.payload,B=typeof ge=="function"?ge.call(Ve,ie,B):ge,B==null)break e;ie=_({},ie,B);break e;case 2:qa=!0}}B=g.callback,B!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=i.callbacks,Z===null?i.callbacks=[B]:Z.push(B))}else Z={lane:B,tag:g.tag,payload:g.payload,callback:g.callback,next:null},ae===null?($=ae=Z,T=ie):ae=ae.next=Z,f|=B;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;Z=g,g=Z.next,Z.next=null,i.lastBaseUpdate=Z,i.shared.pending=null}}while(!0);ae===null&&(T=ie),i.baseState=T,i.firstBaseUpdate=$,i.lastBaseUpdate=ae,o===null&&(i.shared.lanes=0),$a|=f,e.lanes=f,e.memoizedState=ie}}function Iu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Wu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Iu(a[e],t)}var Qn=R(null),Fs=R(0);function ed(e,t){e=va,te(Fs,e),te(Qn,t),va=e|t.baseLanes}function Fo(){te(Fs,va),te(Qn,Qn.current)}function Yo(){va=Fs.current,A(Qn),A(Fs)}var At=R(null),Gt=null;function Ua(e){var t=e.alternate;te(Ie,Ie.current&1),te(At,e),Gt===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(Gt=e)}function Xo(e){te(Ie,Ie.current),te(At,e),Gt===null&&(Gt=e)}function td(e){e.tag===22?(te(Ie,Ie.current),te(At,e),Gt===null&&(Gt=e)):za()}function za(){te(Ie,Ie.current),te(At,At.current)}function Dt(e){A(At),Gt===e&&(Gt=null),A(Ie)}var Ie=R(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wr(a)||ec(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=0,Ce=null,Qe=null,tt=null,Xs=!1,Gn=!1,fn=!1,Zs=0,zl=0,Vn=null,xx=0;function Ke(){throw Error(r(321))}function Zo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Rt(e[a],t[a]))return!1;return!0}function Jo(e,t,a,l,i,o){return ua=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Md:ur,fn=!1,o=a(l,i),fn=!1,Gn&&(o=nd(t,a,l,i)),ad(e),o}function ad(e){O.H=$l;var t=Qe!==null&&Qe.next!==null;if(ua=0,tt=Qe=Ce=null,Xs=!1,zl=0,Vn=null,t)throw Error(r(300));e===null||at||(e=e.dependencies,e!==null&&Ms(e)&&(at=!0))}function nd(e,t,a,l){Ce=e;var i=0;do{if(Gn&&(Vn=null),zl=0,Gn=!1,25<=i)throw Error(r(301));if(i+=1,tt=Qe=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}O.H=$d,o=t(a,l)}while(Gn);return o}function gx(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?kl(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Ko(){var e=Zs!==0;return Zs=0,e}function Po(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Io(e){if(Xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xs=!1}ua=0,tt=Qe=Ce=null,Gn=!1,zl=Zs=0,Vn=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ce.memoizedState=tt=e:tt=tt.next=e,tt}function We(){if(Qe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=tt===null?Ce.memoizedState:tt.next;if(t!==null)tt=t,Qe=e;else{if(e===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},tt===null?Ce.memoizedState=tt=e:tt=tt.next=e}return tt}function Js(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var t=zl;return zl+=1,Vn===null&&(Vn=[]),e=Xu(Vn,e,t),t=Ce,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Md:ur),e}function Ks(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===w)return ut(e)}throw Error(r(438,String(e)))}function Wo(e){var t=null,a=Ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Js(),Ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=P;return t.index++,a}function da(e,t){return typeof t=="function"?t(e):t}function Ps(e){var t=We();return er(t,Qe,e)}function er(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var i=e.baseQueue,o=l.pending;if(o!==null){if(i!==null){var f=i.next;i.next=o.next,o.next=f}t.baseQueue=i=o,l.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var g=f=null,T=null,$=t,ae=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(qe&ie)===ie:(ua&ie)===ie){var B=$.revertLane;if(B===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===Mn&&(ae=!0);else if((ua&B)===B){$=$.next,B===Mn&&(ae=!0);continue}else ie={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},T===null?(g=T=ie,f=o):T=T.next=ie,Ce.lanes|=B,$a|=B;ie=$.action,fn&&a(o,ie),o=$.hasEagerState?$.eagerState:a(o,ie)}else B={lane:ie,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},T===null?(g=T=B,f=o):T=T.next=B,Ce.lanes|=ie,$a|=ie;$=$.next}while($!==null&&$!==t);if(T===null?f=o:T.next=g,!Rt(o,e.memoizedState)&&(at=!0,ae&&(a=$n,a!==null)))throw a;e.memoizedState=o,e.baseState=f,e.baseQueue=T,l.lastRenderedState=o}return i===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function tr(e){var t=We(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,i=a.pending,o=t.memoizedState;if(i!==null){a.pending=null;var f=i=i.next;do o=e(o,f.action),f=f.next;while(f!==i);Rt(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,l]}function ld(e,t,a){var l=Ce,i=We(),o=Le;if(o){if(a===void 0)throw Error(r(407));a=a()}else a=t();var f=!Rt((Qe||i).memoizedState,a);if(f&&(i.memoizedState=a,at=!0),i=i.queue,lr(od.bind(null,l,i,e),[e]),i.getSnapshot!==t||f||tt!==null&&tt.memoizedState.tag&1){if(l.flags|=2048,Fn(9,{destroy:void 0},id.bind(null,l,i,a,t),null),Fe===null)throw Error(r(349));o||(ua&127)!==0||sd(l,t,a)}return a}function sd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ce.updateQueue,t===null?(t=Js(),Ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function id(e,t,a,l){t.value=a,t.getSnapshot=l,rd(t)&&cd(e)}function od(e,t,a){return a(function(){rd(t)&&cd(e)})}function rd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Rt(e,a)}catch{return!0}}function cd(e){var t=an(e,2);t!==null&&Nt(t,e,2)}function ar(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),fn){wa(!0);try{a()}finally{wa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function ud(e,t,a,l){return e.baseState=a,er(e,Qe,typeof l=="function"?l:da)}function vx(e,t,a,l,i){if(ei(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};O.T!==null?a(!0):o.isTransition=!1,l(o),a=t.pending,a===null?(o.next=t.pending=o,dd(t,o)):(o.next=a.next,t.pending=a.next=o)}}function dd(e,t){var a=t.action,l=t.payload,i=e.state;if(t.isTransition){var o=O.T,f={};O.T=f;try{var g=a(i,l),T=O.S;T!==null&&T(f,g),fd(e,t,g)}catch($){nr(e,t,$)}finally{o!==null&&f.types!==null&&(o.types=f.types),O.T=o}}else try{o=a(i,l),fd(e,t,o)}catch($){nr(e,t,$)}}function fd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hd(e,t,l)},function(l){return nr(e,t,l)}):hd(e,t,a)}function hd(e,t,a){t.status="fulfilled",t.value=a,md(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,dd(e,a)))}function nr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,md(t),t=t.next;while(t!==l)}e.action=null}function md(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function pd(e,t){return t}function xd(e,t){if(Le){var a=Fe.formState;if(a!==null){e:{var l=Ce;if(Le){if(Ye){t:{for(var i=Ye,o=Qt;i.nodeType!==8;){if(!o){i=null;break t}if(i=Vt(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){Ye=Vt(i.nextSibling),l=i.data==="F!";break e}}Aa(l)}l=!1}l&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:t},a.queue=l,a=Ud.bind(null,Ce,l),l.dispatch=a,l=ar(!1),o=cr.bind(null,Ce,!1,l.queue),l=pt(),i={state:t,dispatch:null,action:e,pending:null},l.queue=i,a=vx.bind(null,Ce,i,o,a),i.dispatch=a,l.memoizedState=e,[t,a,!1]}function gd(e){var t=We();return vd(t,Qe,e)}function vd(e,t,a){if(t=er(e,t,pd)[0],e=Ps(da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=kl(t)}catch(f){throw f===Bn?Hs:f}else l=t;t=We();var i=t.queue,o=i.dispatch;return a!==t.memoizedState&&(Ce.flags|=2048,Fn(9,{destroy:void 0},yx.bind(null,i,a),null)),[l,o,e]}function yx(e,t){e.action=t}function yd(e){var t=We(),a=Qe;if(a!==null)return vd(t,a,e);We(),t=t.memoizedState,a=We();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Fn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=Js(),Ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function jd(){return We().memoizedState}function Is(e,t,a,l){var i=pt();Ce.flags|=e,i.memoizedState=Fn(1|t,{destroy:void 0},a,l===void 0?null:l)}function Ws(e,t,a,l){var i=We();l=l===void 0?null:l;var o=i.memoizedState.inst;Qe!==null&&l!==null&&Zo(l,Qe.memoizedState.deps)?i.memoizedState=Fn(t,o,a,l):(Ce.flags|=e,i.memoizedState=Fn(1|t,o,a,l))}function bd(e,t){Is(8390656,8,e,t)}function lr(e,t){Ws(2048,8,e,t)}function jx(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=Js(),Ce.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function _d(e){var t=We().memoizedState;return jx({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Nd(e,t){return Ws(4,2,e,t)}function Sd(e,t){return Ws(4,4,e,t)}function wd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,a){a=a!=null?a.concat([e]):null,Ws(4,4,wd.bind(null,t,e),a)}function sr(){}function Cd(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Zo(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Rd(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Zo(t,l[1]))return l[0];if(l=e(),fn){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[l,t],l}function ir(e,t,a){return a===void 0||(ua&1073741824)!==0&&(qe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Af(),Ce.lanes|=e,$a|=e,a)}function Td(e,t,a,l){return Rt(a,t)?a:Qn.current!==null?(e=ir(e,a,l),Rt(e,t)||(at=!0),e):(ua&42)===0||(ua&1073741824)!==0&&(qe&261930)===0?(at=!0,e.memoizedState=a):(e=Af(),Ce.lanes|=e,$a|=e,t)}function Ad(e,t,a,l,i){var o=I.p;I.p=o!==0&&8>o?o:8;var f=O.T,g={};O.T=g,cr(e,!1,t,a);try{var T=i(),$=O.S;if($!==null&&$(g,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var ae=px(T,l);Ml(e,t,ae,Lt(e))}else Ml(e,t,l,Lt(e))}catch(ie){Ml(e,t,{then:function(){},status:"rejected",reason:ie},Lt())}finally{I.p=o,f!==null&&g.types!==null&&(f.types=g.types),O.T=f}}function bx(){}function or(e,t,a,l){if(e.tag!==5)throw Error(r(476));var i=Dd(e).queue;Ad(e,i,t,de,a===null?bx:function(){return qd(e),a(l)})}function Dd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:de},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qd(e){var t=Dd(e);t.next===null&&(t=e.alternate.memoizedState),Ml(e,t.next.queue,{},Lt())}function rr(){return ut(ts)}function Od(){return We().memoizedState}function Ld(){return We().memoizedState}function _x(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Lt();e=Oa(a);var l=La(t,e,a);l!==null&&(Nt(l,t,a),Ol(l,t,a)),t={cache:ko()},e.payload=t;return}t=t.return}}function Nx(e,t,a){var l=Lt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ei(e)?zd(t,a):(a=Eo(e,t,a,l),a!==null&&(Nt(a,e,l),kd(a,t,l)))}function Ud(e,t,a){var l=Lt();Ml(e,t,a,l)}function Ml(e,t,a,l){var i={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ei(e))zd(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,g=o(f,a);if(i.hasEagerState=!0,i.eagerState=g,Rt(g,f))return Ls(e,t,i,0),Fe===null&&Os(),!1}catch{}finally{}if(a=Eo(e,t,i,l),a!==null)return Nt(a,e,l),kd(a,t,l),!0}return!1}function cr(e,t,a,l){if(l={lane:2,revertLane:Hr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ei(e)){if(t)throw Error(r(479))}else t=Eo(e,a,l,2),t!==null&&Nt(t,e,2)}function ei(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function zd(e,t){Gn=Xs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function kd(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Qc(e,a)}}var $l={readContext:ut,use:Ks,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};$l.useEffectEvent=Ke;var Md={readContext:ut,use:Ks,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:bd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Is(4194308,4,wd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){Is(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var l=e();if(fn){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=pt();if(a!==void 0){var i=a(t);if(fn){wa(!0);try{a(t)}finally{wa(!1)}}}else i=t;return l.memoizedState=l.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},l.queue=e,e=e.dispatch=Nx.bind(null,Ce,e),[l.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=ar(e);var t=e.queue,a=Ud.bind(null,Ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:sr,useDeferredValue:function(e,t){var a=pt();return ir(a,e,t)},useTransition:function(){var e=ar(!1);return e=Ad.bind(null,Ce,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ce,i=pt();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Fe===null)throw Error(r(349));(qe&127)!==0||sd(l,t,a)}i.memoizedState=a;var o={value:a,getSnapshot:t};return i.queue=o,bd(od.bind(null,l,o,e),[e]),l.flags|=2048,Fn(9,{destroy:void 0},id.bind(null,l,o,a,t),null),a},useId:function(){var e=pt(),t=Fe.identifierPrefix;if(Le){var a=It,l=Pt;a=(l&~(1<<32-Ct(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Zs++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=xx++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rr,useFormState:xd,useActionState:xd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=cr.bind(null,Ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:Wo,useCacheRefresh:function(){return pt().memoizedState=_x.bind(null,Ce)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((Me&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ur={readContext:ut,use:Ks,useCallback:Cd,useContext:ut,useEffect:lr,useImperativeHandle:Ed,useInsertionEffect:Nd,useLayoutEffect:Sd,useMemo:Rd,useReducer:Ps,useRef:jd,useState:function(){return Ps(da)},useDebugValue:sr,useDeferredValue:function(e,t){var a=We();return Td(a,Qe.memoizedState,e,t)},useTransition:function(){var e=Ps(da)[0],t=We().memoizedState;return[typeof e=="boolean"?e:kl(e),t]},useSyncExternalStore:ld,useId:Od,useHostTransitionStatus:rr,useFormState:gd,useActionState:gd,useOptimistic:function(e,t){var a=We();return ud(a,Qe,e,t)},useMemoCache:Wo,useCacheRefresh:Ld};ur.useEffectEvent=_d;var $d={readContext:ut,use:Ks,useCallback:Cd,useContext:ut,useEffect:lr,useImperativeHandle:Ed,useInsertionEffect:Nd,useLayoutEffect:Sd,useMemo:Rd,useReducer:tr,useRef:jd,useState:function(){return tr(da)},useDebugValue:sr,useDeferredValue:function(e,t){var a=We();return Qe===null?ir(a,e,t):Td(a,Qe.memoizedState,e,t)},useTransition:function(){var e=tr(da)[0],t=We().memoizedState;return[typeof e=="boolean"?e:kl(e),t]},useSyncExternalStore:ld,useId:Od,useHostTransitionStatus:rr,useFormState:yd,useActionState:yd,useOptimistic:function(e,t){var a=We();return Qe!==null?ud(a,Qe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wo,useCacheRefresh:Ld};$d.useEffectEvent=_d;function dr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var fr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Lt(),i=Oa(l);i.payload=t,a!=null&&(i.callback=a),t=La(e,i,l),t!==null&&(Nt(t,e,l),Ol(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Lt(),i=Oa(l);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=La(e,i,l),t!==null&&(Nt(t,e,l),Ol(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Lt(),l=Oa(a);l.tag=2,t!=null&&(l.callback=t),t=La(e,l,a),t!==null&&(Nt(t,e,a),Ol(t,e,a))}};function Bd(e,t,a,l,i,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,f):t.prototype&&t.prototype.isPureReactComponent?!wl(a,l)||!wl(i,o):!0}function Hd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&fr.enqueueReplaceState(t,t.state,null)}function hn(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Qd(e){qs(e)}function Gd(e){console.error(e)}function Vd(e){qs(e)}function ti(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Fd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function hr(e,t,a){return a=Oa(a),a.tag=3,a.payload={element:null},a.callback=function(){ti(e,t)},a}function Yd(e){return e=Oa(e),e.tag=3,e}function Xd(e,t,a,l){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var o=l.value;e.payload=function(){return i(o)},e.callback=function(){Fd(t,a,l)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Fd(t,a,l),typeof i!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function Sx(e,t,a,l,i){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&kn(t,a,i,!0),a=At.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?hi():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=i,l===Qs?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Mr(e,l,i)),!1;case 22:return a.flags|=65536,l===Qs?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Mr(e,l,i)),!1}throw Error(r(435,a.tag))}return Mr(e,l,i),hi(),!1}if(Le)return t=At.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,l!==qo&&(e=Error(r(422),{cause:l}),Rl($t(e,a)))):(l!==qo&&(t=Error(r(423),{cause:l}),Rl($t(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,l=$t(l,a),i=hr(e.stateNode,l,i),Go(e,i),Pe!==4&&(Pe=2)),!1;var o=Error(r(520),{cause:l});if(o=$t(o,a),Xl===null?Xl=[o]:Xl.push(o),Pe!==4&&(Pe=2),t===null)return!0;l=$t(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=hr(a.stateNode,l,e),Go(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ba===null||!Ba.has(o))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Yd(i),Xd(i,e,a,l),Go(a,i),!1}a=a.return}while(a!==null);return!1}var mr=Error(r(461)),at=!1;function dt(e,t,a,l){t.child=e===null?Pu(t,null,a,l):dn(t,e.child,a,l)}function Zd(e,t,a,l,i){a=a.render;var o=t.ref;if("ref"in l){var f={};for(var g in l)g!=="ref"&&(f[g]=l[g])}else f=l;return on(t),l=Jo(e,t,a,f,o,i),g=Ko(),e!==null&&!at?(Po(e,t,i),fa(e,t,i)):(Le&&g&&Ao(t),t.flags|=1,dt(e,t,l,i),t.child)}function Jd(e,t,a,l,i){if(e===null){var o=a.type;return typeof o=="function"&&!Co(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,Kd(e,t,o,l,i)):(e=zs(a.type,null,l,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!_r(e,i)){var f=o.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(f,l)&&e.ref===t.ref)return fa(e,t,i)}return t.flags|=1,e=ia(o,l),e.ref=t.ref,e.return=t,t.child=e}function Kd(e,t,a,l,i){if(e!==null){var o=e.memoizedProps;if(wl(o,l)&&e.ref===t.ref)if(at=!1,t.pendingProps=l=o,_r(e,i))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,fa(e,t,i)}return pr(e,t,a,l,i)}function Pd(e,t,a,l){var i=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|a:a,e!==null){for(l=t.child=e.child,i=0;l!==null;)i=i|l.lanes|l.childLanes,l=l.sibling;l=i&~o}else l=0,t.child=null;return Id(e,t,o,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bs(t,o!==null?o.cachePool:null),o!==null?ed(t,o):Fo(),td(t);else return l=t.lanes=536870912,Id(e,t,o!==null?o.baseLanes|a:a,a,l)}else o!==null?(Bs(t,o.cachePool),ed(t,o),za(),t.memoizedState=null):(e!==null&&Bs(t,null),Fo(),za());return dt(e,t,i,a),t.child}function Bl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Id(e,t,a,l,i){var o=$o();return o=o===null?null:{parent:et._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&Bs(t,null),Fo(),td(t),e!==null&&kn(e,t,l,!0),t.childLanes=i,null}function ai(e,t){return t=li({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wd(e,t,a){return dn(t,e.child,null,a),e=ai(t,t.pendingProps),e.flags|=2,Dt(t),t.memoizedState=null,e}function wx(e,t,a){var l=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Le){if(l.mode==="hidden")return e=ai(t,l),t.lanes=536870912,Bl(null,e);if(Xo(t),(e=Ye)?(e=fh(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Pt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=zu(e),a.return=t,t.child=a,ct=t,Ye=null)):e=null,e===null)throw Aa(t);return t.lanes=536870912,null}return ai(t,l)}var o=e.memoizedState;if(o!==null){var f=o.dehydrated;if(Xo(t),i)if(t.flags&256)t.flags&=-257,t=Wd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(at||kn(e,t,a,!1),i=(a&e.childLanes)!==0,at||i){if(l=Fe,l!==null&&(f=Gc(l,a),f!==0&&f!==o.retryLane))throw o.retryLane=f,an(e,f),Nt(l,e,f),mr;hi(),t=Wd(e,t,a)}else e=o.treeContext,Ye=Vt(f.nextSibling),ct=t,Le=!0,Ta=null,Qt=!1,e!==null&&$u(t,e),t=ai(t,l),t.flags|=4096;return t}return e=ia(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ni(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function pr(e,t,a,l,i){return on(t),a=Jo(e,t,a,l,void 0,i),l=Ko(),e!==null&&!at?(Po(e,t,i),fa(e,t,i)):(Le&&l&&Ao(t),t.flags|=1,dt(e,t,a,i),t.child)}function ef(e,t,a,l,i,o){return on(t),t.updateQueue=null,a=nd(t,l,a,i),ad(e),l=Ko(),e!==null&&!at?(Po(e,t,o),fa(e,t,o)):(Le&&l&&Ao(t),t.flags|=1,dt(e,t,a,o),t.child)}function tf(e,t,a,l,i){if(on(t),t.stateNode===null){var o=On,f=a.contextType;typeof f=="object"&&f!==null&&(o=ut(f)),o=new a(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=fr,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},Ho(t),f=a.contextType,o.context=typeof f=="object"&&f!==null?ut(f):On,o.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(dr(t,a,f,l),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&fr.enqueueReplaceState(o,o.state,null),Ul(t,l,o,i),Ll(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var g=t.memoizedProps,T=hn(a,g);o.props=T;var $=o.context,ae=a.contextType;f=On,typeof ae=="object"&&ae!==null&&(f=ut(ae));var ie=a.getDerivedStateFromProps;ae=typeof ie=="function"||typeof o.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,ae||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(g||$!==f)&&Hd(t,o,l,f),qa=!1;var B=t.memoizedState;o.state=B,Ul(t,l,o,i),Ll(),$=t.memoizedState,g||B!==$||qa?(typeof ie=="function"&&(dr(t,a,ie,l),$=t.memoizedState),(T=qa||Bd(t,a,T,l,B,$,f))?(ae||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=$),o.props=l,o.state=$,o.context=f,l=T):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,Qo(e,t),f=t.memoizedProps,ae=hn(a,f),o.props=ae,ie=t.pendingProps,B=o.context,$=a.contextType,T=On,typeof $=="object"&&$!==null&&(T=ut($)),g=a.getDerivedStateFromProps,($=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==ie||B!==T)&&Hd(t,o,l,T),qa=!1,B=t.memoizedState,o.state=B,Ul(t,l,o,i),Ll();var Z=t.memoizedState;f!==ie||B!==Z||qa||e!==null&&e.dependencies!==null&&Ms(e.dependencies)?(typeof g=="function"&&(dr(t,a,g,l),Z=t.memoizedState),(ae=qa||Bd(t,a,ae,l,B,Z,T)||e!==null&&e.dependencies!==null&&Ms(e.dependencies))?($||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,Z,T),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,Z,T)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Z),o.props=l,o.state=Z,o.context=T,l=ae):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,ni(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=dn(t,e.child,null,i),t.child=dn(t,null,a,i)):dt(e,t,a,i),t.memoizedState=o.state,e=t.child):e=fa(e,t,i),e}function af(e,t,a,l){return ln(),t.flags|=256,dt(e,t,a,l),t.child}var xr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gr(e){return{baseLanes:e,cachePool:Fu()}}function vr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ot),e}function nf(e,t,a){var l=t.pendingProps,i=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),f&&(i=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(i?Ua(t):za(),(e=Ye)?(e=fh(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Pt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=zu(e),a.return=t,t.child=a,ct=t,Ye=null)):e=null,e===null)throw Aa(t);return ec(e)?t.lanes=32:t.lanes=536870912,null}var g=l.children;return l=l.fallback,i?(za(),i=t.mode,g=li({mode:"hidden",children:g},i),l=nn(l,i,a,null),g.return=t,l.return=t,g.sibling=l,t.child=g,l=t.child,l.memoizedState=gr(a),l.childLanes=vr(e,f,a),t.memoizedState=xr,Bl(null,l)):(Ua(t),yr(t,g))}var T=e.memoizedState;if(T!==null&&(g=T.dehydrated,g!==null)){if(o)t.flags&256?(Ua(t),t.flags&=-257,t=jr(e,t,a)):t.memoizedState!==null?(za(),t.child=e.child,t.flags|=128,t=null):(za(),g=l.fallback,i=t.mode,l=li({mode:"visible",children:l.children},i),g=nn(g,i,a,null),g.flags|=2,l.return=t,g.return=t,l.sibling=g,t.child=l,dn(t,e.child,null,a),l=t.child,l.memoizedState=gr(a),l.childLanes=vr(e,f,a),t.memoizedState=xr,t=Bl(null,l));else if(Ua(t),ec(g)){if(f=g.nextSibling&&g.nextSibling.dataset,f)var $=f.dgst;f=$,l=Error(r(419)),l.stack="",l.digest=f,Rl({value:l,source:null,stack:null}),t=jr(e,t,a)}else if(at||kn(e,t,a,!1),f=(a&e.childLanes)!==0,at||f){if(f=Fe,f!==null&&(l=Gc(f,a),l!==0&&l!==T.retryLane))throw T.retryLane=l,an(e,l),Nt(f,e,l),mr;Wr(g)||hi(),t=jr(e,t,a)}else Wr(g)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ye=Vt(g.nextSibling),ct=t,Le=!0,Ta=null,Qt=!1,e!==null&&$u(t,e),t=yr(t,l.children),t.flags|=4096);return t}return i?(za(),g=l.fallback,i=t.mode,T=e.child,$=T.sibling,l=ia(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,$!==null?g=ia($,g):(g=nn(g,i,a,null),g.flags|=2),g.return=t,l.return=t,l.sibling=g,t.child=l,Bl(null,l),l=t.child,g=e.child.memoizedState,g===null?g=gr(a):(i=g.cachePool,i!==null?(T=et._currentValue,i=i.parent!==T?{parent:T,pool:T}:i):i=Fu(),g={baseLanes:g.baseLanes|a,cachePool:i}),l.memoizedState=g,l.childLanes=vr(e,f,a),t.memoizedState=xr,Bl(e.child,l)):(Ua(t),a=e.child,e=a.sibling,a=ia(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function yr(e,t){return t=li({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function li(e,t){return e=Tt(22,e,null,t),e.lanes=0,e}function jr(e,t,a){return dn(t,e.child,null,a),e=yr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lf(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Uo(e.return,t,a)}function br(e,t,a,l,i,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:i,treeForkCount:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=i,f.treeForkCount=o)}function sf(e,t,a){var l=t.pendingProps,i=l.revealOrder,o=l.tail;l=l.children;var f=Ie.current,g=(f&2)!==0;if(g?(f=f&1|2,t.flags|=128):f&=1,te(Ie,f),dt(e,t,l,a),l=Le?Cl:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,a,t);else if(e.tag===19)lf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&Ys(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),br(t,!1,i,a,o,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ys(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}br(t,!0,a,null,o,l);break;case"together":br(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(kn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function _r(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ms(e)))}function Ex(e,t,a){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),Da(t,et,e.memoizedState.cache),ln();break;case 27:case 5:W(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ua(t),t.flags|=128,null):(a&t.child.childLanes)!==0?nf(e,t,a):(Ua(t),e=fa(e,t,a),e!==null?e.sibling:null);Ua(t);break;case 19:var i=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(kn(e,t,a,!1),l=(a&t.childLanes)!==0),i){if(l)return sf(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(Ie,Ie.current),l)break;return null;case 22:return t.lanes=0,Pd(e,t,a,t.pendingProps);case 24:Da(t,et,e.memoizedState.cache)}return fa(e,t,a)}function of(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!_r(e,a)&&(t.flags&128)===0)return at=!1,Ex(e,t,a);at=(e.flags&131072)!==0}else at=!1,Le&&(t.flags&1048576)!==0&&Mu(t,Cl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=cn(t.elementType),t.type=e,typeof e=="function")Co(e)?(l=hn(e,l),t.tag=1,t=tf(null,t,e,l,a)):(t.tag=0,t=pr(null,t,e,l,a));else{if(e!=null){var i=e.$$typeof;if(i===J){t.tag=11,t=Zd(null,t,e,l,a);break e}else if(i===z){t.tag=14,t=Jd(null,t,e,l,a);break e}}throw t=Y(e)||e,Error(r(306,t,""))}}return t;case 0:return pr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,i=hn(l,t.pendingProps),tf(e,t,l,i,a);case 3:e:{if(q(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var o=t.memoizedState;i=o.element,Qo(e,t),Ul(t,l,null,a);var f=t.memoizedState;if(l=f.cache,Da(t,et,l),l!==o.cache&&zo(t,[et],a,!0),Ll(),l=f.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=af(e,t,l,a);break e}else if(l!==i){i=$t(Error(r(424)),t),Rl(i),t=af(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=Vt(e.firstChild),ct=t,Le=!0,Ta=null,Qt=!0,a=Pu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ln(),l===i){t=fa(e,t,a);break e}dt(e,t,l,a)}t=t.child}return t;case 26:return ni(e,t),e===null?(a=vh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Le||(a=t.type,e=t.pendingProps,l=ji(se.current).createElement(a),l[rt]=t,l[gt]=e,ft(l,a,e),st(l),t.stateNode=l):t.memoizedState=vh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),e===null&&Le&&(l=t.stateNode=ph(t.type,t.pendingProps,se.current),ct=t,Qt=!0,i=Ye,Va(t.type)?(tc=i,Ye=Vt(l.firstChild)):Ye=i),dt(e,t,t.pendingProps.children,a),ni(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((i=l=Ye)&&(l=ag(l,t.type,t.pendingProps,Qt),l!==null?(t.stateNode=l,ct=t,Ye=Vt(l.firstChild),Qt=!1,i=!0):i=!1),i||Aa(t)),W(t),i=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,l=o.children,Kr(i,o)?l=null:f!==null&&Kr(i,f)&&(t.flags|=32),t.memoizedState!==null&&(i=Jo(e,t,gx,null,null,a),ts._currentValue=i),ni(e,t),dt(e,t,l,a),t.child;case 6:return e===null&&Le&&((e=a=Ye)&&(a=ng(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,ct=t,Ye=null,e=!0):e=!1),e||Aa(t)),null;case 13:return nf(e,t,a);case 4:return q(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=dn(t,null,l,a):dt(e,t,l,a),t.child;case 11:return Zd(e,t,t.type,t.pendingProps,a);case 7:return dt(e,t,t.pendingProps,a),t.child;case 8:return dt(e,t,t.pendingProps.children,a),t.child;case 12:return dt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Da(t,t.type,l.value),dt(e,t,l.children,a),t.child;case 9:return i=t.type._context,l=t.pendingProps.children,on(t),i=ut(i),l=l(i),t.flags|=1,dt(e,t,l,a),t.child;case 14:return Jd(e,t,t.type,t.pendingProps,a);case 15:return Kd(e,t,t.type,t.pendingProps,a);case 19:return sf(e,t,a);case 31:return wx(e,t,a);case 22:return Pd(e,t,a,t.pendingProps);case 24:return on(t),l=ut(et),e===null?(i=$o(),i===null&&(i=Fe,o=ko(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=a),i=o),t.memoizedState={parent:l,cache:i},Ho(t),Da(t,et,i)):((e.lanes&a)!==0&&(Qo(e,t),Ul(t,null,null,a),Ll()),i=e.memoizedState,o=t.memoizedState,i.parent!==l?(i={parent:l,cache:l},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Da(t,et,l)):(l=o.cache,Da(t,et,l),l!==i.cache&&zo(t,[et],a,!0))),dt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ha(e){e.flags|=4}function Nr(e,t,a,l,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Lf())e.flags|=8192;else throw un=Qs,Bo}else e.flags&=-16777217}function rf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nh(t))if(Lf())e.flags|=8192;else throw un=Qs,Bo}function si(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Bc():536870912,e.lanes|=t,Jn|=t)}function Hl(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags&65011712,l|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags,l|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Cx(e,t,a){var l=t.pendingProps;switch(Do(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ca(et),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zn(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oo())),Xe(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(ha(t),o!==null?(Xe(t),rf(t,o)):(Xe(t),Nr(t,i,null,l,a))):o?o!==e.memoizedState?(ha(t),Xe(t),rf(t,o)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ha(t),Xe(t),Nr(t,i,e,l,a)),null;case 27:if(ce(t),a=se.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}e=fe.current,zn(t)?Bu(t):(e=ph(i,l,a),t.stateNode=e,ha(t))}return Xe(t),null;case 5:if(ce(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Xe(t),null}if(o=fe.current,zn(t))Bu(t);else{var f=ji(se.current);switch(o){case 1:o=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=f.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?f.createElement(i,{is:l.is}):f.createElement(i)}}o[rt]=t,o[gt]=l;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=o;e:switch(ft(o,i,l),i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ha(t)}}return Xe(t),Nr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=se.current,zn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,i=ct,i!==null)switch(i.tag){case 27:case 5:l=i.memoizedProps}e[rt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lh(e.nodeValue,a)),e||Aa(t,!0)}else e=ji(e).createTextNode(l),e[rt]=t,t.stateNode=e}return Xe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=zn(t),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[rt]=t}else ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else a=Oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Dt(t),t):(Dt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Xe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=zn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[rt]=t}else ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),i=!1}else i=Oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Dt(t),t):(Dt(t),null)}return Dt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,i=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(i=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==i&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),si(t,t.updateQueue),Xe(t),null);case 4:return oe(),e===null&&Fr(t.stateNode.containerInfo),Xe(t),null;case 10:return ca(t.type),Xe(t),null;case 19:if(A(Ie),l=t.memoizedState,l===null)return Xe(t),null;if(i=(t.flags&128)!==0,o=l.rendering,o===null)if(i)Hl(l,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Ys(e),o!==null){for(t.flags|=128,Hl(l,!1),e=o.updateQueue,t.updateQueue=e,si(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Uu(a,e),a=a.sibling;return te(Ie,Ie.current&1|2),Le&&oa(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ot()>ui&&(t.flags|=128,i=!0,Hl(l,!1),t.lanes=4194304)}else{if(!i)if(e=Ys(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,si(t,e),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Le)return Xe(t),null}else 2*ot()-l.renderingStartTime>ui&&a!==536870912&&(t.flags|=128,i=!0,Hl(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ot(),e.sibling=null,a=Ie.current,te(Ie,i?a&1|2:a&1),Le&&oa(t,l.treeForkCount),e):(Xe(t),null);case 22:case 23:return Dt(t),Yo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),a=t.updateQueue,a!==null&&si(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&A(rn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ca(et),Xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Rx(e,t){switch(Do(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ca(et),oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ce(t),null;case 31:if(t.memoizedState!==null){if(Dt(t),t.alternate===null)throw Error(r(340));ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Dt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return A(Ie),null;case 4:return oe(),null;case 10:return ca(t.type),null;case 22:case 23:return Dt(t),Yo(),e!==null&&A(rn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ca(et),null;case 25:return null;default:return null}}function cf(e,t){switch(Do(t),t.tag){case 3:ca(et),oe();break;case 26:case 27:case 5:ce(t);break;case 4:oe();break;case 31:t.memoizedState!==null&&Dt(t);break;case 13:Dt(t);break;case 19:A(Ie);break;case 10:ca(t.type);break;case 22:case 23:Dt(t),Yo(),e!==null&&A(rn);break;case 24:ca(et)}}function Ql(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&e)===e){l=void 0;var o=a.create,f=a.inst;l=o(),f.destroy=l}a=a.next}while(a!==i)}}catch(g){He(t,t.return,g)}}function ka(e,t,a){try{var l=t.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var o=i.next;l=o;do{if((l.tag&e)===e){var f=l.inst,g=f.destroy;if(g!==void 0){f.destroy=void 0,i=t;var T=a,$=g;try{$()}catch(ae){He(i,T,ae)}}}l=l.next}while(l!==o)}}catch(ae){He(t,t.return,ae)}}function uf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Wu(t,a)}catch(l){He(e,e.return,l)}}}function df(e,t,a){a.props=hn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){He(e,t,l)}}function Gl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(i){He(e,t,i)}}function Wt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(i){He(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){He(e,t,i)}else a.current=null}function ff(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(i){He(e,e.return,i)}}function Sr(e,t,a){try{var l=e.stateNode;Kx(l,e.type,a,t),l[gt]=t}catch(i){He(e,e.return,i)}}function hf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Va(e.type)||e.tag===4}function wr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Er(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=la));else if(l!==4&&(l===27&&Va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Er(e,t,a),e=e.sibling;e!==null;)Er(e,t,a),e=e.sibling}function ii(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ii(e,t,a),e=e.sibling;e!==null;)ii(e,t,a),e=e.sibling}function mf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ft(t,l,a),t[rt]=e,t[gt]=a}catch(o){He(e,e.return,o)}}var ma=!1,nt=!1,Cr=!1,pf=typeof WeakSet=="function"?WeakSet:Set,it=null;function Tx(e,t){if(e=e.containerInfo,Zr=Ci,e=Eu(e),jo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var i=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var f=0,g=-1,T=-1,$=0,ae=0,ie=e,B=null;t:for(;;){for(var Z;ie!==a||i!==0&&ie.nodeType!==3||(g=f+i),ie!==o||l!==0&&ie.nodeType!==3||(T=f+l),ie.nodeType===3&&(f+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)B=ie,ie=Z;for(;;){if(ie===e)break t;if(B===a&&++$===i&&(g=f),B===o&&++ae===l&&(T=f),(Z=ie.nextSibling)!==null)break;ie=B,B=ie.parentNode}ie=Z}a=g===-1||T===-1?null:{start:g,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jr={focusedElem:e,selectionRange:a},Ci=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,i=o.memoizedProps,o=o.memoizedState,l=a.stateNode;try{var ge=hn(a.type,i);e=l.getSnapshotBeforeUpdate(ge,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){He(a,a.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ir(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ir(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function xf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xa(e,a),l&4&&Ql(5,a);break;case 1:if(xa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){He(a,a.return,f)}else{var i=hn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){He(a,a.return,f)}}l&64&&uf(a),l&512&&Gl(a,a.return);break;case 3:if(xa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Wu(e,t)}catch(f){He(a,a.return,f)}}break;case 27:t===null&&l&4&&mf(a);case 26:case 5:xa(e,a),t===null&&l&4&&ff(a),l&512&&Gl(a,a.return);break;case 12:xa(e,a);break;case 31:xa(e,a),l&4&&yf(e,a);break;case 13:xa(e,a),l&4&&jf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Mx.bind(null,a),lg(e,a))));break;case 22:if(l=a.memoizedState!==null||ma,!l){t=t!==null&&t.memoizedState!==null||nt,i=ma;var o=nt;ma=l,(nt=t)&&!o?ga(e,a,(a.subtreeFlags&8772)!==0):xa(e,a),ma=i,nt=o}break;case 30:break;default:xa(e,a)}}function gf(e){var t=e.alternate;t!==null&&(e.alternate=null,gf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ao(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,yt=!1;function pa(e,t,a){for(a=a.child;a!==null;)vf(e,t,a),a=a.sibling}function vf(e,t,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(hl,a)}catch{}switch(a.tag){case 26:nt||Wt(a,t),pa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||Wt(a,t);var l=Ze,i=yt;Va(a.type)&&(Ze=a.stateNode,yt=!1),pa(e,t,a),Il(a.stateNode),Ze=l,yt=i;break;case 5:nt||Wt(a,t);case 6:if(l=Ze,i=yt,Ze=null,pa(e,t,a),Ze=l,yt=i,Ze!==null)if(yt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(o){He(a,t,o)}else try{Ze.removeChild(a.stateNode)}catch(o){He(a,t,o)}break;case 18:Ze!==null&&(yt?(e=Ze,uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),nl(e)):uh(Ze,a.stateNode));break;case 4:l=Ze,i=yt,Ze=a.stateNode.containerInfo,yt=!0,pa(e,t,a),Ze=l,yt=i;break;case 0:case 11:case 14:case 15:ka(2,a,t),nt||ka(4,a,t),pa(e,t,a);break;case 1:nt||(Wt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&df(a,t,l)),pa(e,t,a);break;case 21:pa(e,t,a);break;case 22:nt=(l=nt)||a.memoizedState!==null,pa(e,t,a),nt=l;break;default:pa(e,t,a)}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{nl(e)}catch(a){He(t,t.return,a)}}}function jf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(a){He(t,t.return,a)}}function Ax(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new pf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new pf),t;default:throw Error(r(435,e.tag))}}function oi(e,t){var a=Ax(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var i=$x.bind(null,e,l);l.then(i,i)}})}function jt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var i=a[l],o=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 27:if(Va(g.type)){Ze=g.stateNode,yt=!1;break e}break;case 5:Ze=g.stateNode,yt=!1;break e;case 3:case 4:Ze=g.stateNode.containerInfo,yt=!0;break e}g=g.return}if(Ze===null)throw Error(r(160));vf(o,f,i),Ze=null,yt=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}var Xt=null;function bf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),bt(e),l&4&&(ka(3,e,e.return),Ql(3,e),ka(5,e,e.return));break;case 1:jt(t,e),bt(e),l&512&&(nt||a===null||Wt(a,a.return)),l&64&&ma&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var i=Xt;if(jt(t,e),bt(e),l&512&&(nt||a===null||Wt(a,a.return)),l&4){var o=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(l){case"title":o=i.getElementsByTagName("title")[0],(!o||o[xl]||o[rt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(l),i.head.insertBefore(o,i.querySelector("head > title"))),ft(o,l,a),o[rt]=e,st(o),l=o;break e;case"link":var f=bh("link","href",i).get(l+(a.href||""));if(f){for(var g=0;g<f.length;g++)if(o=f[g],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(g,1);break t}}o=i.createElement(l),ft(o,l,a),i.head.appendChild(o);break;case"meta":if(f=bh("meta","content",i).get(l+(a.content||""))){for(g=0;g<f.length;g++)if(o=f[g],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(g,1);break t}}o=i.createElement(l),ft(o,l,a),i.head.appendChild(o);break;default:throw Error(r(468,l))}o[rt]=e,st(o),l=o}e.stateNode=l}else _h(i,e.type,e.stateNode);else e.stateNode=jh(i,l,e.memoizedProps);else o!==l?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,l===null?_h(i,e.type,e.stateNode):jh(i,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Sr(e,e.memoizedProps,a.memoizedProps)}break;case 27:jt(t,e),bt(e),l&512&&(nt||a===null||Wt(a,a.return)),a!==null&&l&4&&Sr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(jt(t,e),bt(e),l&512&&(nt||a===null||Wt(a,a.return)),e.flags&32){i=e.stateNode;try{En(i,"")}catch(ge){He(e,e.return,ge)}}l&4&&e.stateNode!=null&&(i=e.memoizedProps,Sr(e,i,a!==null?a.memoizedProps:i)),l&1024&&(Cr=!0);break;case 6:if(jt(t,e),bt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ge){He(e,e.return,ge)}}break;case 3:if(Ni=null,i=Xt,Xt=bi(t.containerInfo),jt(t,e),Xt=i,bt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{nl(t.containerInfo)}catch(ge){He(e,e.return,ge)}Cr&&(Cr=!1,_f(e));break;case 4:l=Xt,Xt=bi(e.stateNode.containerInfo),jt(t,e),bt(e),Xt=l;break;case 12:jt(t,e),bt(e);break;case 31:jt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oi(e,l)));break;case 13:jt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ci=ot()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oi(e,l)));break;case 22:i=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,$=ma,ae=nt;if(ma=$||i,nt=ae||T,jt(t,e),nt=ae,ma=$,bt(e),l&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||T||ma||nt||mn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){T=a=t;try{if(o=T.stateNode,i)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{g=T.stateNode;var ie=T.memoizedProps.style,B=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;g.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ge){He(T,T.return,ge)}}}else if(t.tag===6){if(a===null){T=t;try{T.stateNode.nodeValue=i?"":T.memoizedProps}catch(ge){He(T,T.return,ge)}}}else if(t.tag===18){if(a===null){T=t;try{var Z=T.stateNode;i?dh(Z,!0):dh(T.stateNode,!1)}catch(ge){He(T,T.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,oi(e,a))));break;case 19:jt(t,e),bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oi(e,l)));break;case 30:break;case 21:break;default:jt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(hf(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,o=wr(e);ii(e,o,i);break;case 5:var f=a.stateNode;a.flags&32&&(En(f,""),a.flags&=-33);var g=wr(e);ii(e,g,f);break;case 3:case 4:var T=a.stateNode.containerInfo,$=wr(e);Er(e,$,T);break;default:throw Error(r(161))}}catch(ae){He(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _f(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_f(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function mn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ka(4,t,t.return),mn(t);break;case 1:Wt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&df(t,t.return,a),mn(t);break;case 27:Il(t.stateNode);case 26:case 5:Wt(t,t.return),mn(t);break;case 22:t.memoizedState===null&&mn(t);break;case 30:mn(t);break;default:mn(t)}e=e.sibling}}function ga(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,i=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:ga(i,o,a),Ql(4,o);break;case 1:if(ga(i,o,a),l=o,i=l.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch($){He(l,l.return,$)}if(l=o,i=l.updateQueue,i!==null){var g=l.stateNode;try{var T=i.shared.hiddenCallbacks;if(T!==null)for(i.shared.hiddenCallbacks=null,i=0;i<T.length;i++)Iu(T[i],g)}catch($){He(l,l.return,$)}}a&&f&64&&uf(o),Gl(o,o.return);break;case 27:mf(o);case 26:case 5:ga(i,o,a),a&&l===null&&f&4&&ff(o),Gl(o,o.return);break;case 12:ga(i,o,a);break;case 31:ga(i,o,a),a&&f&4&&yf(i,o);break;case 13:ga(i,o,a),a&&f&4&&jf(i,o);break;case 22:o.memoizedState===null&&ga(i,o,a),Gl(o,o.return);break;case 30:break;default:ga(i,o,a)}t=t.sibling}}function Rr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Tl(a))}function Tr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e))}function Zt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nf(e,t,a,l),t=t.sibling}function Nf(e,t,a,l){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,a,l),i&2048&&Ql(9,t);break;case 1:Zt(e,t,a,l);break;case 3:Zt(e,t,a,l),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tl(e)));break;case 12:if(i&2048){Zt(e,t,a,l),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,g=o.onPostCommit;typeof g=="function"&&g(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){He(t,t.return,T)}}else Zt(e,t,a,l);break;case 31:Zt(e,t,a,l);break;case 13:Zt(e,t,a,l);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?Zt(e,t,a,l):Vl(e,t):o._visibility&2?Zt(e,t,a,l):(o._visibility|=2,Yn(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Rr(f,t);break;case 24:Zt(e,t,a,l),i&2048&&Tr(t.alternate,t);break;default:Zt(e,t,a,l)}}function Yn(e,t,a,l,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,f=t,g=a,T=l,$=f.flags;switch(f.tag){case 0:case 11:case 15:Yn(o,f,g,T,i),Ql(8,f);break;case 23:break;case 22:var ae=f.stateNode;f.memoizedState!==null?ae._visibility&2?Yn(o,f,g,T,i):Vl(o,f):(ae._visibility|=2,Yn(o,f,g,T,i)),i&&$&2048&&Rr(f.alternate,f);break;case 24:Yn(o,f,g,T,i),i&&$&2048&&Tr(f.alternate,f);break;default:Yn(o,f,g,T,i)}t=t.sibling}}function Vl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,i=l.flags;switch(l.tag){case 22:Vl(a,l),i&2048&&Rr(l.alternate,l);break;case 24:Vl(a,l),i&2048&&Tr(l.alternate,l);break;default:Vl(a,l)}t=t.sibling}}var Fl=8192;function Xn(e,t,a){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)Sf(e,t,a),e=e.sibling}function Sf(e,t,a){switch(e.tag){case 26:Xn(e,t,a),e.flags&Fl&&e.memoizedState!==null&&xg(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Xn(e,t,a);break;case 3:case 4:var l=Xt;Xt=bi(e.stateNode.containerInfo),Xn(e,t,a),Xt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Fl,Fl=16777216,Xn(e,t,a),Fl=l):Xn(e,t,a));break;default:Xn(e,t,a)}}function wf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];it=l,Cf(l,e)}wf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ef(e),e=e.sibling}function Ef(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&ka(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ri(e)):Yl(e);break;default:Yl(e)}}function ri(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];it=l,Cf(l,e)}wf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ka(8,t,t.return),ri(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ri(t));break;default:ri(t)}e=e.sibling}}function Cf(e,t){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:ka(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,it=l;else e:for(a=e;it!==null;){l=it;var i=l.sibling,o=l.return;if(gf(l),l===a){it=null;break e}if(i!==null){i.return=o,it=i;break e}it=o}}}var Dx={getCacheForType:function(e){var t=ut(et),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(et).controller.signal}},qx=typeof WeakMap=="function"?WeakMap:Map,Me=0,Fe=null,Ae=null,qe=0,Be=0,qt=null,Ma=!1,Zn=!1,Ar=!1,va=0,Pe=0,$a=0,pn=0,Dr=0,Ot=0,Jn=0,Xl=null,_t=null,qr=!1,ci=0,Rf=0,ui=1/0,di=null,Ba=null,lt=0,Ha=null,Kn=null,ya=0,Or=0,Lr=null,Tf=null,Zl=0,Ur=null;function Lt(){return(Me&2)!==0&&qe!==0?qe&-qe:O.T!==null?Hr():Vc()}function Af(){if(Ot===0)if((qe&536870912)===0||Le){var e=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),Ot=e}else Ot=536870912;return e=At.current,e!==null&&(e.flags|=32),Ot}function Nt(e,t,a){(e===Fe&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Pn(e,0),Qa(e,qe,Ot,!1)),pl(e,a),((Me&2)===0||e!==Fe)&&(e===Fe&&((Me&2)===0&&(pn|=a),Pe===4&&Qa(e,qe,Ot,!1)),ea(e))}function Df(e,t,a){if((Me&6)!==0)throw Error(r(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ml(e,t),i=l?Ux(e,t):kr(e,t,!0),o=l;do{if(i===0){Zn&&!l&&Qa(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!Ox(a)){i=kr(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var g=e;i=Xl;var T=g.current.memoizedState.isDehydrated;if(T&&(Pn(g,f).flags|=256),f=kr(g,f,!1),f!==2){if(Ar&&!T){g.errorRecoveryDisabledLanes|=o,pn|=o,i=4;break e}o=_t,_t=i,o!==null&&(_t===null?_t=o:_t.push.apply(_t,o))}i=f}if(o=!1,i!==2)continue}}if(i===1){Pn(e,0),Qa(e,t,0,!0);break}e:{switch(l=e,o=i,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Qa(l,t,Ot,!Ma);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=ci+300-ot(),10<i)){if(Qa(l,t,Ot,!Ma),bs(l,0,!0)!==0)break e;ya=t,l.timeoutHandle=rh(qf.bind(null,l,a,_t,di,qr,t,Ot,pn,Jn,Ma,o,"Throttled",-0,0),i);break e}qf(l,a,_t,di,qr,t,Ot,pn,Jn,Ma,o,null,-0,0)}}break}while(!0);ea(e)}function qf(e,t,a,l,i,o,f,g,T,$,ae,ie,B,Z){if(e.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:la},Sf(t,o,ie);var ge=(o&62914560)===o?ci-ot():(o&4194048)===o?Rf-ot():0;if(ge=gg(ie,ge),ge!==null){ya=o,e.cancelPendingCommit=ge(Bf.bind(null,e,t,o,a,l,i,f,g,T,ae,ie,null,B,Z)),Qa(e,o,f,!$);return}}Bf(e,t,o,a,l,i,f,g,T)}function Ox(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var i=a[l],o=i.getSnapshot;i=i.value;try{if(!Rt(o(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qa(e,t,a,l){t&=~Dr,t&=~pn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var i=t;0<i;){var o=31-Ct(i),f=1<<o;l[o]=-1,i&=~f}a!==0&&Hc(e,a,t)}function fi(){return(Me&6)===0?(Jl(0),!1):!0}function zr(){if(Ae!==null){if(Be===0)var e=Ae.return;else e=Ae,ra=sn=null,Io(e),Hn=null,Dl=0,e=Ae;for(;e!==null;)cf(e.alternate,e),e=e.return;Ae=null}}function Pn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ya=0,zr(),Fe=e,Ae=a=ia(e.current,null),qe=t,Be=0,qt=null,Ma=!1,Zn=ml(e,t),Ar=!1,Jn=Ot=Dr=pn=$a=Pe=0,_t=Xl=null,qr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var i=31-Ct(l),o=1<<i;t|=e[i],l&=~o}return va=t,Os(),a}function Of(e,t){Ce=null,O.H=$l,t===Bn||t===Hs?(t=Zu(),Be=3):t===Bo?(t=Zu(),Be=4):Be=t===mr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,Ae===null&&(Pe=1,ti(e,$t(t,e.current)))}function Lf(){var e=At.current;return e===null?!0:(qe&4194048)===qe?Gt===null:(qe&62914560)===qe||(qe&536870912)!==0?e===Gt:!1}function Uf(){var e=O.H;return O.H=$l,e===null?$l:e}function zf(){var e=O.A;return O.A=Dx,e}function hi(){Pe=4,Ma||(qe&4194048)!==qe&&At.current!==null||(Zn=!0),($a&134217727)===0&&(pn&134217727)===0||Fe===null||Qa(Fe,qe,Ot,!1)}function kr(e,t,a){var l=Me;Me|=2;var i=Uf(),o=zf();(Fe!==e||qe!==t)&&(di=null,Pn(e,t)),t=!1;var f=Pe;e:do try{if(Be!==0&&Ae!==null){var g=Ae,T=qt;switch(Be){case 8:zr(),f=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(t=!0);var $=Be;if(Be=0,qt=null,In(e,g,T,$),a&&Zn){f=0;break e}break;default:$=Be,Be=0,qt=null,In(e,g,T,$)}}Lx(),f=Pe;break}catch(ae){Of(e,ae)}while(!0);return t&&e.shellSuspendCounter++,ra=sn=null,Me=l,O.H=i,O.A=o,Ae===null&&(Fe=null,qe=0,Os()),f}function Lx(){for(;Ae!==null;)kf(Ae)}function Ux(e,t){var a=Me;Me|=2;var l=Uf(),i=zf();Fe!==e||qe!==t?(di=null,ui=ot()+500,Pn(e,t)):Zn=ml(e,t);e:do try{if(Be!==0&&Ae!==null){t=Ae;var o=qt;t:switch(Be){case 1:Be=0,qt=null,In(e,t,o,1);break;case 2:case 9:if(Yu(o)){Be=0,qt=null,Mf(t);break}t=function(){Be!==2&&Be!==9||Fe!==e||(Be=7),ea(e)},o.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Yu(o)?(Be=0,qt=null,Mf(t)):(Be=0,qt=null,In(e,t,o,7));break;case 5:var f=null;switch(Ae.tag){case 26:f=Ae.memoizedState;case 5:case 27:var g=Ae;if(f?Nh(f):g.stateNode.complete){Be=0,qt=null;var T=g.sibling;if(T!==null)Ae=T;else{var $=g.return;$!==null?(Ae=$,mi($)):Ae=null}break t}}Be=0,qt=null,In(e,t,o,5);break;case 6:Be=0,qt=null,In(e,t,o,6);break;case 8:zr(),Pe=6;break e;default:throw Error(r(462))}}zx();break}catch(ae){Of(e,ae)}while(!0);return ra=sn=null,O.H=l,O.A=i,Me=a,Ae!==null?0:(Fe=null,qe=0,Os(),Pe)}function zx(){for(;Ae!==null&&!ul();)kf(Ae)}function kf(e){var t=of(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?mi(e):Ae=t}function Mf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ef(a,t,t.pendingProps,t.type,void 0,qe);break;case 11:t=ef(a,t,t.pendingProps,t.type.render,t.ref,qe);break;case 5:Io(t);default:cf(a,t),t=Ae=Uu(t,va),t=of(a,t,va)}e.memoizedProps=e.pendingProps,t===null?mi(e):Ae=t}function In(e,t,a,l){ra=sn=null,Io(t),Hn=null,Dl=0;var i=t.return;try{if(Sx(e,i,t,a,qe)){Pe=1,ti(e,$t(a,e.current)),Ae=null;return}}catch(o){if(i!==null)throw Ae=i,o;Pe=1,ti(e,$t(a,e.current)),Ae=null;return}t.flags&32768?(Le||l===1?e=!0:Zn||(qe&536870912)!==0?e=!1:(Ma=e=!0,(l===2||l===9||l===3||l===6)&&(l=At.current,l!==null&&l.tag===13&&(l.flags|=16384))),$f(t,e)):mi(t)}function mi(e){var t=e;do{if((t.flags&32768)!==0){$f(t,Ma);return}e=t.return;var a=Cx(t.alternate,t,va);if(a!==null){Ae=a;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Pe===0&&(Pe=5)}function $f(e,t){do{var a=Rx(e.alternate,e);if(a!==null){a.flags&=32767,Ae=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=a}while(e!==null);Pe=6,Ae=null}function Bf(e,t,a,l,i,o,f,g,T){e.cancelPendingCommit=null;do pi();while(lt!==0);if((Me&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=wo,pp(e,a,o,f,g,T),e===Fe&&(Ae=Fe=null,qe=0),Kn=t,Ha=e,ya=a,Or=o,Lr=i,Tf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bx(gs,function(){return Ff(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,i=I.p,I.p=2,f=Me,Me|=4;try{Tx(e,t,a)}finally{Me=f,I.p=i,O.T=l}}lt=1,Hf(),Qf(),Gf()}}function Hf(){if(lt===1){lt=0;var e=Ha,t=Kn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=I.p;I.p=2;var i=Me;Me|=4;try{bf(t,e);var o=Jr,f=Eu(e.containerInfo),g=o.focusedElem,T=o.selectionRange;if(f!==g&&g&&g.ownerDocument&&wu(g.ownerDocument.documentElement,g)){if(T!==null&&jo(g)){var $=T.start,ae=T.end;if(ae===void 0&&(ae=$),"selectionStart"in g)g.selectionStart=$,g.selectionEnd=Math.min(ae,g.value.length);else{var ie=g.ownerDocument||document,B=ie&&ie.defaultView||window;if(B.getSelection){var Z=B.getSelection(),ge=g.textContent.length,Ne=Math.min(T.start,ge),Ve=T.end===void 0?Ne:Math.min(T.end,ge);!Z.extend&&Ne>Ve&&(f=Ve,Ve=Ne,Ne=f);var U=Su(g,Ne),L=Su(g,Ve);if(U&&L&&(Z.rangeCount!==1||Z.anchorNode!==U.node||Z.anchorOffset!==U.offset||Z.focusNode!==L.node||Z.focusOffset!==L.offset)){var M=ie.createRange();M.setStart(U.node,U.offset),Z.removeAllRanges(),Ne>Ve?(Z.addRange(M),Z.extend(L.node,L.offset)):(M.setEnd(L.node,L.offset),Z.addRange(M))}}}}for(ie=[],Z=g;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<ie.length;g++){var le=ie[g];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Ci=!!Zr,Jr=Zr=null}finally{Me=i,I.p=l,O.T=a}}e.current=t,lt=2}}function Qf(){if(lt===2){lt=0;var e=Ha,t=Kn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=I.p;I.p=2;var i=Me;Me|=4;try{xf(e,t.alternate,t)}finally{Me=i,I.p=l,O.T=a}}lt=3}}function Gf(){if(lt===4||lt===3){lt=0,dl();var e=Ha,t=Kn,a=ya,l=Tf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,Kn=Ha=null,Vf(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ba=null),eo(a),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(hl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=O.T,i=I.p,I.p=2,O.T=null;try{for(var o=e.onRecoverableError,f=0;f<l.length;f++){var g=l[f];o(g.value,{componentStack:g.stack})}}finally{O.T=t,I.p=i}}(ya&3)!==0&&pi(),ea(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Ur?Zl++:(Zl=0,Ur=e):Zl=0,Jl(0)}}function Vf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Tl(t)))}function pi(){return Hf(),Qf(),Gf(),Ff()}function Ff(){if(lt!==5)return!1;var e=Ha,t=Or;Or=0;var a=eo(ya),l=O.T,i=I.p;try{I.p=32>a?32:a,O.T=null,a=Lr,Lr=null;var o=Ha,f=ya;if(lt=0,Kn=Ha=null,ya=0,(Me&6)!==0)throw Error(r(331));var g=Me;if(Me|=4,Ef(o.current),Nf(o,o.current,f,a),Me=g,Jl(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(hl,o)}catch{}return!0}finally{I.p=i,O.T=l,Vf(e,t)}}function Yf(e,t,a){t=$t(a,t),t=hr(e.stateNode,t,2),e=La(e,t,2),e!==null&&(pl(e,2),ea(e))}function He(e,t,a){if(e.tag===3)Yf(e,e,a);else for(;t!==null;){if(t.tag===3){Yf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ba===null||!Ba.has(l))){e=$t(a,e),a=Yd(2),l=La(t,a,2),l!==null&&(Xd(a,l,t,e),pl(l,2),ea(l));break}}t=t.return}}function Mr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new qx;var i=new Set;l.set(t,i)}else i=l.get(t),i===void 0&&(i=new Set,l.set(t,i));i.has(a)||(Ar=!0,i.add(a),e=kx.bind(null,e,t,a),t.then(e,e))}function kx(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Fe===e&&(qe&a)===a&&(Pe===4||Pe===3&&(qe&62914560)===qe&&300>ot()-ci?(Me&2)===0&&Pn(e,0):Dr|=a,Jn===qe&&(Jn=0)),ea(e)}function Xf(e,t){t===0&&(t=Bc()),e=an(e,t),e!==null&&(pl(e,t),ea(e))}function Mx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Xf(e,a)}function $x(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Xf(e,a)}function Bx(e,t){return Ee(e,t)}var xi=null,Wn=null,$r=!1,gi=!1,Br=!1,Ga=0;function ea(e){e!==Wn&&e.next===null&&(Wn===null?xi=Wn=e:Wn=Wn.next=e),gi=!0,$r||($r=!0,Qx())}function Jl(e,t){if(!Br&&gi){Br=!0;do for(var a=!1,l=xi;l!==null;){if(e!==0){var i=l.pendingLanes;if(i===0)var o=0;else{var f=l.suspendedLanes,g=l.pingedLanes;o=(1<<31-Ct(42|e)+1)-1,o&=i&~(f&~g),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,Pf(l,o))}else o=qe,o=bs(l,l===Fe?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||ml(l,o)||(a=!0,Pf(l,o));l=l.next}while(a);Br=!1}}function Hx(){Zf()}function Zf(){gi=$r=!1;var e=0;Ga!==0&&Ix()&&(e=Ga);for(var t=ot(),a=null,l=xi;l!==null;){var i=l.next,o=Jf(l,t);o===0?(l.next=null,a===null?xi=i:a.next=i,i===null&&(Wn=a)):(a=l,(e!==0||(o&3)!==0)&&(gi=!0)),l=i}lt!==0&&lt!==5||Jl(e),Ga!==0&&(Ga=0)}function Jf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-Ct(o),g=1<<f,T=i[f];T===-1?((g&a)===0||(g&l)!==0)&&(i[f]=mp(g,t)):T<=t&&(e.expiredLanes|=g),o&=~g}if(t=Fe,a=qe,a=bs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ka(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ml(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ka(l),eo(a)){case 2:case 8:a=Mc;break;case 32:a=gs;break;case 268435456:a=$c;break;default:a=gs}return l=Kf.bind(null,e),a=Ee(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ka(l),e.callbackPriority=2,e.callbackNode=null,2}function Kf(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pi()&&e.callbackNode!==a)return null;var l=qe;return l=bs(e,e===Fe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Df(e,l,t),Jf(e,ot()),e.callbackNode!=null&&e.callbackNode===a?Kf.bind(null,e):null)}function Pf(e,t){if(pi())return null;Df(e,t,!0)}function Qx(){eg(function(){(Me&6)!==0?Ee(Sa,Hx):Zf()})}function Hr(){if(Ga===0){var e=Mn;e===0&&(e=vs,vs<<=1,(vs&261888)===0&&(vs=256)),Ga=e}return Ga}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ws(""+e)}function Wf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Gx(e,t,a,l,i){if(t==="submit"&&a&&a.stateNode===i){var o=If((i[gt]||null).action),f=l.submitter;f&&(t=(t=f[gt]||null)?If(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var g=new Ts("action","action",null,l,i);e.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var T=f?Wf(i,f):new FormData(i);or(a,{pending:!0,data:T,method:i.method,action:o},null,T)}}else typeof o=="function"&&(g.preventDefault(),T=f?Wf(i,f):new FormData(i),or(a,{pending:!0,data:T,method:i.method,action:o},o,T))},currentTarget:i}]})}}for(var Qr=0;Qr<So.length;Qr++){var Gr=So[Qr],Vx=Gr.toLowerCase(),Fx=Gr[0].toUpperCase()+Gr.slice(1);Yt(Vx,"on"+Fx)}Yt(Tu,"onAnimationEnd"),Yt(Au,"onAnimationIteration"),Yt(Du,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(ox,"onTransitionRun"),Yt(rx,"onTransitionStart"),Yt(cx,"onTransitionCancel"),Yt(qu,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function eh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],i=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var f=l.length-1;0<=f;f--){var g=l[f],T=g.instance,$=g.currentTarget;if(g=g.listener,T!==o&&i.isPropagationStopped())break e;o=g,i.currentTarget=$;try{o(i)}catch(ae){qs(ae)}i.currentTarget=null,o=T}else for(f=0;f<l.length;f++){if(g=l[f],T=g.instance,$=g.currentTarget,g=g.listener,T!==o&&i.isPropagationStopped())break e;o=g,i.currentTarget=$;try{o(i)}catch(ae){qs(ae)}i.currentTarget=null,o=T}}}}function De(e,t){var a=t[to];a===void 0&&(a=t[to]=new Set);var l=e+"__bubble";a.has(l)||(th(t,e,2,!1),a.add(l))}function Vr(e,t,a){var l=0;t&&(l|=4),th(a,e,l,t)}var vi="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[vi]){e[vi]=!0,Xc.forEach(function(a){a!=="selectionchange"&&(Yx.has(a)||Vr(a,!1,e),Vr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vi]||(t[vi]=!0,Vr("selectionchange",!1,t))}}function th(e,t,a,l){switch(Ah(t)){case 2:var i=jg;break;case 8:i=bg;break;default:i=ic}a=i.bind(null,t,a,e),i=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),l?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Yr(e,t,a,l,i){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var f=l.tag;if(f===3||f===4){var g=l.stateNode.containerInfo;if(g===i)break;if(f===4)for(f=l.return;f!==null;){var T=f.tag;if((T===3||T===4)&&f.stateNode.containerInfo===i)return;f=f.return}for(;g!==null;){if(f=bn(g),f===null)return;if(T=f.tag,T===5||T===6||T===26||T===27){l=o=f;continue e}g=g.parentNode}}l=l.return}su(function(){var $=o,ae=ro(a),ie=[];e:{var B=Ou.get(e);if(B!==void 0){var Z=Ts,ge=e;switch(e){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":Z=$p;break;case"focusin":ge="focus",Z=po;break;case"focusout":ge="blur",Z=po;break;case"beforeblur":case"afterblur":Z=po;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Qp;break;case Tu:case Au:case Du:Z=Ap;break;case qu:Z=Vp;break;case"scroll":case"scrollend":Z=wp;break;case"wheel":Z=Yp;break;case"copy":case"cut":case"paste":Z=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=uu;break;case"toggle":case"beforetoggle":Z=Zp}var Ne=(t&4)!==0,Ve=!Ne&&(e==="scroll"||e==="scrollend"),U=Ne?B!==null?B+"Capture":null:B;Ne=[];for(var L=$,M;L!==null;){var le=L;if(M=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||M===null||U===null||(le=vl(L,U),le!=null&&Ne.push(Pl(L,le,M))),Ve)break;L=L.return}0<Ne.length&&(B=new Z(B,ge,null,a,ae),ie.push({event:B,listeners:Ne}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",B&&a!==oo&&(ge=a.relatedTarget||a.fromElement)&&(bn(ge)||ge[jn]))break e;if((Z||B)&&(B=ae.window===ae?ae:(B=ae.ownerDocument)?B.defaultView||B.parentWindow:window,Z?(ge=a.relatedTarget||a.toElement,Z=$,ge=ge?bn(ge):null,ge!==null&&(Ve=h(ge),Ne=ge.tag,ge!==Ve||Ne!==5&&Ne!==27&&Ne!==6)&&(ge=null)):(Z=null,ge=$),Z!==ge)){if(Ne=ru,le="onMouseLeave",U="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=uu,le="onPointerLeave",U="onPointerEnter",L="pointer"),Ve=Z==null?B:gl(Z),M=ge==null?B:gl(ge),B=new Ne(le,L+"leave",Z,a,ae),B.target=Ve,B.relatedTarget=M,le=null,bn(ae)===$&&(Ne=new Ne(U,L+"enter",ge,a,ae),Ne.target=M,Ne.relatedTarget=Ve,le=Ne),Ve=le,Z&&ge)t:{for(Ne=Xx,U=Z,L=ge,M=0,le=U;le;le=Ne(le))M++;le=0;for(var _e=L;_e;_e=Ne(_e))le++;for(;0<M-le;)U=Ne(U),M--;for(;0<le-M;)L=Ne(L),le--;for(;M--;){if(U===L||L!==null&&U===L.alternate){Ne=U;break t}U=Ne(U),L=Ne(L)}Ne=null}else Ne=null;Z!==null&&ah(ie,B,Z,Ne,!1),ge!==null&&Ve!==null&&ah(ie,Ve,ge,Ne,!0)}}e:{if(B=$?gl($):window,Z=B.nodeName&&B.nodeName.toLowerCase(),Z==="select"||Z==="input"&&B.type==="file")var Ue=vu;else if(xu(B))if(yu)Ue=lx;else{Ue=ax;var be=tx}else Z=B.nodeName,!Z||Z.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?$&&io($.elementType)&&(Ue=vu):Ue=nx;if(Ue&&(Ue=Ue(e,$))){gu(ie,Ue,a,ae);break e}be&&be(e,B,$),e==="focusout"&&$&&B.type==="number"&&$.memoizedProps.value!=null&&so(B,"number",B.value)}switch(be=$?gl($):window,e){case"focusin":(xu(be)||be.contentEditable==="true")&&(An=be,bo=$,El=null);break;case"focusout":El=bo=An=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Cu(ie,a,ae);break;case"selectionchange":if(ix)break;case"keydown":case"keyup":Cu(ie,a,ae)}var Te;if(go)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Tn?mu(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(du&&a.locale!=="ko"&&(Tn||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Tn&&(Te=iu()):(Ca=ae,fo="value"in Ca?Ca.value:Ca.textContent,Tn=!0)),be=yi($,Oe),0<be.length&&(Oe=new cu(Oe,e,null,a,ae),ie.push({event:Oe,listeners:be}),Te?Oe.data=Te:(Te=pu(a),Te!==null&&(Oe.data=Te)))),(Te=Kp?Pp(e,a):Ip(e,a))&&(Oe=yi($,"onBeforeInput"),0<Oe.length&&(be=new cu("onBeforeInput","beforeinput",null,a,ae),ie.push({event:be,listeners:Oe}),be.data=Te)),Gx(ie,e,$,a,ae)}eh(ie,t)})}function Pl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function yi(e,t){for(var a=t+"Capture",l=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=vl(e,a),i!=null&&l.unshift(Pl(e,i,o)),i=vl(e,t),i!=null&&l.push(Pl(e,i,o))),e.tag===3)return l;e=e.return}return[]}function Xx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ah(e,t,a,l,i){for(var o=t._reactName,f=[];a!==null&&a!==l;){var g=a,T=g.alternate,$=g.stateNode;if(g=g.tag,T!==null&&T===l)break;g!==5&&g!==26&&g!==27||$===null||(T=$,i?($=vl(a,o),$!=null&&f.unshift(Pl(a,$,T))):i||($=vl(a,o),$!=null&&f.push(Pl(a,$,T)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var Zx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function nh(e){return(typeof e=="string"?e:""+e).replace(Zx,`
`).replace(Jx,"")}function lh(e,t){return t=nh(t),nh(e)===t}function Ge(e,t,a,l,i,o){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&En(e,""+l);break;case"className":Ns(e,"class",l);break;case"tabIndex":Ns(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ns(e,a,l);break;case"style":nu(e,l,o);break;case"data":if(t!=="object"){Ns(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ws(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&Ge(e,t,"name",i.name,i,null),Ge(e,t,"formEncType",i.formEncType,i,null),Ge(e,t,"formMethod",i.formMethod,i,null),Ge(e,t,"formTarget",i.formTarget,i,null)):(Ge(e,t,"encType",i.encType,i,null),Ge(e,t,"method",i.method,i,null),Ge(e,t,"target",i.target,i,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ws(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=la);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ws(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":De("beforetoggle",e),De("toggle",e),_s(e,"popover",l);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_s(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Np.get(a)||a,_s(e,a,l))}}function Xr(e,t,a,l,i,o){switch(a){case"style":nu(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"onClick":l!=null&&(e.onclick=la);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),o=e[gt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof l=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,i);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):_s(e,a,l)}}}function ft(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var l=!1,i=!1,o;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];if(f!=null)switch(o){case"src":l=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ge(e,t,o,f,a,null)}}i&&Ge(e,t,"srcSet",a.srcSet,a,null),l&&Ge(e,t,"src",a.src,a,null);return;case"input":De("invalid",e);var g=o=f=i=null,T=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var ae=a[l];if(ae!=null)switch(l){case"name":i=ae;break;case"type":f=ae;break;case"checked":T=ae;break;case"defaultChecked":$=ae;break;case"value":o=ae;break;case"defaultValue":g=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,t));break;default:Ge(e,t,l,ae,a,null)}}Wc(e,o,g,T,$,f,i,!1);return;case"select":De("invalid",e),l=f=o=null;for(i in a)if(a.hasOwnProperty(i)&&(g=a[i],g!=null))switch(i){case"value":o=g;break;case"defaultValue":f=g;break;case"multiple":l=g;default:Ge(e,t,i,g,a,null)}t=o,a=f,e.multiple=!!l,t!=null?wn(e,!!l,t,!1):a!=null&&wn(e,!!l,a,!0);return;case"textarea":De("invalid",e),o=i=l=null;for(f in a)if(a.hasOwnProperty(f)&&(g=a[f],g!=null))switch(f){case"value":l=g;break;case"defaultValue":i=g;break;case"children":o=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:Ge(e,t,f,g,a,null)}tu(e,l,i,o);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ge(e,t,T,l,a,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(l=0;l<Kl.length;l++)De(Kl[l],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ge(e,t,$,l,a,null)}return;default:if(io(t)){for(ae in a)a.hasOwnProperty(ae)&&(l=a[ae],l!==void 0&&Xr(e,t,ae,l,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(l=a[g],l!=null&&Ge(e,t,g,l,a,null))}function Kx(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,f=null,g=null,T=null,$=null,ae=null;for(Z in a){var ie=a[Z];if(a.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":T=ie;default:l.hasOwnProperty(Z)||Ge(e,t,Z,null,l,ie)}}for(var B in l){var Z=l[B];if(ie=a[B],l.hasOwnProperty(B)&&(Z!=null||ie!=null))switch(B){case"type":o=Z;break;case"name":i=Z;break;case"checked":$=Z;break;case"defaultChecked":ae=Z;break;case"value":f=Z;break;case"defaultValue":g=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,t));break;default:Z!==ie&&Ge(e,t,B,Z,l,ie)}}lo(e,f,g,T,$,ae,o,i);return;case"select":Z=f=g=B=null;for(o in a)if(T=a[o],a.hasOwnProperty(o)&&T!=null)switch(o){case"value":break;case"multiple":Z=T;default:l.hasOwnProperty(o)||Ge(e,t,o,null,l,T)}for(i in l)if(o=l[i],T=a[i],l.hasOwnProperty(i)&&(o!=null||T!=null))switch(i){case"value":B=o;break;case"defaultValue":g=o;break;case"multiple":f=o;default:o!==T&&Ge(e,t,i,o,l,T)}t=g,a=f,l=Z,B!=null?wn(e,!!a,B,!1):!!l!=!!a&&(t!=null?wn(e,!!a,t,!0):wn(e,!!a,a?[]:"",!1));return;case"textarea":Z=B=null;for(g in a)if(i=a[g],a.hasOwnProperty(g)&&i!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ge(e,t,g,null,l,i)}for(f in l)if(i=l[f],o=a[f],l.hasOwnProperty(f)&&(i!=null||o!=null))switch(f){case"value":B=i;break;case"defaultValue":Z=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==o&&Ge(e,t,f,i,l,o)}eu(e,B,Z);return;case"option":for(var ge in a)if(B=a[ge],a.hasOwnProperty(ge)&&B!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Ge(e,t,ge,null,l,B)}for(T in l)if(B=l[T],Z=a[T],l.hasOwnProperty(T)&&B!==Z&&(B!=null||Z!=null))switch(T){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ge(e,t,T,B,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)B=a[Ne],a.hasOwnProperty(Ne)&&B!=null&&!l.hasOwnProperty(Ne)&&Ge(e,t,Ne,null,l,B);for($ in l)if(B=l[$],Z=a[$],l.hasOwnProperty($)&&B!==Z&&(B!=null||Z!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:Ge(e,t,$,B,l,Z)}return;default:if(io(t)){for(var Ve in a)B=a[Ve],a.hasOwnProperty(Ve)&&B!==void 0&&!l.hasOwnProperty(Ve)&&Xr(e,t,Ve,void 0,l,B);for(ae in l)B=l[ae],Z=a[ae],!l.hasOwnProperty(ae)||B===Z||B===void 0&&Z===void 0||Xr(e,t,ae,B,l,Z);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Ge(e,t,U,null,l,B);for(ie in l)B=l[ie],Z=a[ie],!l.hasOwnProperty(ie)||B===Z||B==null&&Z==null||Ge(e,t,ie,B,l,Z)}function sh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Px(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var i=a[l],o=i.transferSize,f=i.initiatorType,g=i.duration;if(o&&g&&sh(f)){for(f=0,g=i.responseEnd,l+=1;l<a.length;l++){var T=a[l],$=T.startTime;if($>g)break;var ae=T.transferSize,ie=T.initiatorType;ae&&sh(ie)&&(T=T.responseEnd,f+=ae*(T<g?1:(g-$)/(T-$)))}if(--l,t+=8*(o+f)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zr=null,Jr=null;function ji(e){return e.nodeType===9?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pr=null;function Ix(){var e=window.event;return e&&e.type==="popstate"?e===Pr?!1:(Pr=e,!0):(Pr=null,!1)}var rh=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,eg=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(tg)}:rh;function tg(e){setTimeout(function(){throw e})}function Va(e){return e==="head"}function uh(e,t){var a=t,l=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(i),nl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Il(a);for(var o=a.firstChild;o;){var f=o.nextSibling,g=o.nodeName;o[xl]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=f}}else a==="body"&&Il(e.ownerDocument.body);a=i}while(a);nl(t)}function dh(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ir(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ir(a),ao(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ag(e,t,a,l){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function ng(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function fh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function Wr(e){return e.data==="$?"||e.data==="$~"}function ec(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tc=null;function hh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Vt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ph(e,t,a){switch(t=ji(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Il(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ao(e)}var Ft=new Map,xh=new Set;function bi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ja=I.d;I.d={f:sg,r:ig,D:og,C:rg,L:cg,m:ug,X:fg,S:dg,M:hg};function sg(){var e=ja.f(),t=fi();return e||t}function ig(e){var t=_n(e);t!==null&&t.tag===5&&t.type==="form"?qd(t):ja.r(e)}var el=typeof document>"u"?null:document;function gh(e,t,a){var l=el;if(l&&typeof t=="string"&&t){var i=kt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),xh.has(i)||(xh.add(i),e={rel:e,crossOrigin:a,href:t},l.querySelector(i)===null&&(t=l.createElement("link"),ft(t,"link",e),st(t),l.head.appendChild(t)))}}function og(e){ja.D(e),gh("dns-prefetch",e,null)}function rg(e,t){ja.C(e,t),gh("preconnect",e,t)}function cg(e,t,a){ja.L(e,t,a);var l=el;if(l&&e&&t){var i='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+kt(a.imageSizes)+'"]')):i+='[href="'+kt(e)+'"]';var o=i;switch(t){case"style":o=tl(e);break;case"script":o=al(e)}Ft.has(o)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ft.set(o,e),l.querySelector(i)!==null||t==="style"&&l.querySelector(Wl(o))||t==="script"&&l.querySelector(es(o))||(t=l.createElement("link"),ft(t,"link",e),st(t),l.head.appendChild(t)))}}function ug(e,t){ja.m(e,t);var a=el;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(e)+'"]',o=i;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=al(e)}if(!Ft.has(o)&&(e=_({rel:"modulepreload",href:e},t),Ft.set(o,e),a.querySelector(i)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(es(o)))return}l=a.createElement("link"),ft(l,"link",e),st(l),a.head.appendChild(l)}}}function dg(e,t,a){ja.S(e,t,a);var l=el;if(l&&e){var i=Nn(l).hoistableStyles,o=tl(e);t=t||"default";var f=i.get(o);if(!f){var g={loading:0,preload:null};if(f=l.querySelector(Wl(o)))g.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ft.get(o))&&ac(e,a);var T=f=l.createElement("link");st(T),ft(T,"link",e),T._p=new Promise(function($,ae){T.onload=$,T.onerror=ae}),T.addEventListener("load",function(){g.loading|=1}),T.addEventListener("error",function(){g.loading|=2}),g.loading|=4,_i(f,t,l)}f={type:"stylesheet",instance:f,count:1,state:g},i.set(o,f)}}}function fg(e,t){ja.X(e,t);var a=el;if(a&&e){var l=Nn(a).hoistableScripts,i=al(e),o=l.get(i);o||(o=a.querySelector(es(i)),o||(e=_({src:e,async:!0},t),(t=Ft.get(i))&&nc(e,t),o=a.createElement("script"),st(o),ft(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(i,o))}}function hg(e,t){ja.M(e,t);var a=el;if(a&&e){var l=Nn(a).hoistableScripts,i=al(e),o=l.get(i);o||(o=a.querySelector(es(i)),o||(e=_({src:e,async:!0,type:"module"},t),(t=Ft.get(i))&&nc(e,t),o=a.createElement("script"),st(o),ft(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(i,o))}}function vh(e,t,a,l){var i=(i=se.current)?bi(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=tl(a.href),a=Nn(i).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=tl(a.href);var o=Nn(i).hoistableStyles,f=o.get(e);if(f||(i=i.ownerDocument||i,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=i.querySelector(Wl(e)))&&!o._p&&(f.instance=o,f.state.loading=5),Ft.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ft.set(e,a),o||mg(i,e,a,f.state))),t&&l===null)throw Error(r(528,""));return f}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=al(a),a=Nn(i).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function tl(e){return'href="'+kt(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function yh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function mg(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ft(t,"link",a),st(t),e.head.appendChild(t))}function al(e){return'[src="'+kt(e)+'"]'}function es(e){return"script[async]"+e}function jh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return t.instance=l,st(l),l;var i=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),st(l),ft(l,"style",i),_i(l,a.precedence,e),t.instance=l;case"stylesheet":i=tl(a.href);var o=e.querySelector(Wl(i));if(o)return t.state.loading|=4,t.instance=o,st(o),o;l=yh(a),(i=Ft.get(i))&&ac(l,i),o=(e.ownerDocument||e).createElement("link"),st(o);var f=o;return f._p=new Promise(function(g,T){f.onload=g,f.onerror=T}),ft(o,"link",l),t.state.loading|=4,_i(o,a.precedence,e),t.instance=o;case"script":return o=al(a.src),(i=e.querySelector(es(o)))?(t.instance=i,st(i),i):(l=a,(i=Ft.get(o))&&(l=_({},a),nc(l,i)),e=e.ownerDocument||e,i=e.createElement("script"),st(i),ft(i,"link",l),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,_i(l,a.precedence,e));return t.instance}function _i(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=l.length?l[l.length-1]:null,o=i,f=0;f<l.length;f++){var g=l[f];if(g.dataset.precedence===t)o=g;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ni=null;function bh(e,t,a){if(Ni===null){var l=new Map,i=Ni=new Map;i.set(a,l)}else i=Ni,l=i.get(a),l||(l=new Map,i.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var o=a[i];if(!(o[xl]||o[rt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var g=l.get(f);g?g.push(o):l.set(f,[o])}}return l}function _h(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function pg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Nh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xg(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=tl(l.href),o=t.querySelector(Wl(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Si.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=o,st(o);return}o=t.ownerDocument||t,l=yh(l),(i=Ft.get(i))&&ac(l,i),o=o.createElement("link"),st(o);var f=o;f._p=new Promise(function(g,T){f.onload=g,f.onerror=T}),ft(o,"link",l),a.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Si.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var lc=0;function gg(e,t){return e.stylesheets&&e.count===0&&Ei(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Ei(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&lc===0&&(lc=62500*Px());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ei(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>lc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(i)}}:null}function Si(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ei(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wi=null;function Ei(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wi=new Map,t.forEach(vg,e),wi=null,Si.call(e))}function vg(e,t){if(!(t.state.loading&4)){var a=wi.get(e);if(a)var l=a.get(null);else{a=new Map,wi.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var f=i[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),l=f)}l&&a.set(null,l)}i=t.instance,f=i.getAttribute("data-precedence"),o=a.get(f)||l,o===l&&a.set(null,i),a.set(f,i),this.count++,l=Si.bind(this),i.addEventListener("load",l),i.addEventListener("error",l),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ts={$$typeof:w,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function yg(e,t,a,l,i,o,f,g,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Sh(e,t,a,l,i,o,f,g,T,$,ae,ie){return e=new yg(e,t,a,f,T,$,ae,ie,g),t=1,o===!0&&(t|=24),o=Tt(3,null,null,t),e.current=o,o.stateNode=e,t=ko(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:a,cache:t},Ho(o),e}function wh(e){return e?(e=On,e):On}function Eh(e,t,a,l,i,o){i=wh(i),l.context===null?l.context=i:l.pendingContext=i,l=Oa(t),l.payload={element:a},o=o===void 0?null:o,o!==null&&(l.callback=o),a=La(e,l,t),a!==null&&(Nt(a,e,t),Ol(a,e,t))}function Ch(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function sc(e,t){Ch(e,t),(e=e.alternate)&&Ch(e,t)}function Rh(e){if(e.tag===13||e.tag===31){var t=an(e,67108864);t!==null&&Nt(t,e,67108864),sc(e,67108864)}}function Th(e){if(e.tag===13||e.tag===31){var t=Lt();t=Wi(t);var a=an(e,t);a!==null&&Nt(a,e,t),sc(e,t)}}var Ci=!0;function jg(e,t,a,l){var i=O.T;O.T=null;var o=I.p;try{I.p=2,ic(e,t,a,l)}finally{I.p=o,O.T=i}}function bg(e,t,a,l){var i=O.T;O.T=null;var o=I.p;try{I.p=8,ic(e,t,a,l)}finally{I.p=o,O.T=i}}function ic(e,t,a,l){if(Ci){var i=oc(l);if(i===null)Yr(e,t,l,Ri,a),Dh(e,l);else if(Ng(i,e,t,a,l))l.stopPropagation();else if(Dh(e,l),t&4&&-1<_g.indexOf(e)){for(;i!==null;){var o=_n(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=Pa(o.pendingLanes);if(f!==0){var g=o;for(g.pendingLanes|=2,g.entangledLanes|=2;f;){var T=1<<31-Ct(f);g.entanglements[1]|=T,f&=~T}ea(o),(Me&6)===0&&(ui=ot()+500,Jl(0))}}break;case 31:case 13:g=an(o,2),g!==null&&Nt(g,o,2),fi(),sc(o,2)}if(o=oc(l),o===null&&Yr(e,t,l,Ri,a),o===i)break;i=o}i!==null&&l.stopPropagation()}else Yr(e,t,l,null,a)}}function oc(e){return e=ro(e),rc(e)}var Ri=null;function rc(e){if(Ri=null,e=bn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=x(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ri=e,null}function Ah(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fl()){case Sa:return 2;case Mc:return 8;case gs:case rp:return 32;case $c:return 268435456;default:return 32}default:return 32}}var cc=!1,Fa=null,Ya=null,Xa=null,as=new Map,ns=new Map,Za=[],_g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function ls(e,t,a,l,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:o,targetContainers:[i]},t!==null&&(t=_n(t),t!==null&&Rh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ng(e,t,a,l,i){switch(t){case"focusin":return Fa=ls(Fa,e,t,a,l,i),!0;case"dragenter":return Ya=ls(Ya,e,t,a,l,i),!0;case"mouseover":return Xa=ls(Xa,e,t,a,l,i),!0;case"pointerover":var o=i.pointerId;return as.set(o,ls(as.get(o)||null,e,t,a,l,i)),!0;case"gotpointercapture":return o=i.pointerId,ns.set(o,ls(ns.get(o)||null,e,t,a,l,i)),!0}return!1}function qh(e){var t=bn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,Fc(e.priority,function(){Th(a)});return}}else if(t===31){if(t=x(a),t!==null){e.blockedOn=t,Fc(e.priority,function(){Th(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=oc(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);oo=l,a.target.dispatchEvent(l),oo=null}else return t=_n(a),t!==null&&Rh(t),e.blockedOn=a,!1;t.shift()}return!0}function Oh(e,t,a){Ti(e)&&a.delete(t)}function Sg(){cc=!1,Fa!==null&&Ti(Fa)&&(Fa=null),Ya!==null&&Ti(Ya)&&(Ya=null),Xa!==null&&Ti(Xa)&&(Xa=null),as.forEach(Oh),ns.forEach(Oh)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,cc||(cc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Sg)))}var Di=null;function Lh(e){Di!==e&&(Di=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Di===e&&(Di=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],i=e[t+2];if(typeof l!="function"){if(rc(l||a)===null)continue;break}var o=_n(a);o!==null&&(e.splice(t,3),t-=3,or(o,{pending:!0,data:i,method:a.method,action:l},l,i))}}))}function nl(e){function t(T){return Ai(T,e)}Fa!==null&&Ai(Fa,e),Ya!==null&&Ai(Ya,e),Xa!==null&&Ai(Xa,e),as.forEach(t),ns.forEach(t);for(var a=0;a<Za.length;a++){var l=Za[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Za.length&&(a=Za[0],a.blockedOn===null);)qh(a),a.blockedOn===null&&Za.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var i=a[l],o=a[l+1],f=i[gt]||null;if(typeof o=="function")f||Lh(a);else if(f){var g=null;if(o&&o.hasAttribute("formAction")){if(i=o,f=o[gt]||null)g=f.formAction;else if(rc(i)!==null)continue}else g=f.action;typeof g=="function"?a[l+1]=g:(a.splice(l,3),l-=3),Lh(a)}}}function Uh(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(f){return i=f})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function uc(e){this._internalRoot=e}qi.prototype.render=uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=Lt();Eh(a,l,e,t,null,null)},qi.prototype.unmount=uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eh(e.current,2,null,e,null,null),fi(),t[jn]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Za.length&&t!==0&&t<Za[a].priority;a++);Za.splice(a,0,e),a===0&&qh(e)}};var zh=c.version;if(zh!=="19.2.0")throw Error(r(527,zh,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var wg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oi.isDisabled&&Oi.supportsFiber)try{hl=Oi.inject(wg),Et=Oi}catch{}}return is.createRoot=function(e,t){if(!d(e))throw Error(r(299));var a=!1,l="",i=Qd,o=Gd,f=Vd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Sh(e,1,!1,null,null,a,l,null,i,o,f,Uh),e[jn]=t.current,Fr(e),new uc(t)},is.hydrateRoot=function(e,t,a){if(!d(e))throw Error(r(299));var l=!1,i="",o=Qd,f=Gd,g=Vd,T=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),t=Sh(e,1,!0,t,a??null,l,i,T,o,f,g,Uh),t.context=wh(null),a=t.current,l=Lt(),l=Wi(l),i=Oa(l),i.callback=null,La(a,i,l),a=l,t.current.lanes=a,pl(t,a),ea(t),e[jn]=t.current,Fr(e),new qi(t)},is.version="19.2.0",is}var Yh;function Ug(){if(Yh)return hc.exports;Yh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),hc.exports=Lg(),hc.exports}var zg=Ug();var Xh="popstate";function kg(s={}){function c(r,d){let{pathname:h,search:m,hash:x}=r.location;return _c("",{pathname:h,search:m,hash:x},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function u(r,d){return typeof d=="string"?d:cs(d)}return $g(c,u,null,s)}function Je(s,c){if(s===!1||s===null||typeof s>"u")throw new Error(c)}function Jt(s,c){if(!s){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function Mg(){return Math.random().toString(36).substring(2,10)}function Zh(s,c){return{usr:s.state,key:s.key,idx:c}}function _c(s,c,u=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof c=="string"?il(c):c,state:u,key:c&&c.key||r||Mg()}}function cs({pathname:s="/",search:c="",hash:u=""}){return c&&c!=="?"&&(s+=c.charAt(0)==="?"?c:"?"+c),u&&u!=="#"&&(s+=u.charAt(0)==="#"?u:"#"+u),s}function il(s){let c={};if(s){let u=s.indexOf("#");u>=0&&(c.hash=s.substring(u),s=s.substring(0,u));let r=s.indexOf("?");r>=0&&(c.search=s.substring(r),s=s.substring(0,r)),s&&(c.pathname=s)}return c}function $g(s,c,u,r={}){let{window:d=document.defaultView,v5Compat:h=!1}=r,m=d.history,x="POP",y=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function _(){x="POP";let N=v(),G=N==null?null:N-p;p=N,y&&y({action:x,location:E.location,delta:G})}function S(N,G){x="PUSH";let V=_c(E.location,N,G);p=v()+1;let w=Zh(V,p),J=E.createHref(V);try{m.pushState(w,"",J)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;d.location.assign(J)}h&&y&&y({action:x,location:E.location,delta:1})}function C(N,G){x="REPLACE";let V=_c(E.location,N,G);p=v();let w=Zh(V,p),J=E.createHref(V);m.replaceState(w,"",J),h&&y&&y({action:x,location:E.location,delta:0})}function b(N){return Bg(N)}let E={get action(){return x},get location(){return s(d,m)},listen(N){if(y)throw new Error("A history only accepts one active listener");return d.addEventListener(Xh,_),y=N,()=>{d.removeEventListener(Xh,_),y=null}},createHref(N){return c(d,N)},createURL:b,encodeLocation(N){let G=b(N);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:C,go(N){return m.go(N)}};return E}function Bg(s,c=!1){let u="http://localhost";typeof window<"u"&&(u=window.location.origin!=="null"?window.location.origin:window.location.href),Je(u,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:cs(s);return r=r.replace(/ $/,"%20"),!c&&r.startsWith("//")&&(r=u+r),new URL(r,u)}function xm(s,c,u="/"){return Hg(s,c,u,!1)}function Hg(s,c,u,r){let d=typeof c=="string"?il(c):c,h=_a(d.pathname||"/",u);if(h==null)return null;let m=gm(s);Qg(m);let x=null;for(let y=0;x==null&&y<m.length;++y){let p=Wg(h);x=Pg(m[y],p,r)}return x}function gm(s,c=[],u=[],r="",d=!1){let h=(m,x,y=d,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:x,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&y)return;Je(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=ba([r,v.relativePath]),S=u.concat(v);m.children&&m.children.length>0&&(Je(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),gm(m.children,c,S,_,y)),!(m.path==null&&!m.index)&&c.push({path:_,score:Jg(_,m.index),routesMeta:S})};return s.forEach((m,x)=>{if(m.path===""||!m.path?.includes("?"))h(m,x);else for(let y of vm(m.path))h(m,x,!0,y)}),c}function vm(s){let c=s.split("/");if(c.length===0)return[];let[u,...r]=c,d=u.endsWith("?"),h=u.replace(/\?$/,"");if(r.length===0)return d?[h,""]:[h];let m=vm(r.join("/")),x=[];return x.push(...m.map(y=>y===""?h:[h,y].join("/"))),d&&x.push(...m),x.map(y=>s.startsWith("/")&&y===""?"/":y)}function Qg(s){s.sort((c,u)=>c.score!==u.score?u.score-c.score:Kg(c.routesMeta.map(r=>r.childrenIndex),u.routesMeta.map(r=>r.childrenIndex)))}var Gg=/^:[\w-]+$/,Vg=3,Fg=2,Yg=1,Xg=10,Zg=-2,Jh=s=>s==="*";function Jg(s,c){let u=s.split("/"),r=u.length;return u.some(Jh)&&(r+=Zg),c&&(r+=Fg),u.filter(d=>!Jh(d)).reduce((d,h)=>d+(Gg.test(h)?Vg:h===""?Yg:Xg),r)}function Kg(s,c){return s.length===c.length&&s.slice(0,-1).every((r,d)=>r===c[d])?s[s.length-1]-c[c.length-1]:0}function Pg(s,c,u=!1){let{routesMeta:r}=s,d={},h="/",m=[];for(let x=0;x<r.length;++x){let y=r[x],p=x===r.length-1,v=h==="/"?c:c.slice(h.length)||"/",_=Gi({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),S=y.route;if(!_&&p&&u&&!r[r.length-1].route.index&&(_=Gi({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!_)return null;Object.assign(d,_.params),m.push({params:d,pathname:ba([h,_.pathname]),pathnameBase:lv(ba([h,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(h=ba([h,_.pathnameBase]))}return m}function Gi(s,c){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[u,r]=Ig(s.path,s.caseSensitive,s.end),d=c.match(u);if(!d)return null;let h=d[0],m=h.replace(/(.)\/+$/,"$1"),x=d.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},S)=>{if(v==="*"){let b=x[S]||"";m=h.slice(0,h.length-b.length).replace(/(.)\/+$/,"$1")}const C=x[S];return _&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:m,pattern:s}}function Ig(s,c=!1,u=!0){Jt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,x,y)=>(r.push({paramName:x,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):u?d+="\\/*$":s!==""&&s!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,c?void 0:"i"),r]}function Wg(s){try{return s.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return Jt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),s}}function _a(s,c){if(c==="/")return s;if(!s.toLowerCase().startsWith(c.toLowerCase()))return null;let u=c.endsWith("/")?c.length-1:c.length,r=s.charAt(u);return r&&r!=="/"?null:s.slice(u)||"/"}var ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tv=s=>ev.test(s);function av(s,c="/"){let{pathname:u,search:r="",hash:d=""}=typeof s=="string"?il(s):s,h;if(u)if(tv(u))h=u;else{if(u.includes("//")){let m=u;u=u.replace(/\/\/+/g,"/"),Jt(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${u}`)}u.startsWith("/")?h=Kh(u.substring(1),"/"):h=Kh(u,c)}else h=c;return{pathname:h,search:sv(r),hash:iv(d)}}function Kh(s,c){let u=c.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?u.length>1&&u.pop():d!=="."&&u.push(d)}),u.length>1?u.join("/"):"/"}function gc(s,c,u,r){return`Cannot include a '${s}' character in a manually specified \`to.${c}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${u}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nv(s){return s.filter((c,u)=>u===0||c.route.path&&c.route.path.length>0)}function ym(s){let c=nv(s);return c.map((u,r)=>r===c.length-1?u.pathname:u.pathnameBase)}function jm(s,c,u,r=!1){let d;typeof s=="string"?d=il(s):(d={...s},Je(!d.pathname||!d.pathname.includes("?"),gc("?","pathname","search",d)),Je(!d.pathname||!d.pathname.includes("#"),gc("#","pathname","hash",d)),Je(!d.search||!d.search.includes("#"),gc("#","search","hash",d)));let h=s===""||d.pathname==="",m=h?"/":d.pathname,x;if(m==null)x=u;else{let _=c.length-1;if(!r&&m.startsWith("..")){let S=m.split("/");for(;S[0]==="..";)S.shift(),_-=1;d.pathname=S.join("/")}x=_>=0?c[_]:"/"}let y=av(d,x),p=m&&m!=="/"&&m.endsWith("/"),v=(h||m===".")&&u.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var ba=s=>s.join("/").replace(/\/\/+/g,"/"),lv=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),sv=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,iv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ov(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bm=["POST","PUT","PATCH","DELETE"];new Set(bm);var rv=["GET",...bm];new Set(rv);var ol=j.createContext(null);ol.displayName="DataRouter";var Fi=j.createContext(null);Fi.displayName="DataRouterState";j.createContext(!1);var _m=j.createContext({isTransitioning:!1});_m.displayName="ViewTransition";var cv=j.createContext(new Map);cv.displayName="Fetchers";var uv=j.createContext(null);uv.displayName="Await";var aa=j.createContext(null);aa.displayName="Navigation";var us=j.createContext(null);us.displayName="Location";var Na=j.createContext({outlet:null,matches:[],isDataRoute:!1});Na.displayName="Route";var Tc=j.createContext(null);Tc.displayName="RouteError";function dv(s,{relative:c}={}){Je(ds(),"useHref() may be used only in the context of a <Router> component.");let{basename:u,navigator:r}=j.useContext(aa),{hash:d,pathname:h,search:m}=fs(s,{relative:c}),x=h;return u!=="/"&&(x=h==="/"?u:ba([u,h])),r.createHref({pathname:x,search:m,hash:d})}function ds(){return j.useContext(us)!=null}function yn(){return Je(ds(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(us).location}var Nm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sm(s){j.useContext(aa).static||j.useLayoutEffect(s)}function wm(){let{isDataRoute:s}=j.useContext(Na);return s?Sv():fv()}function fv(){Je(ds(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(ol),{basename:c,navigator:u}=j.useContext(aa),{matches:r}=j.useContext(Na),{pathname:d}=yn(),h=JSON.stringify(ym(r)),m=j.useRef(!1);return Sm(()=>{m.current=!0}),j.useCallback((y,p={})=>{if(Jt(m.current,Nm),!m.current)return;if(typeof y=="number"){u.go(y);return}let v=jm(y,JSON.parse(h),d,p.relative==="path");s==null&&c!=="/"&&(v.pathname=v.pathname==="/"?c:ba([c,v.pathname])),(p.replace?u.replace:u.push)(v,p.state,p)},[c,u,h,d,s])}j.createContext(null);function fs(s,{relative:c}={}){let{matches:u}=j.useContext(Na),{pathname:r}=yn(),d=JSON.stringify(ym(u));return j.useMemo(()=>jm(s,JSON.parse(d),r,c==="path"),[s,d,r,c])}function hv(s,c){return Em(s,c)}function Em(s,c,u,r,d){Je(ds(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(aa),{matches:m}=j.useContext(Na),x=m[m.length-1],y=x?x.params:{},p=x?x.pathname:"/",v=x?x.pathnameBase:"/",_=x&&x.route;{let V=_&&_.path||"";Cm(p,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let S=yn(),C;if(c){let V=typeof c=="string"?il(c):c;Je(v==="/"||V.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),C=V}else C=S;let b=C.pathname||"/",E=b;if(v!=="/"){let V=v.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(V.length).join("/")}let N=xm(s,{pathname:E});Jt(_||N!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Jt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=vv(N&&N.map(V=>Object.assign({},V,{params:Object.assign({},y,V.params),pathname:ba([v,h.encodeLocation?h.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:ba([v,h.encodeLocation?h.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),m,u,r,d);return c&&G?j.createElement(us.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},G):G}function mv(){let s=Nv(),c=ov(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),u=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:r},h={padding:"2px 4px",backgroundColor:r},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},c),u?j.createElement("pre",{style:d},u):null,m)}var pv=j.createElement(mv,null),xv=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,c){return c.location!==s.location||c.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:c.error,location:c.location,revalidation:s.revalidation||c.revalidation}}componentDidCatch(s,c){this.props.onError?this.props.onError(s,c):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?j.createElement(Na.Provider,{value:this.props.routeContext},j.createElement(Tc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gv({routeContext:s,match:c,children:u}){let r=j.useContext(ol);return r&&r.static&&r.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=c.route.id),j.createElement(Na.Provider,{value:s},u)}function vv(s,c=[],u=null,r=null,d=null){if(s==null){if(!u)return null;if(u.errors)s=u.matches;else if(c.length===0&&!u.initialized&&u.matches.length>0)s=u.matches;else return null}let h=s,m=u?.errors;if(m!=null){let v=h.findIndex(_=>_.route.id&&m?.[_.route.id]!==void 0);Je(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let x=!1,y=-1;if(u)for(let v=0;v<h.length;v++){let _=h[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=v),_.route.id){let{loaderData:S,errors:C}=u,b=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||b){x=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let p=u&&r?(v,_)=>{r(v,{location:u.location,params:u.matches?.[0]?.params??{},errorInfo:_})}:void 0;return h.reduceRight((v,_,S)=>{let C,b=!1,E=null,N=null;u&&(C=m&&_.route.id?m[_.route.id]:void 0,E=_.route.errorElement||pv,x&&(y<0&&S===0?(Cm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):y===S&&(b=!0,N=_.route.hydrateFallbackElement||null)));let G=c.concat(h.slice(0,S+1)),V=()=>{let w;return C?w=E:b?w=N:_.route.Component?w=j.createElement(_.route.Component,null):_.route.element?w=_.route.element:w=v,j.createElement(gv,{match:_,routeContext:{outlet:v,matches:G,isDataRoute:u!=null},children:w})};return u&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?j.createElement(xv,{location:u.location,revalidation:u.revalidation,component:E,error:C,children:V(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:p}):V()},null)}function Ac(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yv(s){let c=j.useContext(ol);return Je(c,Ac(s)),c}function jv(s){let c=j.useContext(Fi);return Je(c,Ac(s)),c}function bv(s){let c=j.useContext(Na);return Je(c,Ac(s)),c}function Dc(s){let c=bv(s),u=c.matches[c.matches.length-1];return Je(u.route.id,`${s} can only be used on routes that contain a unique "id"`),u.route.id}function _v(){return Dc("useRouteId")}function Nv(){let s=j.useContext(Tc),c=jv("useRouteError"),u=Dc("useRouteError");return s!==void 0?s:c.errors?.[u]}function Sv(){let{router:s}=yv("useNavigate"),c=Dc("useNavigate"),u=j.useRef(!1);return Sm(()=>{u.current=!0}),j.useCallback(async(d,h={})=>{Jt(u.current,Nm),u.current&&(typeof d=="number"?s.navigate(d):await s.navigate(d,{fromRouteId:c,...h}))},[s,c])}var Ph={};function Cm(s,c,u){!c&&!Ph[s]&&(Ph[s]=!0,Jt(!1,u))}j.memo(wv);function wv({routes:s,future:c,state:u,unstable_onError:r}){return Em(s,void 0,u,r,c)}function ll(s){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ev({basename:s="/",children:c=null,location:u,navigationType:r="POP",navigator:d,static:h=!1}){Je(!ds(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),x=j.useMemo(()=>({basename:m,navigator:d,static:h,future:{}}),[m,d,h]);typeof u=="string"&&(u=il(u));let{pathname:y="/",search:p="",hash:v="",state:_=null,key:S="default"}=u,C=j.useMemo(()=>{let b=_a(y,m);return b==null?null:{location:{pathname:b,search:p,hash:v,state:_,key:S},navigationType:r}},[m,y,p,v,_,S,r]);return Jt(C!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:j.createElement(aa.Provider,{value:x},j.createElement(us.Provider,{children:c,value:C}))}function Cv({children:s,location:c}){return hv(Nc(s),c)}function Nc(s,c=[]){let u=[];return j.Children.forEach(s,(r,d)=>{if(!j.isValidElement(r))return;let h=[...c,d];if(r.type===j.Fragment){u.push.apply(u,Nc(r.props.children,h));return}Je(r.type===ll,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let m={id:r.props.id||h.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=Nc(r.props.children,h)),u.push(m)}),u}var ki="get",Mi="application/x-www-form-urlencoded";function Yi(s){return s!=null&&typeof s.tagName=="string"}function Rv(s){return Yi(s)&&s.tagName.toLowerCase()==="button"}function Tv(s){return Yi(s)&&s.tagName.toLowerCase()==="form"}function Av(s){return Yi(s)&&s.tagName.toLowerCase()==="input"}function Dv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function qv(s,c){return s.button===0&&(!c||c==="_self")&&!Dv(s)}var Ui=null;function Ov(){if(Ui===null)try{new FormData(document.createElement("form"),0),Ui=!1}catch{Ui=!0}return Ui}var Lv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vc(s){return s!=null&&!Lv.has(s)?(Jt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mi}"`),null):s}function Uv(s,c){let u,r,d,h,m;if(Tv(s)){let x=s.getAttribute("action");r=x?_a(x,c):null,u=s.getAttribute("method")||ki,d=vc(s.getAttribute("enctype"))||Mi,h=new FormData(s)}else if(Rv(s)||Av(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||x.getAttribute("action");if(r=y?_a(y,c):null,u=s.getAttribute("formmethod")||x.getAttribute("method")||ki,d=vc(s.getAttribute("formenctype"))||vc(x.getAttribute("enctype"))||Mi,h=new FormData(x,s),!Ov()){let{name:p,type:v,value:_}=s;if(v==="image"){let S=p?`${p}.`:"";h.append(`${S}x`,"0"),h.append(`${S}y`,"0")}else p&&h.append(p,_)}}else{if(Yi(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');u=ki,r=null,d=Mi,m=s}return h&&d==="text/plain"&&(m=h,h=void 0),{action:r,method:u.toLowerCase(),encType:d,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qc(s,c){if(s===!1||s===null||typeof s>"u")throw new Error(c)}function zv(s,c,u){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${u}`:c&&_a(r.pathname,c)==="/"?r.pathname=`${c.replace(/\/$/,"")}/_root.${u}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${u}`,r}async function kv(s,c){if(s.id in c)return c[s.id];try{let u=await import(s.module);return c[s.id]=u,u}catch(u){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(u),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function $v(s,c,u){let r=await Promise.all(s.map(async d=>{let h=c.routes[d.route.id];if(h){let m=await kv(h,u);return m.links?m.links():[]}return[]}));return Gv(r.flat(1).filter(Mv).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Ih(s,c,u,r,d,h){let m=(y,p)=>u[p]?y.route.id!==u[p].route.id:!0,x=(y,p)=>u[p].pathname!==y.pathname||u[p].route.path?.endsWith("*")&&u[p].params["*"]!==y.params["*"];return h==="assets"?c.filter((y,p)=>m(y,p)||x(y,p)):h==="data"?c.filter((y,p)=>{let v=r.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(m(y,p)||x(y,p))return!0;if(y.route.shouldRevalidate){let _=y.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:u[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Bv(s,c,{includeHydrateFallback:u}={}){return Hv(s.map(r=>{let d=c.routes[r.route.id];if(!d)return[];let h=[d.module];return d.clientActionModule&&(h=h.concat(d.clientActionModule)),d.clientLoaderModule&&(h=h.concat(d.clientLoaderModule)),u&&d.hydrateFallbackModule&&(h=h.concat(d.hydrateFallbackModule)),d.imports&&(h=h.concat(d.imports)),h}).flat(1))}function Hv(s){return[...new Set(s)]}function Qv(s){let c={},u=Object.keys(s).sort();for(let r of u)c[r]=s[r];return c}function Gv(s,c){let u=new Set;return new Set(c),s.reduce((r,d)=>{let h=JSON.stringify(Qv(d));return u.has(h)||(u.add(h),r.push({key:h,link:d})),r},[])}function Rm(){let s=j.useContext(ol);return qc(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Vv(){let s=j.useContext(Fi);return qc(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Oc=j.createContext(void 0);Oc.displayName="FrameworkContext";function Tm(){let s=j.useContext(Oc);return qc(s,"You must render this element inside a <HydratedRouter> element"),s}function Fv(s,c){let u=j.useContext(Oc),[r,d]=j.useState(!1),[h,m]=j.useState(!1),{onFocus:x,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=c,S=j.useRef(null);j.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let E=G=>{G.forEach(V=>{m(V.isIntersecting)})},N=new IntersectionObserver(E,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[s]),j.useEffect(()=>{if(r){let E=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(E)}}},[r]);let C=()=>{d(!0)},b=()=>{d(!1),m(!1)};return u?s!=="intent"?[h,S,{}]:[h,S,{onFocus:os(x,C),onBlur:os(y,b),onMouseEnter:os(p,C),onMouseLeave:os(v,b),onTouchStart:os(_,C)}]:[!1,S,{}]}function os(s,c){return u=>{s&&s(u),u.defaultPrevented||c(u)}}function Yv({page:s,...c}){let{router:u}=Rm(),r=j.useMemo(()=>xm(u.routes,s,u.basename),[u.routes,s,u.basename]);return r?j.createElement(Zv,{page:s,matches:r,...c}):null}function Xv(s){let{manifest:c,routeModules:u}=Tm(),[r,d]=j.useState([]);return j.useEffect(()=>{let h=!1;return $v(s,c,u).then(m=>{h||d(m)}),()=>{h=!0}},[s,c,u]),r}function Zv({page:s,matches:c,...u}){let r=yn(),{manifest:d,routeModules:h}=Tm(),{basename:m}=Rm(),{loaderData:x,matches:y}=Vv(),p=j.useMemo(()=>Ih(s,c,y,d,r,"data"),[s,c,y,d,r]),v=j.useMemo(()=>Ih(s,c,y,d,r,"assets"),[s,c,y,d,r]),_=j.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let b=new Set,E=!1;if(c.forEach(G=>{let V=d.routes[G.route.id];!V||!V.hasLoader||(!p.some(w=>w.route.id===G.route.id)&&G.route.id in x&&h[G.route.id]?.shouldRevalidate||V.hasClientLoader?E=!0:b.add(G.route.id))}),b.size===0)return[];let N=zv(s,m,"data");return E&&b.size>0&&N.searchParams.set("_routes",c.filter(G=>b.has(G.route.id)).map(G=>G.route.id).join(",")),[N.pathname+N.search]},[m,x,r,d,p,c,s,h]),S=j.useMemo(()=>Bv(v,d),[v,d]),C=Xv(v);return j.createElement(j.Fragment,null,_.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...u})),S.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...u})),C.map(({key:b,link:E})=>j.createElement("link",{key:b,nonce:u.nonce,...E})))}function Jv(...s){return c=>{s.forEach(u=>{typeof u=="function"?u(c):u!=null&&(u.current=c)})}}var Am=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Am&&(window.__reactRouterVersion="7.9.6")}catch{}function Kv({basename:s,children:c,window:u}){let r=j.useRef();r.current==null&&(r.current=kg({window:u,v5Compat:!0}));let d=r.current,[h,m]=j.useState({action:d.action,location:d.location}),x=j.useCallback(y=>{j.startTransition(()=>m(y))},[m]);return j.useLayoutEffect(()=>d.listen(x),[d,x]),j.createElement(Ev,{basename:s,children:c,location:h.location,navigationType:h.action,navigator:d})}var Dm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qm=j.forwardRef(function({onClick:c,discover:u="render",prefetch:r="none",relative:d,reloadDocument:h,replace:m,state:x,target:y,to:p,preventScrollReset:v,viewTransition:_,...S},C){let{basename:b}=j.useContext(aa),E=typeof p=="string"&&Dm.test(p),N,G=!1;if(typeof p=="string"&&E&&(N=p,Am))try{let re=new URL(window.location.href),P=p.startsWith("//")?new URL(re.protocol+p):new URL(p),he=_a(P.pathname,b);P.origin===re.origin&&he!=null?p=he+P.search+P.hash:G=!0}catch{Jt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=dv(p,{relative:d}),[w,J,K]=Fv(r,S),k=ey(p,{replace:m,state:x,target:y,preventScrollReset:v,relative:d,viewTransition:_});function z(re){c&&c(re),re.defaultPrevented||k(re)}let ee=j.createElement("a",{...S,...K,href:N||V,onClick:G||h?c:z,ref:Jv(C,J),target:y,"data-discover":!E&&u==="render"?"true":void 0});return w&&!E?j.createElement(j.Fragment,null,ee,j.createElement(Yv,{page:V})):ee});qm.displayName="Link";var Pv=j.forwardRef(function({"aria-current":c="page",caseSensitive:u=!1,className:r="",end:d=!1,style:h,to:m,viewTransition:x,children:y,...p},v){let _=fs(m,{relative:p.relative}),S=yn(),C=j.useContext(Fi),{navigator:b,basename:E}=j.useContext(aa),N=C!=null&&sy(_)&&x===!0,G=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,V=S.pathname,w=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;u||(V=V.toLowerCase(),w=w?w.toLowerCase():null,G=G.toLowerCase()),w&&E&&(w=_a(w,E)||w);const J=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let K=V===G||!d&&V.startsWith(G)&&V.charAt(J)==="/",k=w!=null&&(w===G||!d&&w.startsWith(G)&&w.charAt(G.length)==="/"),z={isActive:K,isPending:k,isTransitioning:N},ee=K?c:void 0,re;typeof r=="function"?re=r(z):re=[r,K?"active":null,k?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof h=="function"?h(z):h;return j.createElement(qm,{...p,"aria-current":ee,className:re,ref:v,style:P,to:m,viewTransition:x},typeof y=="function"?y(z):y)});Pv.displayName="NavLink";var Iv=j.forwardRef(({discover:s="render",fetcherKey:c,navigate:u,reloadDocument:r,replace:d,state:h,method:m=ki,action:x,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:_,...S},C)=>{let b=ny(),E=ly(x,{relative:p}),N=m.toLowerCase()==="get"?"get":"post",G=typeof x=="string"&&Dm.test(x),V=w=>{if(y&&y(w),w.defaultPrevented)return;w.preventDefault();let J=w.nativeEvent.submitter,K=J?.getAttribute("formmethod")||m;b(J||w.currentTarget,{fetcherKey:c,method:K,navigate:u,replace:d,state:h,relative:p,preventScrollReset:v,viewTransition:_})};return j.createElement("form",{ref:C,method:N,action:E,onSubmit:r?y:V,...S,"data-discover":!G&&s==="render"?"true":void 0})});Iv.displayName="Form";function Wv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Om(s){let c=j.useContext(ol);return Je(c,Wv(s)),c}function ey(s,{target:c,replace:u,state:r,preventScrollReset:d,relative:h,viewTransition:m}={}){let x=wm(),y=yn(),p=fs(s,{relative:h});return j.useCallback(v=>{if(qv(v,c)){v.preventDefault();let _=u!==void 0?u:cs(y)===cs(p);x(s,{replace:_,state:r,preventScrollReset:d,relative:h,viewTransition:m})}},[y,x,p,u,r,c,s,d,h,m])}var ty=0,ay=()=>`__${String(++ty)}__`;function ny(){let{router:s}=Om("useSubmit"),{basename:c}=j.useContext(aa),u=_v();return j.useCallback(async(r,d={})=>{let{action:h,method:m,encType:x,formData:y,body:p}=Uv(r,c);if(d.navigate===!1){let v=d.fetcherKey||ay();await s.fetch(v,u,d.action||h,{preventScrollReset:d.preventScrollReset,formData:y,body:p,formMethod:d.method||m,formEncType:d.encType||x,flushSync:d.flushSync})}else await s.navigate(d.action||h,{preventScrollReset:d.preventScrollReset,formData:y,body:p,formMethod:d.method||m,formEncType:d.encType||x,replace:d.replace,state:d.state,fromRouteId:u,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,c,u])}function ly(s,{relative:c}={}){let{basename:u}=j.useContext(aa),r=j.useContext(Na);Je(r,"useFormAction must be used inside a RouteContext");let[d]=r.matches.slice(-1),h={...fs(s||".",{relative:c})},m=yn();if(s==null){h.search=m.search;let x=new URLSearchParams(h.search),y=x.getAll("index");if(y.some(v=>v==="")){x.delete("index"),y.filter(_=>_).forEach(_=>x.append("index",_));let v=x.toString();h.search=v?`?${v}`:""}}return(!s||s===".")&&d.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),u!=="/"&&(h.pathname=h.pathname==="/"?u:ba([u,h.pathname])),cs(h)}function sy(s,{relative:c}={}){let u=j.useContext(_m);Je(u!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Om("useViewTransitionState"),d=fs(s,{relative:c});if(!u.isTransitioning)return!1;let h=_a(u.currentLocation.pathname,r)||u.currentLocation.pathname,m=_a(u.nextLocation.pathname,r)||u.nextLocation.pathname;return Gi(d.pathname,m)!=null||Gi(d.pathname,h)!=null}const iy=""+new URL("GLOBAL-CqU1DgNU.jpg",import.meta.url).href,ue="https://gel-lims.onrender.com";function oy(){const[s,c]=j.useState(""),[u,r]=j.useState(""),[d,h]=j.useState(""),m=async x=>{x.preventDefault();try{const y=new FormData;y.append("username",s),y.append("password",u);const p=await fetch(`${ue}/auth/login`,{method:"POST",body:y});if(!p.ok)throw new Error("Invalid username or password");const v=await p.json();localStorage.setItem("user",JSON.stringify(v)),window.location.href="/dashboard"}catch(y){h(y.message)}};return n.jsxs("div",{style:{backgroundColor:"white",color:"black",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:20},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginBottom:30,borderBottom:"1px solid #ccc",paddingBottom:20,width:"100%",maxWidth:600},children:[n.jsx("div",{style:{marginBottom:15},children:n.jsx("img",{src:iy,alt:"Logo",style:{height:60}})}),n.jsxs("div",{style:{lineHeight:1.4},children:[n.jsx("h1",{style:{margin:"0 0 10px 0",fontSize:24},children:"Global Engineering Laboratory"}),n.jsx("p",{style:{margin:0,fontSize:12},children:"P.O.Box 31758  Dubai, U.A.E, Tel: +971 4 3205363, Fax: +971 4 3205373, e-mail: glab@eim.ae"})]})]}),n.jsxs("div",{style:{width:"100%",maxWidth:400,padding:30,border:"1px solid #ccc",borderRadius:8,boxShadow:"0 0 10px rgba(0,0,0,0.1)",backgroundColor:"white"},children:[n.jsx("h2",{style:{textAlign:"center",marginBottom:20},children:"Login"}),d&&n.jsx("p",{style:{color:"red",textAlign:"center",backgroundColor:"#ffe6e6",padding:10,borderRadius:4,marginBottom:15},children:d}),n.jsxs("form",{onSubmit:m,children:[n.jsx("div",{style:{marginBottom:15},children:n.jsx("input",{type:"text",placeholder:"Username",value:s,onChange:x=>c(x.target.value),style:{width:"100%",padding:12,border:"1px solid #ddd",borderRadius:4,boxSizing:"border-box"},required:!0})}),n.jsx("div",{style:{marginBottom:20},children:n.jsx("input",{type:"password",placeholder:"Password",value:u,onChange:x=>r(x.target.value),style:{width:"100%",padding:12,border:"1px solid #ddd",borderRadius:4,boxSizing:"border-box"},required:!0})}),n.jsx("button",{type:"submit",style:{width:"100%",padding:12,backgroundColor:"#007bff",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontSize:16},children:"Login"})]})]})]})}function ry({onQuotationCreated:s,onBack:c,preSelectedEnquiry:u}){const[r,d]=j.useState({enquiry_id:u?.enquiry_id||"",division:"",payment_terms:"",prepared_under:"",validity_days:30}),[h,m]=j.useState([]),[x,y]=j.useState(!1),[p,v]=j.useState(""),_=[{value:"",label:"Select payment terms"},{value:"CASH",label:"CASH"},{value:"CREDIT",label:"CREDIT"},{value:"50% Advance, 50% on Completion",label:"50% Advance, 50% on Completion"},{value:"30 Days Credit",label:"30 Days Credit"},{value:"60 Days Credit",label:"60 Days Credit"}],S=[{value:"",label:"Select prepared under"},{value:"AR",label:"Abdul Razak (AR)"},{value:"AS",label:"Afroz Shaikh (AS)"},{value:"NONE",label:"None"}];j.useEffect(()=>{C(),u?.enquiry_id&&d(N=>({...N,enquiry_id:u.enquiry_id.toString()}))},[u]);const C=async()=>{try{const N=await fetch(`${ue}/enquiries/`);if(N.ok){const V=(await N.json()).filter(w=>w.status==="APPROVED");m(V),u?.enquiry_id&&!V.find(w=>w.enquiry_id===u.enquiry_id)&&m([u,...V])}}catch(N){console.error("Failed to fetch enquiries:",N)}},b=N=>{d({...r,[N.target.name]:N.target.value})},E=async N=>{N.preventDefault(),y(!0),v("");try{const G={...r,enquiry_id:parseInt(r.enquiry_id),validity_days:parseInt(r.validity_days),prepared_under:r.prepared_under==="NONE"?"":r.prepared_under},V=await fetch(`${ue}/quotations/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(V.ok){const w=await V.json(),J=` Quotation created successfully! Number: ${w.quotation_no}`;v(J),s&&s(w),d({enquiry_id:"",division:"",payment_terms:"",prepared_under:"",validity_days:30})}else{const w=await V.json();v(` Error: ${w.detail}`)}}catch(G){v(` Network error: ${G.message}`)}finally{y(!1)}};return n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h2",{children:"Create New Quotation"}),c&&n.jsx("button",{onClick:c,className:"btn-secondary btn-sm",children:" Back to Enquiries"})]}),u&&n.jsxs("div",{className:"info-banner",style:{background:"#e8f5e8",borderLeft:"4px solid #28a745",padding:"10px 15px",marginTop:"10px",borderRadius:"4px"},children:[n.jsx("strong",{children:"Auto-selected Approved Enquiry:"})," ",u.enquiry_ref," - ",u.project_name]})]}),p&&n.jsx("div",{className:`message ${p.includes("")?"success":"error"}`,children:p}),n.jsxs("form",{onSubmit:E,className:"quotation-form",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"enquiry_id",children:"Select Approved Enquiry *"}),n.jsxs("select",{id:"enquiry_id",name:"enquiry_id",value:r.enquiry_id,onChange:b,required:!0,className:"form-input",children:[n.jsx("option",{value:"",children:"Select an approved enquiry"}),h.map(N=>n.jsxs("option",{value:N.enquiry_id,children:[N.enquiry_ref," - ",N.project_name]},N.enquiry_id))]}),n.jsx("small",{className:"field-hint",children:u?"Auto-selected from approved enquiry. You can change if needed.":"Only approved enquiries can be used for quotations"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"division",children:"Division *"}),n.jsxs("select",{id:"division",name:"division",value:r.division,onChange:b,required:!0,className:"form-input",children:[n.jsx("option",{value:"",children:"Select division"}),n.jsx("option",{value:"MAT",children:"Material Testing"}),n.jsx("option",{value:"GEO",children:"GeoTechnical"}),n.jsx("option",{value:"NDT",children:"NDT"}),n.jsx("option",{value:"CHM",children:"Chemical"}),n.jsx("option",{value:"BIO",children:"Biological"}),n.jsx("option",{value:"ENV",children:"Environmental"}),n.jsx("option",{value:"SPJ",children:"Special Jobs"}),n.jsx("option",{value:"SRV",children:"Survey"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"validity_days",children:"Validity Days"}),n.jsx("input",{type:"number",id:"validity_days",name:"validity_days",value:r.validity_days,onChange:b,min:"1",max:"365",className:"form-input"}),n.jsx("small",{className:"field-hint",children:"Default: 30 days"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"payment_terms",children:"Payment Terms *"}),n.jsx("select",{id:"payment_terms",name:"payment_terms",value:r.payment_terms,onChange:b,required:!0,className:"form-input",children:_.map(N=>n.jsx("option",{value:N.value,children:N.label},N.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"prepared_under",children:"Prepared Under *"}),n.jsx("select",{id:"prepared_under",name:"prepared_under",value:r.prepared_under,onChange:b,required:!0,className:"form-input",children:S.map(N=>n.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"submit",disabled:x,className:"btn-primary",children:x?"Creating...":"Create Quotation"}),c&&n.jsx("button",{type:"button",onClick:c,className:"btn-secondary",children:"Cancel"})]})]})]})}function Lm({quotation:s,onClose:c,onStatusUpdate:u,onQuotationUpdate:r}){const[d,h]=j.useState(s),[m,x]=j.useState(!1),[y,p]=j.useState(!1),[v,_]=j.useState([]),[S,C]=j.useState(""),[b,E]=j.useState({description:"",test_standard:"",unit_rate:"",quantity:1}),[N,G]=j.useState({catalog_id:"",quantity:1}),[V,w]=j.useState(!1),[J,K]=j.useState(""),[k,z]=j.useState(""),[ee,re]=j.useState(null),[P,he]=j.useState(""),[ne,H]=j.useState(""),[Y,F]=j.useState(null),O=["Admixture","Aggregate","Asphalt","Blocks/Tiles","Cement/Materials","Concrete","Fresh Concrete","Geotechnical","Grout","Hardened Concrete","In-Situ","Lab","NDT","Rebound","Soil","Steel","Storage","Water","Waterproofing"],I=d.status==="REJECTED",de=j.useMemo(()=>S.trim()?v.filter(W=>W.description.toLowerCase().includes(S.toLowerCase())).slice(0,10):[],[S,v]),pe=async()=>{try{w(!0);const W=await fetch(`${ue}/quotations/${s.quotation_id}`);if(W.ok){const ce=await W.json();h(ce)}}catch(W){console.error("Failed to fetch fresh quotation data:",W.message)}finally{w(!1)}};j.useEffect(()=>{pe()},[s.quotation_id]),j.useEffect(()=>{y&&!I&&je()},[y,I]);const je=async()=>{try{w(!0),K("Starting to fetch catalog items...");const W=await fetch(`${ue}/quotations/price-catalog/`);if(K(`Response status: ${W.status}`),W.ok){const ce=await W.json();K(`Received ${ce.length} catalog items`),console.log("Catalog items:",ce);const ve=ce.filter(xe=>xe.active===!0);_(ve),K(xe=>xe+` | ${ve.length} active items`)}else{const ce=await W.text();K(`Error: ${W.status} - ${ce}`),console.error("Failed to fetch catalog items:",ce)}}catch(W){K(`Network error: ${W.message}`),console.error("Failed to fetch catalog items:",W)}finally{w(!1)}},R=j.useMemo(()=>{if(!Y)return[];const W=Y.replace(/\s+/g,"").toLowerCase();return v.filter(ce=>ce.group_name?ce.group_name.replace(/\s+/g,"").toLowerCase()===W:!1)},[v,Y]),A=async W=>{if(window.confirm("Are you sure you want to delete this item?"))try{const ce=await fetch(`${ue}/quotations/${d.quotation_id}/items/${W}`,{method:"DELETE"});if(ce.ok)z(" Item deleted successfully"),h(ve=>({...ve,items:ve.items.filter((xe,Se)=>Se!==W)})),await pe();else{const ve=await ce.json();z(` Failed to delete: ${ve.detail||"Unknown error"}`)}}catch(ce){console.error("Failed to delete item:",ce),z(` Network error: ${ce.message}`)}},te=(W,ce,ve)=>{re(W),he(ce),H(ve||"")},fe=async W=>{if(P==="quantity"&&ne<=0){z(" Quantity must be greater than 0");return}if(P==="unit_rate"&&ne<0){z(" Unit rate cannot be negative");return}try{const ce={};P==="quantity"?ce.quantity=parseInt(ne):P==="unit_rate"?ce.unit_rate=parseFloat(ne):P==="test_standard"&&(ce.test_standard=ne);const ve=await fetch(`${ue}/quotations/${d.quotation_id}/items/${W}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(ve.ok){const xe=await ve.json();z(` ${xe.message||"Updated successfully"}`),h(Se=>{const ye=[...Se.items];return P==="quantity"?ye[W]={...ye[W],quantity:parseInt(ne),amount:xe.new_amount}:P==="unit_rate"?ye[W]={...ye[W],unit_rate:parseFloat(ne),amount:xe.new_amount}:P==="test_standard"&&(ye[W]={...ye[W],test_standard:ne}),{...Se,items:ye,total_amount:xe.totals?.total_amount||Se.total_amount,vat:xe.totals?.vat||Se.vat,grand_total:xe.totals?.grand_total||Se.grand_total}}),re(null),he(""),H(""),await pe()}else{const xe=await ve.json();z(` Failed to update ${P}: ${xe.detail||"Unknown error"}`)}}catch(ce){console.error(`Failed to update ${P}:`,ce),z(` Network error: ${ce.message}`)}},Q=()=>{re(null),he(""),H("")},se=async W=>{W.preventDefault();try{const ce={description:b.description,test_standard:b.test_standard,unit_rate:parseFloat(b.unit_rate),quantity:parseInt(b.quantity)},ve=await fetch(`${ue}/quotations/${d.quotation_id}/items`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(ve.ok)E({description:"",test_standard:"",unit_rate:"",quantity:1}),x(!1),await pe();else{const xe=await ve.json();z(` Failed to add item: ${xe.detail}`)}}catch(ce){console.error("Failed to add custom item:",ce),z(` Network error: ${ce.message}`)}},D=async W=>{try{const ce={catalog_id:W.catalog_id,quantity:1};console.log("Adding catalog item:",ce);const ve=await fetch(`${ue}/quotations/${d.quotation_id}/items/from-catalog`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(ve.ok)z(" Item added successfully"),await pe();else{const xe=await ve.json();console.error("Failed to add catalog item:",xe),z(` Failed to add item: ${xe.detail}`)}}catch(ce){console.error("Failed to add catalog item:",ce),z(` Network error: ${ce.message}`)}},q=async()=>{try{w(!0);const W=await fetch(`${ue}/quotations/${d.quotation_id}/download`);if(W.ok){const ce=await W.blob(),ve=window.URL.createObjectURL(ce),xe=document.createElement("a");xe.href=ve,xe.download=`Quotation_${d.quotation_no}.docx`,document.body.appendChild(xe),xe.click(),window.URL.revokeObjectURL(ve),document.body.removeChild(xe),z(" Quotation downloaded successfully")}else z(" Failed to download quotation")}catch(W){z(` Download error: ${W.message}`)}finally{w(!1)}},oe=(W,ce,ve,xe)=>ee===W&&P===ce?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[ce==="test_standard"?n.jsx("input",{type:"text",value:ne,onChange:Se=>H(Se.target.value),style:{width:"150px",padding:"3px 5px",border:"1px solid #007bff",borderRadius:"3px"},autoFocus:!0}):n.jsx("input",{type:"number",value:ne,onChange:Se=>H(Se.target.value),min:ce==="quantity"?"1":"0",step:ce==="unit_rate"?"0.01":"1",style:{width:ce==="unit_rate"?"100px":"70px",padding:"3px 5px",border:"1px solid #007bff",borderRadius:"3px"},autoFocus:!0}),n.jsx("button",{onClick:()=>fe(W),style:{background:"#28a745",color:"white",border:"none",borderRadius:"3px",padding:"3px 8px",fontSize:"12px",cursor:"pointer"},children:""}),n.jsx("button",{onClick:Q,style:{background:"#6c757d",color:"white",border:"none",borderRadius:"3px",padding:"3px 8px",fontSize:"12px",cursor:"pointer"},children:""})]}):n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[n.jsx("span",{children:xe}),!I&&n.jsx("button",{onClick:()=>te(W,ce,ve),className:"edit-btn",title:`Edit ${ce==="unit_rate"?"Unit Rate":ce==="quantity"?"Quantity":"Test Standard"}`,style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:"12px",padding:"0 5px"},children:""})]});return n.jsx("div",{className:"quotation-details-overlay",children:n.jsxs("div",{className:"quotation-details-modal",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Quotation Details: ",d.quotation_no]}),n.jsx("button",{onClick:c,className:"close-btn",children:""})]}),k&&n.jsx("div",{className:"message-info",style:{background:k.includes("")?"#d4edda":"#f8d7da",border:k.includes("")?"1px solid #c3e6cb":"1px solid #f5c6cb",color:k.includes("")?"#155724":"#721c24",padding:"10px",margin:"10px 0",borderRadius:"4px",fontSize:"14px"},children:k}),n.jsx("div",{className:"quotation-info",children:n.jsxs("div",{className:"info-grid",children:[n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Client:"}),n.jsx("span",{children:d.client_name})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Project:"}),n.jsx("span",{children:d.project_name})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Division:"}),n.jsx("span",{children:d.division})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Status:"}),n.jsx("span",{className:`status-badge status-${d.status.toLowerCase()}`,children:d.status})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Total Amount:"}),n.jsxs("span",{className:"amount",children:["AED ",d.grand_total?.toFixed(2)]})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"VAT (5%):"}),n.jsxs("span",{children:["AED ",d.vat?.toFixed(2)]})]})]})}),n.jsxs("div",{className:"items-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx("h4",{children:"Quotation Items"}),!I&&n.jsxs("div",{className:"item-action-buttons",children:[n.jsx("button",{onClick:()=>{p(!y),x(!1),F(null),K("")},className:"btn-primary btn-sm",disabled:V,children:V?"Loading Catalog...":y?"Cancel":"+ From Catalog"}),n.jsx("button",{onClick:()=>{x(!m),p(!1),F(null),K("")},className:"btn-secondary btn-sm",children:m?"Cancel":"+ Custom Item"})]})]}),y&&!I&&n.jsxs("div",{className:"catalog-selection-area",children:[n.jsxs("div",{className:"catalog-header",children:[n.jsx("h3",{children:Y?`Tests under ${Y}`:"Select Test Category"}),Y&&n.jsx("button",{className:"btn-back-link",onClick:()=>{F(null),C("")},style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",fontSize:"14px",padding:"5px 10px",textDecoration:"underline"},children:" Back to Groups"})]}),!Y&&n.jsxs("div",{className:"live-search-container",style:{marginBottom:"20px",position:"relative"},children:[n.jsx("input",{type:"text",placeholder:" Search tests (e.g., MDD, Cube, etc.)",value:S,onChange:W=>C(W.target.value),className:"search-input",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}}),S&&n.jsx("div",{className:"search-results-dropdown",style:{position:"absolute",top:"50px",left:0,right:0,background:"white",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",borderRadius:"8px",maxHeight:"300px",overflowY:"auto"},children:de.length>0?de.map(W=>n.jsxs("div",{className:"search-result-item",onClick:()=>{D(W),C("")},style:{padding:"10px",borderBottom:"1px solid #eee",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("strong",{children:W.description||"No Code"})," - ",W.code,n.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"2px"},children:[W.test_standard,"  AED ",W.unit_rate]})]}),n.jsx("span",{style:{color:"#007bff",fontWeight:"bold"},children:"+ Add"})]},W.catalog_id)):n.jsxs("div",{style:{padding:"10px",color:"#888"},children:['No tests found for "',S,'"']})})]}),Y?n.jsx("div",{className:"catalog-items-list",children:R.length>0?n.jsxs("table",{className:"catalog-table",style:{width:"100%",borderCollapse:"collapse",margin:"15px 0"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{padding:"10px",background:"#f1f1f1",textAlign:"left"},children:"Description"}),n.jsx("th",{style:{padding:"10px",background:"#f1f1f1",textAlign:"left"},children:"Standard"}),n.jsx("th",{style:{padding:"10px",background:"#f1f1f1",textAlign:"left"},children:"Rate"}),n.jsx("th",{style:{padding:"10px",background:"#f1f1f1",textAlign:"left"},children:"Action"})]})}),n.jsx("tbody",{children:R.map(W=>n.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[n.jsx("td",{style:{padding:"10px"},children:W.description}),n.jsx("td",{style:{padding:"10px"},children:W.test_standard}),n.jsxs("td",{style:{padding:"10px"},children:["AED ",W.unit_rate]}),n.jsx("td",{style:{padding:"10px"},children:n.jsx("button",{className:"btn-add-small",onClick:()=>D(W),style:{background:"#28a745",color:"white",border:"none",borderRadius:"4px",padding:"5px 10px",cursor:"pointer",fontSize:"12px"},children:"+ Add"})})]},W.catalog_id))})]}):n.jsx("p",{className:"no-data",style:{padding:"20px",textAlign:"center",color:"#666",fontStyle:"italic"},children:"No tests found in this category."})}):n.jsx("div",{className:"groups-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"10px",margin:"15px 0"},children:O.map(W=>n.jsx("div",{className:"group-card",onClick:()=>F(W),style:{padding:"15px",border:"1px solid #ddd",borderRadius:"6px",textAlign:"center",cursor:"pointer",background:"#f8f9fa",transition:"all 0.2s",fontSize:"14px",fontWeight:"500"},onMouseEnter:ce=>ce.currentTarget.style.background="#e9ecef",onMouseLeave:ce=>ce.currentTarget.style.background="#f8f9fa",children:W},W))}),n.jsx("button",{className:"btn-secondary",style:{marginTop:"15px",padding:"8px 16px"},onClick:()=>{p(!1),F(null),C("")},children:"Cancel"})]}),m&&!I&&n.jsx("form",{onSubmit:se,className:"add-item-form",children:n.jsxs("div",{className:"form-row",children:[n.jsx("input",{type:"text",placeholder:"Description *",value:b.description,onChange:W=>E({...b,description:W.target.value}),required:!0,className:"form-input-sm"}),n.jsx("input",{type:"text",placeholder:"Test Standard",value:b.test_standard,onChange:W=>E({...b,test_standard:W.target.value}),className:"form-input-sm"}),n.jsx("input",{type:"number",placeholder:"Unit Rate *",value:b.unit_rate,onChange:W=>E({...b,unit_rate:W.target.value}),required:!0,min:"0",step:"0.01",className:"form-input-sm"}),n.jsx("input",{type:"number",placeholder:"Quantity *",value:b.quantity,onChange:W=>E({...b,quantity:W.target.value}),required:!0,min:"1",className:"form-input-sm"}),n.jsx("button",{type:"submit",className:"btn-success btn-sm",children:"Add Custom"})]})}),n.jsxs("table",{className:"items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{width:"30%"},children:"Description"}),n.jsx("th",{style:{width:"20%"},children:"Test Standard"}),n.jsx("th",{style:{width:"15%"},children:"Unit Rate"}),n.jsx("th",{style:{width:"10%"},children:"Quantity"}),n.jsx("th",{style:{width:"15%"},children:"Amount"}),n.jsx("th",{style:{width:"10%"},children:"Actions"})]})}),n.jsxs("tbody",{children:[d.items?.map((W,ce)=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:n.jsx("span",{children:W.description})})}),n.jsx("td",{children:oe(ce,"test_standard",W.test_standard,W.test_standard||"-")}),n.jsx("td",{children:oe(ce,"unit_rate",W.unit_rate,W.unit_rate?.toFixed(2))}),n.jsx("td",{children:oe(ce,"quantity",W.quantity,W.quantity)}),n.jsxs("td",{children:["AED ",W.amount?.toFixed(2)]}),n.jsx("td",{children:!I&&n.jsx("span",{onClick:()=>A(ce),title:"Delete item",style:{cursor:"pointer",color:"red"},children:""})})]},ce)),(!d.items||d.items.length===0)&&n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"no-items",children:"No items added yet"})})]})]})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{onClick:q,disabled:V,className:"btn-primary",style:{marginRight:"10px"},children:V?"Downloading...":" Download"}),n.jsx("button",{onClick:c,className:"btn-secondary",children:"Close"})]})]})})}function cy({onStatusUpdate:s}){const[c,u]=j.useState([]),[r,d]=j.useState([]),[h,m]=j.useState(!0),[x,y]=j.useState(""),[p,v]=j.useState(null),[_,S]=j.useState(!1);j.useEffect(()=>(C(),window.addEventListener("focus",C),()=>{window.removeEventListener("focus",C)}),[]),j.useEffect(()=>{_||C()},[_]);const C=async(w=!1)=>{try{w||m(!0);const J=await fetch(`${ue}/quotations/`);if(J.ok){const K=await J.json();u(K);const k=K.filter(z=>z.status==="DRAFT"||z.status==="SENT");d(k),y("")}else y(" Failed to fetch quotations")}catch(J){y(` Network error: ${J.message}`)}finally{m(!1)}},b=w=>{u(J=>J.map(K=>K.quotation_id===w.quotation_id?{...K,...w}:K)),d(J=>J.map(K=>K.quotation_id===w.quotation_id?{...K,...w}:K))},E=async(w,J)=>{try{const K=await fetch(`${ue}/quotations/${w}/${J}`,{method:"POST"});if(K.ok){const k=await K.json();u(re=>re.map(P=>P.quotation_id===w?{...P,status:J.toUpperCase()}:P)),d(re=>re.map(he=>he.quotation_id===w?{...he,status:J.toUpperCase()}:he).filter(he=>he.status==="DRAFT"||he.status==="SENT"));const z=c.find(re=>re.quotation_id===w),ee=z?z.quotation_no:`ID: ${w}`;y(` Quotation ${ee} ${J}ed successfully`),S(!1),v(null),setTimeout(()=>{C(!0)},500),s&&s(ee,{approve:"APPROVED",reject:"REJECTED",clarification:"CLARIFICATION",send:"SENT",revision:"REVISION"}[J]||J.toUpperCase())}else{const k=await K.json();y(` Failed to ${J}: ${k.detail}`)}}catch(K){y(` Network error: ${K.message}`)}},N=async w=>{try{const J=await fetch(`${ue}/quotations/${w}`);if(J.ok){const K=await J.json();v(K),S(!0)}}catch(J){y(` Failed to fetch quotation details: ${J.message}`)}},G=w=>{const K={DRAFT:{class:"draft",label:"Draft"},SENT:{class:"sent",label:"Sent"},APPROVED:{class:"approved",label:"Approved"},REJECTED:{class:"rejected",label:"Rejected"},CLARIFICATION:{class:"clarification",label:"Clarification"}}[w]||{class:"default",label:w};return n.jsx("span",{className:`status-badge status-${K.class}`,children:K.label})},V=w=>{switch(w.status){case"DRAFT":return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>E(w.quotation_id,"send"),className:"btn-send",children:"Send"}),n.jsx("button",{onClick:()=>N(w.quotation_id),className:"view-btn",children:"View"})]});case"SENT":return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>E(w.quotation_id,"approve"),className:"btn-approve",children:"Approve"}),n.jsx("button",{onClick:()=>E(w.quotation_id,"reject"),className:"btn-reject",children:"Reject"}),n.jsx("button",{onClick:()=>E(w.quotation_id,"clarification"),className:"btn-clarify",children:"Clarify"}),n.jsx("button",{onClick:()=>N(w.quotation_id),className:"view-btn",children:"View"})]});case"CLARIFICATION":return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>E(w.quotation_id,"revision"),className:"revision-btn",children:"Revision"}),n.jsx("button",{onClick:()=>N(w.quotation_id),className:"view-btn",children:"View"})]});default:return n.jsx("button",{onClick:()=>N(w.quotation_id),className:"view-btn",children:"View"})}};return h?n.jsx("div",{className:"loading",children:"Loading quotations..."}):n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsx("h2",{children:"Add Tests To Quotation"}),n.jsx("div",{className:"results-header"})]}),x&&n.jsx("div",{className:`message ${x.includes("")?"success":"error"}`,children:x}),n.jsx("div",{className:"refresh-section",children:n.jsx("button",{onClick:()=>C(),className:"btn-refresh",children:" Refresh List"})}),_&&p&&n.jsx(Lm,{quotation:p,onClose:()=>{S(!1),C(!0)},onStatusUpdate:E,onQuotationUpdate:w=>{b(w),C(!0)}}),r.length===0?n.jsxs("div",{className:"no-results",children:[n.jsx("div",{className:"no-results-icon",children:""}),n.jsx("h3",{children:"No Quotations Found"}),n.jsx("p",{children:"(No Quotations with DRAFT or SENT status found)"}),n.jsx("button",{onClick:C,className:"reset-filters-btn",children:"Refresh"})]}):n.jsx("div",{className:"quotation-table-container",children:n.jsxs("table",{className:"quotation-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Quotation No"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Enquiry Ref"}),n.jsx("th",{children:"Division"}),n.jsx("th",{children:"Revision"}),n.jsx("th",{children:"Total Amount"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:r.map(w=>n.jsxs("tr",{children:[n.jsx("td",{className:"quotation-no",children:w.quotation_no}),n.jsx("td",{className:"client-name",children:w.client_name||"N/A"}),n.jsx("td",{className:"enquiry-ref",children:w.enquiry_ref||"N/A"}),n.jsx("td",{className:"division",children:w.division}),n.jsxs("td",{className:"revision",children:["V",w.revision]}),n.jsxs("td",{className:"amount",children:["AED ",w.grand_total?.toFixed(2)||"0.00"]}),n.jsx("td",{className:"status",children:G(w.status)}),n.jsx("td",{className:"actions",children:V(w)})]},w.quotation_id))})]})})]})}function Um(){const[s,c]=j.useState({quotation_id:"",project_name:"",location:"",lpo_no:"",lpo_date:""}),[u,r]=j.useState([]),[d,h]=j.useState(null),[m,x]=j.useState(!1),[y,p]=j.useState(""),[v,_]=j.useState(null),[S,C]=j.useState(null);j.useEffect(()=>{b()},[]);const b=async()=>{try{const w=await fetch(`${ue}/quotations/`);if(w.ok){const k=(await w.json()).filter(z=>z.status==="APPROVED").sort((z,ee)=>ee.quotation_id-z.quotation_id).slice(0,10);r(k)}}catch(w){console.error("Failed to fetch quotations:",w)}},E=async w=>{const{name:J,value:K}=w.target;if(c(k=>({...k,[J]:K})),J==="quotation_id"&&K){const k=u.find(z=>z.quotation_id===parseInt(K));if(k){h(k);try{const z=await fetch(`${ue}/quotations/${k.quotation_id}`);if(z.ok){const ee=await z.json();c(re=>({...re,project_name:ee.project_name||"",location:ee.location||""}))}}catch(z){console.error("Failed to fetch quotation details:",z)}}}},N=w=>{const J=w.target.files[0];_(J)},G=async w=>{if(!v)return{success:!0,message:"No LPO file to upload"};const J=new FormData;J.append("file",v);try{const K=await fetch(`${ue}/projects/${w}/upload-lpo`,{method:"POST",body:J});return K.ok?{success:!0,message:` LPO uploaded: ${(await K.json()).file_name}`}:{success:!1,message:` LPO upload failed: ${(await K.json()).detail}`}}catch(K){return{success:!1,message:` Network error: ${K.message}`}}},V=async w=>{w.preventDefault(),x(!0),p("");try{const J={quotation_id:parseInt(s.quotation_id),project_name:s.project_name,location:s.location,lpo_no:s.lpo_no||void 0,lpo_date:s.lpo_date||void 0},K=await fetch(`${ue}/projects/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)});if(!K.ok){const re=await K.json();p(` Project creation failed: ${re.detail}`),x(!1);return}const k=await K.json(),z=k.project_id;C(z);let ee=` Project created successfully! Number: ${k.project_no}`;if(v){const re=await G(z);ee+=`
${re.message}`}p(ee),c({quotation_id:"",project_name:"",location:"",lpo_no:"",lpo_date:""}),_(null),h(null)}catch(J){p(` Network error: ${J.message}`)}finally{x(!1)}};return n.jsxs("div",{className:"module-content",children:[n.jsx("div",{className:"module-header",children:n.jsx("h2",{children:"Create New Project"})}),y&&n.jsx("div",{className:`message ${y.includes("")?"success":"error"}`,children:y.split(`
`).map((w,J)=>n.jsx("div",{children:w},J))}),n.jsxs("form",{onSubmit:V,className:"project-form",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"quotation_id",children:"Select Approved Quotation *"}),n.jsxs("select",{id:"quotation_id",name:"quotation_id",value:s.quotation_id,onChange:E,required:!0,className:"form-input",children:[n.jsx("option",{value:"",children:"Select an approved quotation"}),u.map(w=>n.jsxs("option",{value:w.quotation_id,children:[w.quotation_no," - ",w.client_name]},w.quotation_id))]}),n.jsx("small",{className:"field-hint",children:"Only approved quotations can be converted to projects"})]}),d&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"project_name",children:"Project Name *"}),n.jsx("input",{type:"text",id:"project_name",name:"project_name",value:s.project_name,onChange:E,required:!0,placeholder:"Enter project name",className:"form-input"}),n.jsx("small",{className:"field-hint",children:"Auto-filled from quotation"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"location",children:"Location *"}),n.jsx("input",{type:"text",id:"location",name:"location",value:s.location,onChange:E,required:!0,placeholder:"Enter location",className:"form-input"}),n.jsx("small",{className:"field-hint",children:"Auto-filled from quotation"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"lpo_no",children:"LPO Number"}),n.jsx("input",{type:"text",id:"lpo_no",name:"lpo_no",value:s.lpo_no,onChange:E,placeholder:"Enter LPO number",className:"form-input"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"lpo_date",children:"LPO Date"}),n.jsx("input",{type:"date",id:"lpo_date",name:"lpo_date",value:s.lpo_date,onChange:E,className:"form-input"})]}),n.jsxs("div",{className:"form-group full-width",children:[n.jsx("label",{htmlFor:"lpo_file",children:"Upload LPO Document"}),n.jsx("input",{type:"file",id:"lpo_file",name:"lpo_file",onChange:N,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",className:"form-input"}),n.jsxs("small",{className:"field-hint",children:["Supported formats: PDF, Word, Images",v&&` - Selected: ${v.name}`]})]})]})]}),n.jsx("div",{className:"form-actions",children:n.jsx("button",{type:"submit",disabled:m||!s.quotation_id,className:"btn-primary",children:m?"Creating Project...":"Create Project & Upload LPO"})})]}),d&&n.jsxs("div",{className:"quotation-preview",style:{marginTop:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[n.jsx("h4",{children:"Selected Quotation Details"}),n.jsxs("div",{className:"info-grid",children:[n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Quotation No:"}),n.jsx("span",{children:d.quotation_no})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Client:"}),n.jsx("span",{children:d.client_name})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Division:"}),n.jsx("span",{children:d.division})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("label",{children:"Total Amount:"}),n.jsxs("span",{children:["AED ",d.grand_total?.toFixed(2)]})]})]})]})]})}function zm(){const[s,c]=j.useState([]),[u,r]=j.useState(!0),[d,h]=j.useState(""),[m,x]=j.useState(null),[y,p]=j.useState(null),[v,_]=j.useState({}),[S,C]=j.useState({project_name:"",lpo_no:"",lpo_date:""}),[b,E]=j.useState({}),[N,G]=j.useState(!1);j.useEffect(()=>{V()},[]);const V=async()=>{try{r(!0);const H=await fetch(`${ue}/projects/projects`);if(H.ok){const Y=await H.json();c(Y),h("")}else{const Y=await H.text();h(" Failed to fetch projects")}}catch(H){h(` Network error: ${H.message}`)}finally{r(!1)}},w=async H=>{const Y=H.status,F=Y==="ACTIVE"?"INACTIVE":"ACTIVE";if(window.confirm(`Are you sure you want to change project status from ${Y} to ${F}?`))try{const O={status:F,halted_date:F==="INACTIVE"?new Date().toISOString().split("T")[0]:null},I=await fetch(`${ue}/projects/${H.project_id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(I.ok){const de=await I.json();c(pe=>pe.map(je=>je.project_id===H.project_id?{...je,status:de.status,halted_date:de.halted_date}:je)),y&&y.project_id===H.project_id&&p(pe=>({...pe,status:de.status,halted_date:de.halted_date})),_(F==="INACTIVE"?pe=>({...pe,[H.project_id]:de.halted_date}):pe=>{const je={...pe};return delete je[H.project_id],je}),h(` Project status changed to ${F}`)}else{const de=await I.json();h(` Error: ${de.detail||"Failed to update status"}`)}}catch(O){h(` Network error: ${O.message}`)}},J=async H=>{try{const Y=await fetch(`${ue}/projects/${H.project_id}`);if(Y.ok){const F=await Y.json();p(F)}else h(" Failed to fetch project details")}catch(Y){h(` Network error: ${Y.message}`)}},K=()=>{p(null)},k=H=>{x(H),C({project_name:H.project_name||"",lpo_no:H.lpo_no||"",lpo_date:H.lpo_date||""}),E(Y=>({...Y,[H.project_id]:null}))},z=()=>{x(null),C({project_name:"",lpo_no:"",lpo_date:""})},ee=async H=>{if(H.preventDefault(),!!m)try{const Y={quotation_id:m.quotation_id,project_name:S.project_name,location:m.location,lpo_no:S.lpo_no||void 0,lpo_date:S.lpo_date||void 0},F=await fetch(`${ue}/projects/${m.project_id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(F.ok){const O=await F.json();h(" Project updated successfully!"),x(null),V()}else{const O=await F.json();h(` Error: ${O.detail}`)}}catch(Y){h(` Network error: ${Y.message}`)}},re=(H,Y)=>{Y&&E(F=>({...F,[H]:Y}))},P=async H=>{const Y=b[H];if(!Y){h(" Please select a file first");return}G(!0);const F=new FormData;F.append("file",Y);try{h(" Uploading file...");const O=await fetch(`${ue}/projects/${H}/upload-lpo`,{method:"POST",body:F});if(O.ok){const I=await O.json();h(` LPO file uploaded successfully: ${I.file_name}`),E(de=>({...de,[H]:null})),V()}else{const I=await O.json();h(` Failed to upload LPO: ${I.detail}`)}}catch(O){h(` Network error during upload: ${O.message}`)}finally{G(!1)}},he=H=>{window.open(`${ue}/projects/${H}/download-lpo`,"_blank")},ne=({project:H,onClose:Y})=>n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:n.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #e0e0e0",paddingBottom:"15px"},children:[n.jsx("h2",{style:{margin:0,color:"#333"},children:"Project Details"}),n.jsx("button",{onClick:Y,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666"},children:""})]}),n.jsxs("div",{style:{display:"grid",gap:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:"Project Number:"}),n.jsx("span",{children:H.project_no})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:"Project Name:"}),n.jsx("span",{children:H.project_name})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:"Client:"}),n.jsx("span",{children:H.client_name||"N/A"})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:"Location:"}),n.jsx("span",{children:H.location})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:"Quotation No:"}),n.jsx("span",{children:H.quotation_no||"N/A"})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:"LPO Number:"}),n.jsx("span",{children:H.lpo_no||"-"})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:"LPO Date:"}),n.jsx("span",{children:H.lpo_date||"-"})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:"Status:"}),n.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",backgroundColor:H.status==="ACTIVE"?"#d4edda":"#f8d7da",color:H.status==="ACTIVE"?"#155724":"#721c24"},children:H.status})]}),n.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #e9ecef"},children:[n.jsx("strong",{style:{display:"block",marginBottom:"8px"},children:"LPO Document:"}),H.lpo_file?n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("span",{style:{background:"#e9ecef",padding:"6px 12px",borderRadius:"4px",fontSize:"14px",flex:1},children:H.lpo_file}),n.jsx("button",{onClick:()=>he(H.project_id),style:{background:"#007bff",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:" View LPO"})]}):n.jsx("div",{style:{color:"#6c757d",fontStyle:"italic"},children:"No LPO document uploaded"})]})]}),n.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end",gap:"12px",borderTop:"1px solid #e0e0e0",paddingTop:"20px"},children:n.jsx("button",{onClick:Y,style:{background:"#6c757d",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Close"})})]})});return u?n.jsx("div",{className:"module-content",children:n.jsx("div",{className:"loading",children:"Loading projects..."})}):y?n.jsx(ne,{project:y,onClose:K}):n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsxs("div",{children:[n.jsx("h2",{children:"All Projects"}),n.jsxs("div",{className:"project-count",children:[s.length," project",s.length!==1?"s":""," found"]})]}),n.jsx("button",{onClick:()=>window.location.href="/projects/create",children:"+ Create New Project"})]}),d&&n.jsx("div",{className:`message ${d.includes("")?"success":"error"}`,children:d}),n.jsx("button",{onClick:V,children:" Refresh List"}),s.length===0?n.jsxs("div",{className:"no-data",children:[n.jsx("h3",{children:"No Projects Found"}),n.jsx("button",{onClick:()=>window.location.href="/projects/create",children:"+ Create First Project"})]}):n.jsx("div",{className:"projects-table-container",children:n.jsxs("table",{className:"projects-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Project No"}),n.jsx("th",{children:"Project Name"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Location"}),n.jsx("th",{children:"Quotation No"}),n.jsx("th",{children:"LPO No"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:s.map(H=>n.jsxs("tr",{children:[n.jsx("td",{children:H.project_no}),n.jsx("td",{children:m?.project_id===H.project_id?n.jsx("input",{type:"text",value:S.project_name,onChange:Y=>C({...S,project_name:Y.target.value}),style:{padding:"6px",border:"1px solid #ccc",borderRadius:"4px",width:"100%",fontSize:"14px"}}):H.project_name}),n.jsx("td",{children:H.client_name||"N/A"}),n.jsx("td",{children:H.location}),n.jsx("td",{children:H.quotation_no||"N/A"}),n.jsx("td",{children:m?.project_id===H.project_id?n.jsx("input",{type:"text",value:S.lpo_no,onChange:Y=>C({...S,lpo_no:Y.target.value}),placeholder:"Enter LPO number",style:{padding:"6px",border:"1px solid #ccc",borderRadius:"4px",width:"100%",fontSize:"14px"}}):H.lpo_no||"-"}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",minWidth:"120px"},children:[n.jsxs("div",{onClick:()=>w(H),style:{padding:"6px 6px",borderRadius:"16px",fontSize:"12px",fontWeight:"bold",backgroundColor:H.status==="ACTIVE"?"#d4edda":"#f8d7da",color:H.status==="ACTIVE"?"#155724":"#721c24",cursor:"pointer",textAlign:"center",transition:"all 0.2s",border:"1px solid transparent",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",userSelect:"none"},onMouseEnter:Y=>{Y.currentTarget.style.backgroundColor=H.status==="ACTIVE"?"#c3e6cb":"#f5c6cb",Y.currentTarget.style.transform="translateY(-1px)",Y.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)"},onMouseLeave:Y=>{Y.currentTarget.style.backgroundColor=H.status==="ACTIVE"?"#d4edda":"#f8d7da",Y.currentTarget.style.transform="translateY(0)",Y.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},onMouseDown:Y=>{Y.currentTarget.style.transform="translateY(0)"},title:`Click to change status to ${H.status==="ACTIVE"?"INACTIVE":"ACTIVE"}`,children:[H.status,H.status==="ACTIVE"&&n.jsx("span",{style:{display:"block",fontSize:"9px",marginTop:"2px",opacity:.7}})]}),H.status==="INACTIVE"&&n.jsxs("div",{style:{fontSize:"10px",color:"#6c757d",fontStyle:"italic",textAlign:"center",padding:"3px 6px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef",marginTop:"2px"},children:["Halted on: ",H.halted_date||v[H.project_id]||new Date().toISOString().split("T")[0]]})]})}),n.jsx("td",{children:n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",minWidth:"200px"},children:m?.project_id===H.project_id?n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:ee,style:{background:"#28a745",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",flex:1},children:" Save"}),n.jsx("button",{onClick:z,style:{background:"#6c757d",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",flex:1},children:" Cancel"})]}),n.jsxs("div",{style:{border:"1px solid #e0e0e0",padding:"12px",borderRadius:"6px",backgroundColor:"#f8f9fa"},children:[n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsxs("label",{style:{display:"block",background:"#007bff",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",textAlign:"center",marginBottom:"8px"},children:[" Choose LPO File",n.jsx("input",{type:"file",onChange:Y=>re(H.project_id,Y.target.files[0]),style:{display:"none"},accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"})]}),b[H.project_id]&&n.jsxs("div",{style:{fontSize:"12px",color:"#28a745",fontWeight:"bold",textAlign:"center",padding:"4px",backgroundColor:"#d4edda",borderRadius:"4px"},children:[" Selected: ",b[H.project_id].name]})]}),b[H.project_id]&&n.jsx("button",{onClick:()=>P(H.project_id),disabled:N,style:{background:N?"#6c757d":"#28a745",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:N?"not-allowed":"pointer",fontSize:"12px",width:"100%",marginBottom:"8px"},children:N?" Uploading...":" Upload File"}),H.lpo_file&&n.jsx("button",{onClick:()=>he(H.project_id),style:{background:"#17a2b8",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",width:"100%"},children:" Download LPO"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"12px",fontWeight:"bold",display:"block",marginBottom:"4px"},children:"LPO Date:"}),n.jsx("input",{type:"date",value:S.lpo_date,onChange:Y=>C({...S,lpo_date:Y.target.value}),style:{padding:"6px",border:"1px solid #ccc",borderRadius:"4px",width:"100%",fontSize:"12px"}})]})]}):n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>J(H),style:{background:"#17a2b8",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:" View"}),n.jsx("button",{onClick:()=>k(H),style:{background:"#ffc107",color:"#212529",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:" Edit"})]})})})]},H.project_id))})]})})]})}function uy(){const[s,c]=j.useState({project_id:"",requested_by:""}),[u,r]=j.useState([]),[d,h]=j.useState([]),[m,x]=j.useState([]),[y,p]=j.useState(!1),[v,_]=j.useState(""),[S,C]=j.useState(""),[b,E]=j.useState(null),[N,G]=j.useState(!1);j.useEffect(()=>{V()},[]);const V=async()=>{p(!0);try{const P=await fetch(`${ue}/test-requests/projects/remaining-tests`);if(P.ok){const he=await P.json();console.log("Projects with remaining tests:",he);const ne=he.filter(H=>H.has_remaining_tests).sort((H,Y)=>Y.project_id-H.project_id).slice(0,10);if(r(ne),ne.length===0)_(" No projects with remaining tests available. All tests have been requested.");else{const H=ne.reduce((Y,F)=>Y+F.remaining_tests,0);_(` ${ne.length} project(s) with ${H} test(s) remaining`)}}else{const he=await P.text();_(` Failed to load projects: ${he}`)}}catch(P){_(` Network error: ${P.message}`),console.error("Error fetching projects:",P)}finally{p(!1)}},w=async P=>{const he=P.target.value;c({...s,project_id:he}),h([]),x([]),C(""),E(null),G(!1)},J=async P=>{p(!0);try{const he=await fetch(`${ue}/test-requests/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:parseInt(P),requested_by:s.requested_by})});if(he.ok){const ne=await he.json();C(ne.request_no),E(ne.test_request_id),_(` Test Request ${ne.request_no} created! Select tests below.`),await K(ne.test_request_id)}else{const ne=await he.json();_(` Failed to create test request: ${ne.detail||"Unknown error"}`)}}catch(he){_(` Network error: ${he.message}`)}finally{p(!1)}},K=async P=>{try{const he=await fetch(`${ue}/test-requests/${P}/items/available`);if(he.ok){const ne=await he.json();console.log("Available tests:",ne);const H=ne.filter(Y=>!Y.is_used);h(H),H.length===0?_(" No remaining tests available for this project"):_(` ${H.length} test(s) remaining for this project`)}else _(" Failed to load available tests")}catch(he){_(` Network error: ${he.message}`)}},k=P=>{x(he=>he.includes(P)?he.filter(H=>H!==P):[...he,P])},z=()=>{if(N)x([]);else{const P=d.map(he=>he.index);x(P)}G(!N)},ee=async()=>{if(m.length===0){_(" Please select at least one test");return}if(!b){_(" Please select a project first");return}p(!0);try{const P=m.map(ne=>{const H=d.find(Y=>Y.index===ne);return{quotation_item_id:ne,quantity:H?.quotation_quantity||1}}),he=await fetch(`${ue}/test-requests/${b}/items/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:P})});if(he.ok){const ne=await he.json();_(` ${m.length} test(s) added successfully!`),x([]),G(!1),V(),await K(b);const H=await fetch(`${ue}/test-requests/${b}/items/available`);H.ok&&(await H.json()).filter(O=>!O.is_used).length===0&&(_(" All tests have been requested for this project!"),setTimeout(()=>{re()},2e3))}else{const ne=await he.json();_(` Failed to add tests: ${ne.detail||"Unknown error"}`)}}catch(P){_(` Network error: ${P.message}`)}finally{p(!1)}},re=()=>{c({project_id:"",requested_by:s.requested_by}),C(""),E(null),h([]),x([]),G(!1)};return n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsx("h2",{children:"Create Test Request"}),n.jsx("button",{onClick:V,className:"btn-refresh",disabled:y,children:" Refresh Projects"})]}),v&&n.jsx("div",{className:`message ${v.includes("")?"success":v.includes("")?"error":"info"}`,children:v}),n.jsxs("div",{className:"form-container",children:[n.jsxs("div",{className:"form-section",children:[n.jsx("h3",{children:"1. Select Project"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"project-select",children:"Project *"}),n.jsxs("select",{id:"project-select",value:s.project_id,onChange:w,className:"form-input",required:!0,disabled:y||u.length===0,children:[n.jsx("option",{value:"",children:"Select a project"}),u.map(P=>n.jsxs("option",{value:P.project_id,children:[P.project_no," - ",P.project_name,` (${P.remaining_tests} test${P.remaining_tests!==1?"s":""} left)`]},P.project_id))]}),n.jsx("small",{className:"field-hint",children:"Showing projects with remaining tests only"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"requested-by",children:"Requested By"}),n.jsx("input",{id:"requested-by",type:"text",value:s.requested_by,onChange:P=>c({...s,requested_by:P.target.value}),placeholder:"Enter your name",className:"form-input",disabled:y})]}),s.project_id&&n.jsx("button",{onClick:()=>J(s.project_id),disabled:!s.project_id||!s.requested_by||y,className:"btn-primary",children:"Create Test Request"})]}),S&&n.jsxs("div",{className:"info-card",children:[n.jsx("h3",{children:"Test Request Number"}),n.jsx("div",{className:"request-number",children:S}),n.jsx("small",{children:"Auto-generated test request number"})]}),d.length>0&&n.jsxs("div",{className:"form-section",children:[n.jsxs("h3",{children:["2. Select Tests (",d.length," remaining)"]}),n.jsx("p",{className:"section-description",children:"Available remaining tests from approved quotation. Select tests using checkboxes."}),n.jsx("div",{className:"table-container",children:n.jsxs("table",{className:"tests-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{width:"50px",className:"text-center",children:n.jsx("input",{type:"checkbox",checked:N,onChange:z,disabled:y||d.length===0})}),n.jsx("th",{width:"100px",children:"SI No."}),n.jsx("th",{children:"Test Name"}),n.jsx("th",{children:"Test Standard"}),n.jsx("th",{width:"200px",className:"text-center",children:"No.of Tests (Qty)"})]})}),n.jsx("tbody",{children:d.map((P,he)=>n.jsxs("tr",{className:`test-row ${m.includes(P.index)?"selected-row":""}`,children:[n.jsx("td",{className:"text-center",children:n.jsx("input",{type:"checkbox",checked:m.includes(P.index),onChange:()=>k(P.index),disabled:y})}),n.jsx("td",{className:"text-center",children:he+1}),n.jsxs("td",{className:"test-name",children:[n.jsx("div",{className:"test-description",children:P.description}),P.test_name&&n.jsx("div",{className:"test-additional",children:P.test_name})]}),n.jsx("td",{children:P.test_standard||"N/A"}),n.jsx("td",{className:"text-center",children:P.quotation_quantity||1})]},P.index))})]})}),n.jsxs("div",{className:"selection-actions",children:[n.jsxs("div",{className:"selection-count",children:[m.length," test(s) selected out of ",d.length," remaining"]}),n.jsx("button",{onClick:ee,disabled:y||m.length===0,className:"btn-primary",children:y?"Adding Tests...":`Add Selected Tests (${m.length})`})]})]}),y&&n.jsxs("div",{className:"loading-overlay",children:[n.jsx("div",{className:"loading-spinner"}),n.jsx("div",{children:"Processing..."})]})]})]})}function dy(){const[s,c]=j.useState([]),[u,r]=j.useState(!0),[d,h]=j.useState(""),[m,x]=j.useState(null),[y,p]=j.useState(!1),[v,_]=j.useState(!1),[S,C]=j.useState(null),[b,E]=j.useState(null);j.useEffect(()=>{N()},[]);const N=async()=>{try{const k=await fetch(`${ue}/test-requests/`);if(k.ok){const z=await k.json();c(z)}else h(" Failed to fetch test requests")}catch(k){h(` Error: ${k.message}`)}finally{r(!1)}},G=async k=>{try{const z=await fetch(`${ue}/test-requests/${k}`);if(z.ok){const ee=await z.json();x(ee),p(!0)}else h(" Failed to load test request details")}catch(z){h(` Error: ${z.message}`)}},V=async k=>{try{const z=await fetch(`${ue}/test-requests/${k.test_request_id}`);if(z.ok){const ee=await z.json();x(ee),C(ee.status),E(ee.requested_by),_(!0)}else h(" Failed to load test request details for editing")}catch(z){h(` Error: ${z.message}`)}},w=async()=>{if(m){r(!0),h("");try{const k={};m.requested_by!==b&&(k.requested_by=m.requested_by),m.status!==S&&(k.status=m.status),m.items&&m.items.length>0&&(k.items=m.items.map(ee=>({tri_id:ee.tri_id,quantity:parseInt(ee.quantity)||1})));const z=await fetch(`${ue}/test-requests/${m.test_request_id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(z.ok)h(" All changes saved successfully"),c(ee=>ee.map(re=>re.test_request_id===m.test_request_id?{...re,status:m.status,requested_by:m.requested_by}:re)),_(!1),x(null),N();else{const ee=await z.json();h(` Failed to save: ${ee.detail||"Unknown error"}`)}}catch(k){h(` Error: ${k.message}`)}finally{r(!1)}}},J=async(k,z)=>{r(!0);try{const ee=await fetch(`${ue}/test-requests/${k}/download-doc`);if(ee.ok){const re=await ee.blob(),P=window.URL.createObjectURL(re),he=document.createElement("a");he.href=P,he.download=`Test_Request_${z}.xlsx`,document.body.appendChild(he),he.click(),window.URL.revokeObjectURL(P),document.body.removeChild(he),h(` Excel document downloaded as Test_Request_${z}.xlsx`)}else h(" Failed to download document")}catch(ee){h(` Error: ${ee.message}`)}finally{r(!1)}},K=k=>{const ee={PENDING_SAMPLES:{class:"pending",text:"Pending Samples"},SAMPLES_RECEIVED:{class:"received",text:"Samples Received"},APPROVED:{class:"approved",text:"Approved"},CANCELLED:{class:"cancelled",text:"Cancelled"},PENDING:{class:"pending",text:"Pending"}}[k]||{class:"default",text:k};return n.jsx("span",{className:`status-badge ${ee.class}`,children:ee.text})};return u&&s.length===0?n.jsx("div",{className:"loading",children:"Loading test requests..."}):n.jsxs("div",{className:"view-tr-container",children:[n.jsxs("div",{className:"tr-header",children:[n.jsx("h2",{className:"tr-title",children:" Test Requests"}),n.jsxs("button",{className:"tr-btn-refresh",onClick:N,children:[n.jsx("span",{className:"icon",children:""})," Refresh"]})]}),d&&n.jsx("div",{className:`tr-alert ${d.includes("")?"success":"error"}`,children:d}),n.jsx("div",{className:"tr-card",children:n.jsxs("table",{className:"tr-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Test Request No."}),n.jsx("th",{children:"Project"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Requested By"}),n.jsx("th",{className:"align-center",children:"Actions"})]})}),n.jsx("tbody",{children:s.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"tr-empty",children:"No test requests found"})}):s.map(k=>n.jsxs("tr",{children:[n.jsx("td",{className:"tr-number",children:k.request_no}),n.jsx("td",{children:n.jsxs("div",{className:"tr-project",children:[n.jsx("div",{className:"name",children:k.project_name}),n.jsx("div",{className:"code",children:k.project_no})]})}),n.jsx("td",{children:new Date(k.created_at).toLocaleDateString()}),n.jsx("td",{children:K(k.status)}),n.jsx("td",{children:k.requested_by||""}),n.jsxs("td",{className:"align-center",children:[n.jsx("button",{className:"tr-btn view",onClick:()=>G(k.test_request_id),children:" View"}),n.jsx("button",{className:"tr-btn edit",onClick:()=>V(k),children:" Edit"}),n.jsx("button",{className:"tr-btn download",onClick:()=>J(k.test_request_id,k.request_no),title:"Download as Word Document",children:" Download"})]})]},k.test_request_id))})]})}),y&&m&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Test Request Details  ",m.request_no]}),n.jsx("button",{className:"close-btn",onClick:()=>p(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Project Information"}),n.jsxs("div",{className:"detail-grid",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Project Name"}),n.jsx("span",{children:m.project_name||"-"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Project No"}),n.jsx("span",{children:m.project_no||"-"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Requested By"}),n.jsx("span",{children:m.requested_by||"-"})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Created Date"}),n.jsx("span",{children:new Date(m.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("label",{children:"Status"}),K(m.status)]})]})]}),m.items&&m.items.length>0&&n.jsxs("div",{className:"detail-section",children:[n.jsxs("h4",{children:["Test Items (",m.items.length,")"]}),n.jsxs("table",{className:"view-items-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{textAlign:"left"},children:"Test Name"}),n.jsx("th",{children:"Standard"}),n.jsx("th",{style:{textAlign:"center"},children:"Quantity"})]})}),n.jsx("tbody",{children:m.items.map(k=>n.jsxs("tr",{children:[n.jsx("td",{children:k.description||"N/A"}),n.jsx("td",{children:k.test_standard||"N/A"}),n.jsx("td",{style:{textAlign:"center"},children:k.quantity})]},k.tri_id))})]})]}),n.jsx("div",{className:"modal-footer",children:n.jsx("button",{className:"btn-primary",onClick:()=>J(m.test_request_id,m.request_no),children:" Download"})})]})]})}),v&&m&&n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Edit Test Request  ",m.request_no]}),n.jsx("button",{className:"close-btn",onClick:()=>_(!1),children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Requested By *"}),n.jsx("input",{type:"text",value:m.requested_by||"",onChange:k=>x({...m,requested_by:k.target.value}),className:"form-input",required:!0})]}),m.items&&m.items.length>0&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Test Quantities"}),n.jsx("div",{className:"test-quantities-list",children:m.items.map((k,z)=>n.jsxs("div",{className:"test-quantity-item",children:[n.jsxs("div",{className:"test-info",children:[n.jsx("div",{className:"test-name",children:k.description||`Test ${z+1}`}),k.test_standard&&n.jsxs("div",{className:"test-standard",children:["Standard: ",k.test_standard]})]}),n.jsxs("div",{className:"quantity-control",children:[n.jsx("label",{children:"Quantity:"}),n.jsx("input",{type:"number",min:"1",value:k.quantity,onChange:ee=>{const re=[...m.items];re[z].quantity=parseInt(ee.target.value)||1,x({...m,items:re}),fetch(`${ue}/test-requests/${m.test_request_id}/items/${z}/quantity`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:parseInt(ee.target.value)||1})}).then(P=>{P.ok||h(" Quantity updated but sync to quotation failed")})},className:"quantity-input"})]})]},k.tri_id))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Update Status"}),n.jsxs("select",{value:m.status||"PENDING_SAMPLES",onChange:k=>x({...m,status:k.target.value}),className:"form-input",children:[n.jsx("option",{value:"PENDING_SAMPLES",children:"Pending Samples"}),n.jsx("option",{value:"SAMPLES_RECEIVED",children:"Samples Received"}),n.jsx("option",{value:"TESTING_IN_PROGRESS",children:"Testing in Progress"}),n.jsx("option",{value:"COMPLETED",children:"Completed"}),n.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn-primary",onClick:()=>J(m.test_request_id,m.request_no),children:" Download"}),n.jsx("button",{className:"btn-primary",onClick:w,children:"Save Changes"}),n.jsx("button",{className:"btn-secondary",onClick:()=>_(!1),children:"Cancel"})]})]})})]})}function fy(){const[s,c]=j.useState({request_no:"",collected_by:""}),[u,r]=j.useState([]),[d,h]=j.useState(!1),[m,x]=j.useState(""),[y,p]=j.useState([]);j.useEffect(()=>{v()},[]);const v=async()=>{try{const S=await fetch(`${ue}/test-requests/?limit=10`);if(S.ok){const C=await S.json();r(C)}}catch(S){console.error("Error fetching test requests:",S)}},_=async S=>{if(S.preventDefault(),h(!0),x(""),!s.request_no.trim()){x(" Please select a Test Request"),h(!1);return}try{const C=await fetch(`${ue}/samples-workflow/generate-samples-by-request-no/${s.request_no}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collected_by:s.collected_by||"Lab Staff"})});if(C.ok){const b=await C.json();p(b.test_distribution),x(` ${b.count} samples generated successfully for ${b.request_no}!`)}else{const b=await C.json();x(` Failed to generate samples: ${b.detail||"Unknown error"}`)}}catch(C){x(` Network error: ${C.message}`)}finally{h(!1)}};return n.jsxs("div",{className:"module-content",children:[n.jsx("div",{className:"module-header",children:n.jsx("h2",{children:"Generate Samples"})}),n.jsxs("div",{className:"form-section",children:[n.jsx("h3",{children:"Generate Samples from Test Request"}),m&&n.jsx("div",{className:`message ${m.includes("")?"success":"error"}`,children:m}),n.jsxs("form",{onSubmit:_,className:"sample-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"request-no",children:"Test Request Number *"}),n.jsxs("select",{id:"request-no",value:s.request_no,onChange:S=>c({...s,request_no:S.target.value}),className:"form-input",required:!0,disabled:d,children:[n.jsx("option",{value:"",children:"Select a Test Request"}),u.slice(0,10).map(S=>n.jsxs("option",{value:S.request_no,children:[S.request_no," - Project: ",S.project_name]},S.test_request_id))]}),n.jsx("small",{className:"field-hint",children:"Select a test request to generate samples for all its tests"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"collected-by",children:"Collected By"}),n.jsx("input",{id:"collected-by",type:"text",value:s.collected_by,onChange:S=>c({...s,collected_by:S.target.value}),placeholder:"Enter collector name",className:"form-input",disabled:d})]}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:d||!s.request_no,children:d?"Generating Samples...":"Generate Samples"})]}),y.length>0&&n.jsxs("div",{className:"samples-preview",children:[n.jsx("h4",{children:"Generated Samples:"}),n.jsx("div",{className:"samples-grid",children:y.map(S=>n.jsxs("div",{className:"sample-card pending",children:[n.jsxs("div",{className:"sample-header",children:[n.jsx("span",{className:"sample-id",children:S.sample_no}),n.jsx("span",{className:"sample-status",children:"PENDING"})]}),n.jsxs("div",{className:"sample-details",children:[n.jsxs("div",{className:"sample-test-description",children:[n.jsx("strong",{children:"Test:"})," ",S.test_name]}),n.jsxs("div",{className:"sample-test",children:[n.jsx("strong",{children:"Code:"})," ",S.assigned_test]})]})]},S.sample_id))})]}),u.length>0&&n.jsxs("div",{className:"info-section",children:[n.jsx("h4",{children:"Available Test Requests"}),n.jsx("div",{className:"requests-list",children:u.map(S=>n.jsxs("div",{className:"request-item",children:[n.jsx("strong",{children:S.request_no})," - ",S.project_name,S.status&&n.jsx("span",{className:`status-badge ${S.status.toLowerCase()}`,children:S.status})]},S.test_request_id))})]})]})]})}function hy(){const[s,c]=j.useState([]),[u,r]=j.useState(!1),[d,h]=j.useState(""),[m,x]=j.useState(null),[y,p]=j.useState(""),v=async()=>{r(!0);try{console.log("Fetching pending samples...");const C=await fetch(`${ue}/samples-workflow/pending-samples`);if(console.log("Response status:",C.status),C.ok){const b=await C.json();console.log("Received samples data:",b),c(b)}else{const b=await C.text();console.error("Error response:",b),h(" Failed to load pending samples")}}catch(C){console.error("Network error:",C),h(` Network error: ${C.message}`)}finally{r(!1)}};j.useEffect(()=>{v()},[]);const _=async(C,b="")=>{r(!0);try{const E=await fetch(`${ue}/samples-workflow/samples/${C}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storage_location:b,note:"Sample accepted and test assigned"})});if(E.ok){const N=await E.json();h(` Sample accepted! Assigned test: ${N.assigned_test||"Pending assignment"}`),v(),x(null),p("")}else h(` Failed to accept sample: ${errorData.detail}`)}catch(E){h(` Network error: ${E.message}`)}finally{r(!1)}},S=async(C,b="")=>{r(!0);try{const E=await fetch(`${ue}/samples-workflow/samples/${C}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:b,inform_client:!0})});if(E.ok)h(" Sample rejected successfully!"),v(),x(null),p("");else{const N=await E.json();h(` Failed to reject sample: ${N.detail}`)}}catch(E){h(` Network error: ${E.message}`)}finally{r(!1)}};return n.jsxs("div",{className:"module-content",children:[" ",n.jsxs("div",{className:"module-header",children:[" ",n.jsx("h2",{children:"Accept/Reject Samples"})," "]}),n.jsxs("div",{className:"form-section",children:[" ",n.jsx("h3",{children:"Manage Sample Acceptance"})," ",d&&n.jsx("div",{className:`message ${d.includes("")?"success":"error"}`,children:d}),n.jsx("div",{className:"samples-actions",children:n.jsx("button",{onClick:v,className:"btn-refresh",disabled:u,children:" Refresh Samples"})}),u&&s.length===0?n.jsx("div",{className:"loading-state",children:"Loading samples..."}):s.length===0?n.jsx("div",{className:"empty-state",children:"No pending samples found. Generate samples first."}):n.jsx("div",{className:"samples-grid",children:s.map(C=>n.jsxs("div",{className:`sample-card ${C.status.toLowerCase()}`,children:[n.jsxs("div",{className:"sample-header",children:[n.jsx("span",{className:"sample-id",children:C.sample_no}),n.jsx("span",{className:"sample-status",children:C.status})]}),n.jsxs("div",{className:"sample-details",children:[n.jsxs("div",{className:"sample-test-description",children:[n.jsx("strong",{children:"Test:"})," ",C.test_name]}),C.barcode&&n.jsxs("div",{className:"sample-barcode",children:[n.jsx("strong",{children:"Barcode:"})," ",C.barcode]}),n.jsxs("div",{className:"sample-test",children:[n.jsx("strong",{children:"Code:"})," ",C.assigned_test]}),n.jsxs("div",{className:"sample-actions",children:[n.jsx("button",{onClick:()=>{x(C),p("accept")},className:"btn-accept",disabled:C.status!=="PENDING",children:"Accept"}),n.jsx("button",{onClick:()=>{x(C),p("reject")},className:"btn-reject",disabled:C.status!=="PENDING",children:"Reject"})]})]})]},C.sample_id))}),m&&y==="accept"&&n.jsx(my,{sample:m,onAccept:_,onClose:()=>{x(null),p("")},loading:u}),m&&y==="reject"&&n.jsx(py,{sample:m,onReject:S,onClose:()=>{x(null),p("")},loading:u})]})]})}function my({sample:s,onAccept:c,onClose:u,loading:r}){const[d,h]=j.useState("");return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("h3",{children:"Accept Sample"}),n.jsxs("p",{children:["Accept sample ",n.jsx("strong",{children:s.sample_no}),"?"]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Storage Location (Optional)"}),n.jsx("input",{type:"text",value:d,onChange:m=>h(m.target.value),placeholder:"Enter storage location",className:"form-input"})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{onClick:u,className:"btn-secondary",children:"Cancel"}),n.jsx("button",{onClick:()=>c(s.sample_id,d),className:"btn-accept",disabled:r,children:r?"Accepting...":"Accept Sample"})]})]})})}function py({sample:s,onReject:c,onClose:u,loading:r}){const[d,h]=j.useState("");return n.jsx("div",{className:"modal-overlay",children:n.jsxs("div",{className:"modal-content",children:[n.jsx("h3",{children:"Reject Sample"}),n.jsxs("p",{children:["Reject sample ",n.jsx("strong",{children:s.sample_no}),"?"]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Reason for Rejection *"}),n.jsx("textarea",{value:d,onChange:m=>h(m.target.value),placeholder:"Enter reason for rejection",className:"form-input",rows:"3",required:!0})]}),n.jsxs("div",{className:"modal-actions",children:[n.jsx("button",{onClick:u,className:"btn-secondary",children:"Cancel"}),n.jsx("button",{onClick:()=>c(s.sample_id,d),className:"btn-reject",disabled:r||!d.trim(),children:r?"Rejecting...":"Reject Sample"})]})]})})}function xy(){const[s,c]=j.useState({sample_no:"",technician:""}),[u,r]=j.useState([]),[d,h]=j.useState([]),[m,x]=j.useState(!1),[y,p]=j.useState(!1),[v,_]=j.useState(!1),[S,C]=j.useState(""),[b,E]=j.useState(null),[N,G]=j.useState(null),[V,w]=j.useState(null),[J,K]=j.useState([]),[k,z]=j.useState(!1),[ee,re]=j.useState(!1);j.useEffect(()=>{P(),he()},[]);const P=async()=>{try{const A=await fetch(`${ue}/samples-workflow/recent-samples?limit=10`);if(A.ok){const te=await A.json();r(te)}}catch(A){console.error("Error fetching recent samples:",A)}},he=async()=>{try{const A=await fetch(`${ue}/samples-workflow/pending-samples`);if(A.ok){const te=await A.json();h(te)}}catch(A){console.error("Error fetching all samples:",A)}},ne=async()=>{if(b)try{C(" Downloading filled worksheet...");const A=await fetch(`${ue}/samples-workflow/worksheets/${b.worksheet_id}/download-filled-worksheet`);if(A.ok){const te=await A.blob(),fe=window.URL.createObjectURL(te),Q=document.createElement("a");Q.href=fe;const se=A.headers.get("content-disposition");let D=`FILLED_${b.worksheet_no}.xlsx`;if(se){const q=se.match(/filename="?([^"]+)"?/);q&&q[1]&&(D=q[1])}Q.download=D,document.body.appendChild(Q),Q.click(),window.URL.revokeObjectURL(fe),document.body.removeChild(Q),C(` Filled worksheet downloaded as "${D}"`)}else{const te=await A.json();C(` ${te.detail||"Failed to download filled worksheet"}`)}}catch(A){C(` Error: ${A.message}`)}},H=A=>{c({...s,sample_no:A}),w(null),K([])},Y=async()=>{if(!s.sample_no.trim()){C(" Please enter a sample number");return}p(!0),C(""),K([]);try{const A=d.find(te=>te.sample_no===s.sample_no);if(A)w(A),C(` Found exact match: ${A.sample_no} - ${A.assigned_test}`);else{const te=d.filter(fe=>fe.sample_no.toLowerCase().includes(s.sample_no.toLowerCase()));if(te.length>0){K(te);const fe=te.map(Q=>`${Q.sample_no} (${Q.assigned_test})`).join(", ");C(` Found ${te.length} matching samples: ${fe}. Please click on a sample from the list below to select it.`)}else C(" Sample not found. Please check the sample number or select from Recent Samples.")}}catch(A){C(` Search error: ${A.message}`)}finally{p(!1)}},F=A=>{c({...s,sample_no:A.sample_no}),w(A),K([]),C(` Selected: ${A.sample_no} - ${A.assigned_test}`)},O=async A=>{A.preventDefault(),x(!0),C(""),E(null),z(!1),re(!1);try{let te;if(V)te=V.sample_id;else{const Q=d.find(se=>se.sample_no===s.sample_no);if(!Q){C(" Sample not found. Please select a sample from the list."),x(!1);return}te=Q.sample_id,w(Q)}const fe=await fetch(`${ue}/samples-workflow/samples/${te}/generate-worksheet`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({technician:s.technician||"Lab Technician"})});if(fe.ok){const Q=await fe.json();if(Q.download_available)C(` ${Q.message} Click the button below to download it.`),E({...Q.existing_worksheet,sample_id:te,sample_no:V.sample_no,test_name:V.assigned_test,item_code:V.assigned_test,is_existing:!0,download_url:Q.existing_worksheet.download_url});else{const se=Q.template_available||!1;z(se),E({...Q,hasTemplate:se}),C(se?` ${Q.message}. Download template, fill it out, and upload.`:` ${Q.message}. No standard template available. Create worksheet manually and upload.`),P(),he()}}else{const Q=await fe.json();C(` ${Q.detail||"Failed to generate worksheet"}`)}}catch(te){C(` Network error: ${te.message}`)}finally{x(!1)}},I=async()=>{if(b)try{C(" Downloading template...");const A=await fetch(`${ue}/samples-workflow/samples/${b.sample_id}/download-template`);if(A.ok)if(A.headers.get("content-type").includes("application/json")){const fe=await A.json();C(` ${fe.message||"No standard template available for this test."}`),z(!1)}else{const fe=await A.blob(),Q=window.URL.createObjectURL(fe),se=document.createElement("a");se.href=Q,se.download=`TEMPLATE_${b.item_code}.xlsx`,document.body.appendChild(se),se.click(),window.URL.revokeObjectURL(Q),document.body.removeChild(se),C(" Standard template downloaded. Fill it out and upload as completed worksheet."),z(!0)}else{const te=await A.json();C(` ${te.detail||"Template not available"}`),z(!1)}}catch(A){C(` Error: ${A.message}`),z(!1)}},de=async()=>{if(b)try{C(" Downloading worksheet...");const A=await fetch(`${ue}/samples-workflow/worksheets/${b.worksheet_id}/download`);if(A.ok)if(A.headers.get("content-type").includes("application/json")){const fe=await A.json();C(` ${fe.message||"No completed worksheet uploaded yet."}`)}else{const fe=await A.blob(),Q=window.URL.createObjectURL(fe),se=document.createElement("a");se.href=Q;const D=A.headers.get("content-disposition");let q=`WORKSHEET_${b.worksheet_no}.xlsx`;if(D){const oe=D.match(/filename="?([^"]+)"?/);oe&&oe[1]&&(q=oe[1])}se.download=q,document.body.appendChild(se),se.click(),window.URL.revokeObjectURL(Q),document.body.removeChild(se),C(` Completed worksheet downloaded as "${q}"`)}else C(" Failed to download worksheet")}catch(A){C(` Error: ${A.message}`)}},pe=A=>{const te=A.target.files[0];te&&(G(te),C(` Selected: ${te.name} (${Math.round(te.size/1024)} KB)`))},je=async()=>{if(!N){C(" Please select a file");return}if(!b||!b.worksheet_id){C(" No worksheet selected");return}_(!0),C(" Uploading...");const A=new FormData;A.append("worksheet_file",N);try{const te=await fetch(`${ue}/samples-workflow/worksheets/${b.worksheet_id}/upload`,{method:"POST",body:A});if(te.ok){const fe=await te.json();C(` ${fe.message||"Worksheet uploaded successfully!"}`),G(null),b&&E({...b,status:"COMPLETED",has_file:!0}),re(!0),setTimeout(()=>{C(" Upload complete! You can now download the worksheet.")},2e3)}else{const fe=await te.json();C(` Upload failed: ${fe.detail||fe.message||"Unknown error"}`)}}catch(te){C(` Network error: ${te.message}. Check if server is running.`)}finally{_(!1)}},R=()=>{c({sample_no:"",technician:""}),w(null),E(null),G(null),C(""),K([]),z(!1),re(!1)};return n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsx("h2",{children:"Generate Worksheet"}),b&&n.jsx("button",{onClick:R,className:"btn-secondary",style:{marginLeft:"auto",fontSize:"0.9em",padding:"5px 10px"},children:"Start New"})]}),n.jsxs("div",{className:"form-section",children:[n.jsx("h3",{children:"Generate Worksheet for Sample"}),S&&n.jsx("div",{className:`message ${S.includes("")?"success":S.includes("")?"error":S.includes("")?"warning":"info"}`,children:S}),b?n.jsxs("div",{className:"worksheet-result",children:[n.jsxs("div",{className:"result-header",children:[n.jsxs("h4",{children:["Worksheet: ",b.worksheet_no]}),n.jsx("span",{className:`status-badge ${b.status==="COMPLETED"?"completed":b.status==="GENERATED"?"generated":"pending"}`,children:b.status||"PENDING"})]}),n.jsxs("div",{className:"worksheet-details",children:[n.jsxs("div",{className:"detail-grid",children:[n.jsxs("div",{className:"detail-item",children:[n.jsx("strong",{children:"Sample:"})," ",b.sample_no]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("strong",{children:"Test:"})," ",b.test_name]}),n.jsxs("div",{className:"detail-item",children:[n.jsx("strong",{children:"Item Code:"})," ",b.item_code]}),b.created_at&&n.jsxs("div",{className:"detail-item",children:[n.jsx("strong",{children:"Created:"})," ",new Date(b.created_at).toLocaleDateString()]})]}),b.is_existing?n.jsxs("div",{className:"existing-worksheet-actions",children:[n.jsx("div",{className:"alert alert-info",children:n.jsx("small",{children:"This worksheet already exists:"})}),n.jsx("a",{href:`${ue}${b.download_url}`,target:"_blank",rel:"noopener noreferrer",className:"btn-download-existing",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#28a745",color:"white",textDecoration:"none",borderRadius:"4px",fontWeight:"bold",marginBottom:"15px"},children:" Download Existing Worksheet"})]}):n.jsxs("div",{className:"action-buttons",children:[k&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:I,className:"btn-download",title:"Download blank template to edit",disabled:v,children:" Download Template"}),n.jsx("button",{onClick:ne,className:"btn-download",title:"Download pre-filled worksheet with sample data",disabled:v,children:" Download Filled Worksheet"})]}),ee&&n.jsx("button",{onClick:de,className:"btn-download",title:"Download uploaded worksheet",disabled:v,children:" Download Worksheet"}),!k&&!ee&&n.jsx("div",{className:"no-template-message",children:n.jsx("p",{style:{fontStyle:"italic",color:"#666",margin:"10px 0"},children:" No standard template available for this test. Please create worksheet manually and upload."})})]}),!b.is_existing&&n.jsxs("div",{className:"upload-section",children:[n.jsx("h5",{children:"Upload Completed Worksheet"}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Select Worksheet File *"}),n.jsxs("div",{className:"file-input-container",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.docx,.pdf",onChange:pe,disabled:v,className:"form-input",id:"file-upload"}),n.jsx("small",{children:"Accepted: Excel (.xlsx, .xls), Word (.docx), PDF (.pdf)"})]}),N&&n.jsxs("div",{className:"file-preview",children:[n.jsx("strong",{children:"Selected File:"})," ",N.name,n.jsx("br",{}),n.jsxs("small",{children:["Size: ",Math.round(N.size/1024)," KB"]})]})]}),N&&n.jsxs("div",{className:"upload-actions",children:[n.jsx("button",{onClick:je,className:"btn-upload",disabled:v,children:v?" Uploading...":" Upload Worksheet"}),n.jsx("button",{onClick:()=>G(null),className:"btn-secondary",disabled:v,style:{marginLeft:"10px",fontSize:"0.9em"},children:"Clear File"})]}),b.status==="COMPLETED"&&n.jsx("div",{className:"alert alert-success",children:n.jsx("small",{children:' Worksheet already uploaded and marked as COMPLETED. You can download it using the "Download Worksheet" button.'})})]})]})]}):n.jsxs("form",{onSubmit:O,className:"worksheet-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"sample-no",children:"Sample Number *"}),n.jsxs("div",{className:"input-with-search",children:[n.jsx("input",{id:"sample-no",type:"text",value:s.sample_no,onChange:A=>H(A.target.value),placeholder:"Enter Sample Number (e.g., GS-121225-01-1)",className:"form-input",required:!0,autoComplete:"off"}),n.jsx("button",{type:"button",onClick:Y,className:"btn-search",disabled:y||!s.sample_no,title:"Search for sample",children:y?" Searching...":" Search"})]}),n.jsx("small",{className:"field-hint",children:"Enter sample number and click Search, or select from lists below."}),V&&n.jsx("div",{className:"selected-sample-info",children:n.jsxs("div",{className:"info-card",children:[n.jsx("strong",{children:"Selected Sample:"})," ",V.sample_no,n.jsx("br",{}),n.jsxs("small",{children:["Test: ",V.assigned_test," | Status: ",V.status]})]})})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"technician",children:"Technician"}),n.jsx("input",{id:"technician",type:"text",value:s.technician,onChange:A=>c({...s,technician:A.target.value}),placeholder:"Enter technician name",className:"form-input",disabled:m})]}),n.jsx("button",{type:"submit",className:"btn-primary",disabled:m||!s.sample_no||!V,title:V?"":"Please select a sample first",children:m?"Generating Worksheet...":"Generate Worksheet"})]}),!b&&J.length>0&&n.jsxs("div",{className:"matching-samples-section",children:[n.jsxs("h4",{children:["Matching Samples Found (",J.length,")"]}),n.jsx("div",{className:"matching-samples-grid",children:J.map(A=>n.jsxs("div",{className:"sample-card matching",onClick:()=>F(A),title:`Click to select: ${A.sample_no}`,children:[n.jsxs("div",{className:"sample-card-header",children:[n.jsx("span",{className:"sample-no",children:A.sample_no}),n.jsx("span",{className:`sample-status ${A.status==="ACCEPTED"?"accepted":"pending"}`,children:A.status})]}),n.jsxs("div",{className:"sample-card-body",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Test:"})," ",A.assigned_test]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Request:"})," ",A.request_no]}),A.barcode&&n.jsxs("div",{children:[n.jsx("strong",{children:"Barcode:"})," ",A.barcode]})]})]},A.sample_id))}),n.jsx("small",{className:"section-hint",children:"Click on any sample above to select it for worksheet generation."})]}),!b&&u.length>0&&n.jsxs("div",{className:"recent-samples-section",children:[n.jsx("h4",{children:"Recent Samples (Last 10)"}),n.jsx("div",{className:"recent-samples-grid",children:u.map(A=>n.jsxs("div",{className:"sample-card",onClick:()=>F(A),title:`Click to select: ${A.sample_no}`,children:[n.jsxs("div",{className:"sample-card-header",children:[n.jsx("span",{className:"sample-no",children:A.sample_no}),n.jsx("span",{className:`sample-status ${A.status==="ACCEPTED"?"accepted":"pending"}`,children:A.status})]}),n.jsxs("div",{className:"sample-card-body",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Test:"})," ",A.assigned_test]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Request:"})," ",A.request_no]}),A.barcode&&n.jsxs("div",{children:[n.jsx("strong",{children:"Barcode:"})," ",A.barcode]})]})]},A.sample_id))}),n.jsx("small",{className:"section-hint",children:"Click on any sample above to select it for worksheet generation."})]})]})]})}function gy(){const[s,c]=j.useState(null),[u,r]=j.useState(""),[d,h]=j.useState(null),[m,x]=j.useState(null),[y,p]=j.useState(null),[v,_]=j.useState(""),[S,C]=j.useState(!1),[b,E]=j.useState(""),[N,G]=j.useState(null),[V,w]=j.useState([]),[J,K]=j.useState([]),[k,z]=j.useState(null),[ee,re]=j.useState(null),[P,he]=j.useState(!1);j.useEffect(()=>{const Q=JSON.parse(localStorage.getItem("user"));if(!Q){window.location.href="/";return}c(Q),ne()},[]);const ne=async()=>{try{const Q=await fetch(`${ue}/reports/samples/latest`);if(Q.ok){const se=await Q.json();w(se)}}catch(Q){console.error("Error fetching latest samples:",Q)}},H=async Q=>{if(Q.length<2){K([]);return}try{const se=await fetch(`${ue}/reports/samples/search?sample_no=${Q}`);if(se.ok){const D=await se.json();K(D)}}catch(se){console.error("Error searching samples:",se),K([])}},Y=async()=>{if(!u.trim()){E(" Please enter a sample number");return}try{C(!0);const Q=await fetch(`${ue}/reports/samples/by-number/${u}`);if(!Q.ok)throw Q.status===404?new Error(`Sample "${u}" not found. Please check the sample number.`):new Error(`Error fetching sample info: ${Q.statusText}`);const se=await Q.json();h(se),x(se),se.report_exists&&se.existing_report?(z(se.existing_report),re(null),he(!1),E(` Found existing report for ${se.test_name} (covers ${se.sample_count} samples)`)):(z(null),re(null),he(!1),E(` Found sample: ${se.sample_no} - ${se.test_name} (${se.sample_count} samples share this test)`)),K([])}catch(Q){E(` ${Q.message}`),h(null),x(null),z(null),re(null),he(!1)}finally{C(!1)}},F=async()=>{try{const Q=await fetch(`${ue}/reports/samples/by-number/${u}/download-populated-template?user_id=${s.user_id}`);if(!Q.ok)throw new Error("Failed to download populated template");const se=await Q.blob(),D=window.URL.createObjectURL(se),q=document.createElement("a");q.href=D;const oe=Q.headers.get("content-disposition")?.split("filename=")[1]||`${d.item_code}_Report.xlsx`;q.download=oe.replace(/"/g,""),document.body.appendChild(q),q.click(),document.body.removeChild(q),window.URL.revokeObjectURL(D),E(k?` Downloaded template with existing report number: ${k.report_no}`:" Template downloaded with preview data. Fill in test results and upload.")}catch(Q){E(` Download error: ${Q.message}`)}},O=async Q=>{try{const se=await fetch(`${ue}/reports/reports/${Q}/download`);if(!se.ok)throw new Error("Failed to download report");const D=await se.blob(),oe={"application/pdf":"pdf","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx"}[D.type]||"bin",W=window.URL.createObjectURL(D),ce=document.createElement("a");ce.href=W,ce.download=`Report_${k.report_no.replace(/ /g,"_")}.${oe}`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),window.URL.revokeObjectURL(W),E(` Downloaded existing report: ${k.report_no}`)}catch(se){E(` Error downloading report: ${se.message}`)}},I=async()=>{try{const Q=await fetch(`${ue}/reports/by-sample/${u}`);if(Q.ok){const se=await Q.json();re(se),he(!0),E(` Loaded details for report: ${se.report_no}`)}else throw new Error("Failed to load report details")}catch(Q){E(` Error loading report details: ${Q.message}`),re(null),he(!1)}},de=()=>{he(!1),re(null)},pe=Q=>{const se=Q.target.files[0];if(se){if(!["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/pdf","application/msword","application/vnd.ms-excel"].includes(se.type)){E(" Invalid file type. Please upload Word, Excel, or PDF files only."),p(null),Q.target.value="";return}p(se),E("")}},je=async Q=>{if(Q.preventDefault(),!y){E(" Please select a report file to upload");return}if(!d){E(" Please fetch sample information first");return}if(k&&!window.confirm(`A report already exists for ${d.test_name}. Do you want to replace it?`))return;const se=new FormData;se.append("sample_no",u),se.append("uploaded_by",s.user_id),se.append("file",y),v.trim()&&se.append("notes",v);try{C(!0);const D=await fetch(`${ue}/reports/upload-report`,{method:"POST",body:se});if(!D.ok){const oe=await D.json();throw new Error(oe.detail||"Upload failed")}const q=await D.json();E(` ${q.message} Report No: ${q.report_no} - Status: ${q.status}`),G({report_id:q.report_id,report_no:q.report_no,sample_no:u,status:q.status,covers_samples:q.covers_samples||[],sample_count:q.sample_count||1}),p(null),z(null),re(null),he(!1),document.getElementById("file-upload").value=""}catch(D){E(` Upload error: ${D.message}`)}finally{C(!1)}},R=async()=>{if(!N){E(" No report to submit. Please upload a report first.");return}if(window.confirm("Submit this report for supervisor review?"))try{const Q=await fetch(`${ue}/reports/reports/${N.report_id}/submit-for-review?checked_by=${s.user_id}`,{method:"POST"});if(!Q.ok)throw new Error("Failed to submit for review");const se=await Q.json();E(` ${se.message}`),G({...N,status:"UNDER_REVIEW"})}catch(Q){E(` Error: ${Q.message}`)}},A=()=>{r(""),h(null),x(null),p(null),_(""),G(null),z(null),re(null),he(!1),K([]),document.getElementById("file-upload").value="",E("")},te=Q=>{const se=Q.target.value;r(se),H(se)},fe=Q=>{r(Q.sample_no),K([])};return n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsx("h2",{children:"Create/Upload Report"}),n.jsx("div",{className:"user-info",children:n.jsxs("span",{className:"user-badge",children:["Logged in as: ",s?.username," (",s?.role,")"]})})]}),b&&n.jsx("div",{className:`message ${b.includes("")?"success":"error"}`,children:b}),N&&n.jsxs("div",{className:"uploaded-report-card",children:[n.jsx("h3",{children:" Uploaded Report"}),n.jsxs("div",{className:"report-info",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Report No:"})," ",N.report_no]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Test Type:"})," ",d?.test_name||"Unknown"]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Covers Samples:"}),n.jsx("div",{className:"samples-list",children:N.covers_samples&&N.covers_samples.length>0?N.covers_samples.map((Q,se)=>n.jsx("span",{className:"sample-chip",children:Q},se)):n.jsx("span",{children:N.sample_no})})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Total Samples:"})," ",N.sample_count]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Status:"}),n.jsx("span",{className:`status-badge ${N.status.toLowerCase()}`,children:N.status})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Next Step:"}),N.status==="DRAFT"?n.jsx("span",{style:{color:"#dc3545"},children:"Submit to supervisor for review"}):N.status==="UNDER_REVIEW"?n.jsx("span",{style:{color:"#28a745"},children:"Awaiting supervisor approval"}):n.jsx("span",{style:{color:"#28a745"},children:"Report approved "})]})]}),N.status==="DRAFT"&&n.jsxs("div",{className:"submit-section",children:[n.jsx("button",{onClick:R,className:"btn-submit-review",children:" Submit for Supervisor Review"}),n.jsx("small",{className:"hint",children:"Once submitted, the supervisor will review and approve the report."})]}),n.jsx("div",{className:"actions-section",children:n.jsx("button",{onClick:A,className:"btn-secondary",children:"+ Create Another Report"})})]}),!N&&n.jsxs("div",{className:"report-creation-wizard",children:[n.jsxs("div",{className:"wizard-step",children:[n.jsx("h3",{children:"Step 1: Enter Sample Number"}),n.jsxs("div",{className:"sample-input-section",children:[n.jsxs("div",{className:"input-group",style:{position:"relative"},children:[n.jsx("input",{type:"text",placeholder:"Enter Sample No (e.g., GS-210126-1, GS-221526-3)",value:u,onChange:te,disabled:S,className:"form-input",list:"sample-suggestions"}),J.length>0&&n.jsx("div",{className:"suggestions-dropdown",children:J.map((Q,se)=>n.jsxs("div",{className:"suggestion-item",onClick:()=>fe(Q),children:[Q.sample_no,n.jsx("span",{className:"suggestion-test",children:Q.test_name}),n.jsx("span",{className:"suggestion-status",children:Q.status})]},se))}),n.jsx("button",{onClick:Y,disabled:S||!u.trim(),className:"btn-primary",children:S?"Checking...":"Fetch Sample Info"})]}),n.jsxs("div",{className:"latest-samples",children:[n.jsx("small",{children:"Recent samples:"}),n.jsx("div",{className:"sample-tags",children:V.map((Q,se)=>n.jsx("span",{className:"sample-tag",onClick:()=>r(Q.sample_no),title:`${Q.test_name} (${Q.request_no})`,children:Q.sample_no},se))})]})]})]}),d&&n.jsxs("div",{className:"wizard-step",children:[n.jsx("h3",{children:"Step 2: Sample Information"}),P&&ee?n.jsxs("div",{className:"existing-report-details",children:[n.jsxs("div",{className:"details-header",children:[n.jsx("h4",{children:" Existing Report Details"}),n.jsx("button",{onClick:de,className:"btn-close-details",children:" Hide Details"})]}),n.jsxs("div",{className:"report-details-card",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Report No:"})," ",ee.report_no]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Status:"}),n.jsx("span",{className:`status-badge ${ee.status.toLowerCase()}`,children:ee.status})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Created:"})," ",new Date(ee.created_at).toLocaleString()]}),ee.checked_at&&n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Checked:"})," ",new Date(ee.checked_at).toLocaleString()]}),ee.approved_at&&n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Approved:"})," ",new Date(ee.approved_at).toLocaleString()]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Uploaded By:"})," ",ee.uploaded_by_username||"Unknown"]}),ee.checked_by_username&&n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Checked By:"})," ",ee.checked_by_username]}),ee.approved_by_username&&n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Approved By:"})," ",ee.approved_by_username]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Covers Samples:"}),n.jsx("div",{className:"samples-list",children:ee.covered_samples&&ee.covered_samples.length>0?ee.covered_samples.map((Q,se)=>n.jsx("span",{className:"sample-chip",children:Q},se)):n.jsx("span",{children:"No samples listed"})})]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"Total Samples:"})," ",ee.sample_count||1]}),n.jsxs("div",{className:"info-row",children:[n.jsx("strong",{children:"File:"})," ",ee.file_path?.split("/").pop()||"No file"]})]}),n.jsxs("div",{className:"details-actions",children:[n.jsx("button",{onClick:()=>O(k.report_id),className:"btn-primary",disabled:!k.report_id,children:" Download Report File"}),n.jsx("button",{onClick:de,className:"btn-secondary",children:"Back to Upload"})]})]}):k&&!P?n.jsxs("div",{className:"existing-report-warning",children:[n.jsxs("div",{className:"warning-header",children:[n.jsx("span",{className:"warning-icon",children:""}),n.jsx("strong",{children:"Report Already Exists!"})]}),n.jsxs("p",{children:["A report already exists for ",n.jsx("strong",{children:d.test_name}),". This report covers ",n.jsxs("strong",{children:[d.sample_count," samples"]}),"."]}),n.jsxs("div",{className:"existing-report-info",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Report No:"})," ",k.report_no]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{className:`status-badge ${k.status.toLowerCase()}`,children:k.status})]})]}),n.jsxs("div",{className:"warning-actions",children:[n.jsx("button",{onClick:()=>O(k.report_id),className:"btn-download-existing",disabled:!k.report_id,children:" Download Existing Report"}),n.jsx("button",{onClick:I,className:"btn-secondary",children:" View Details"}),n.jsx("button",{onClick:()=>z(null),className:"btn-primary",children:" Upload New Version"})]})]}):null,n.jsxs("div",{className:"sample-info-card",children:[n.jsxs("div",{className:"info-grid",children:[n.jsxs("div",{className:"info-item",children:[n.jsx("strong",{children:"Sample No:"})," ",d.sample_no]}),n.jsxs("div",{className:"info-item",children:[n.jsx("strong",{children:"Test Name:"})," ",d.test_name]}),n.jsxs("div",{className:"info-item",children:[n.jsx("strong",{children:"Item Code:"})," ",d.item_code]}),n.jsxs("div",{className:"info-item",children:[n.jsx("strong",{children:"Test Type:"}),n.jsx("span",{className:"test-type-badge",children:d.sample_count>1?`Combined Report (${d.sample_count} samples)`:"Single Sample Report"})]}),n.jsxs("div",{className:"info-item",children:[n.jsx("strong",{children:"Template:"}),d.template_available?n.jsx("span",{className:"status-available",children:"  Available"}):n.jsx("span",{className:"status-unavailable",children:"  Not Available"})]}),d.test_samples&&d.test_samples.length>1&&n.jsxs("div",{className:"info-item full-width",children:[n.jsx("strong",{children:"All Samples for this Test:"}),n.jsx("div",{className:"samples-list",children:d.test_samples.map((Q,se,D)=>n.jsxs("span",{className:`sample-chip ${Q===u?"current-sample":""}`,title:Q===u?"Current sample":"",children:[Q,se<D.length-1&&", "]},se))})]})]}),d.template_available&&n.jsxs("div",{className:"template-section",children:[n.jsx("button",{onClick:F,className:"btn-secondary",disabled:!d.template_available,children:" Download Report Template"}),n.jsxs("small",{className:"hint",children:["Fill the template with test results for ",n.jsxs("strong",{children:[d.sample_count," samples"]})," and upload it back"]})]}),!d.template_available&&n.jsxs("div",{className:"no-template-warning",children:[n.jsx("p",{children:" No template found for this test. You can:"}),n.jsxs("ul",{children:[n.jsxs("li",{children:["Create your own report in Word/Excel format for ",n.jsxs("strong",{children:[d.sample_count," samples"]})]}),n.jsx("li",{children:"Upload it as a completed report"})]})]})]})]}),d&&!k&&!P&&n.jsxs("div",{className:"wizard-step",children:[n.jsx("h3",{children:"Step 3: Upload Completed Report"}),n.jsxs("form",{onSubmit:je,className:"upload-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"file-upload",children:"Select Report File:"}),n.jsx("input",{type:"file",id:"file-upload",onChange:pe,accept:".doc,.docx,.xls,.xlsx,.pdf",className:"form-input"}),n.jsx("small",{className:"hint",children:"Accepted formats: Word (.doc, .docx), Excel (.xls, .xlsx), PDF (.pdf)"})]}),y&&n.jsxs("div",{className:"file-preview",children:[n.jsx("strong",{children:"Selected file:"})," ",y.name," (",(y.size/1024).toFixed(2)," KB)"]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"notes",children:"Notes (Optional):"}),n.jsx("textarea",{id:"notes",value:v,onChange:Q=>_(Q.target.value),placeholder:`Add notes about this ${d.test_name} report...`,rows:"3",className:"form-textarea"})]}),n.jsx("button",{type:"submit",disabled:S||!y,className:"btn-primary upload-btn",children:S?"Uploading...":` Upload ${d.test_name} Report`})]})]})]})]})}function vy(){const[s,c]=j.useState(null),[u,r]=j.useState([]),[d,h]=j.useState({}),[m,x]=j.useState("UNDER_REVIEW"),[y,p]=j.useState(!0),[v,_]=j.useState(""),[S,C]=j.useState([]),[b,E]=j.useState(null),[N,G]=j.useState([]),[V,w]=j.useState(!1),[J,K]=j.useState(null),[k,z]=j.useState(0),[ee,re]=j.useState(0),[P,he]=j.useState(0),[ne,H]=j.useState(new Set),[Y,F]=j.useState(!1);j.useEffect(()=>{const q=JSON.parse(localStorage.getItem("user"));if(!q){window.location.href="/";return}const oe=q.role||"CHEMIST";if(!["SUPERVISOR","MANAGER"].includes(oe)){_(" Access Denied: Only Supervisors and Managers can view reports");return}c(q),O(),pe(),I(),de()},[m]);const O=async()=>{try{const q=await fetch(`${ue}/auth/users/all`);if(q.ok){const oe=await q.json(),W={};oe.forEach(ce=>{W[ce.user_id]=ce.username}),h(W)}}catch(q){console.error("Error fetching users:",q)}},I=async()=>{try{const q=await fetch(`${ue}/invoices/projects/latest/`);if(q.ok){const oe=await q.json();C(oe)}else throw new Error("Failed to fetch projects")}catch(q){console.error("Error fetching projects:",q)}},de=async()=>{try{const q=await fetch(`${ue}/reports?status=UNDER_REVIEW`);if(q.ok){const ce=await q.json(),ve=[...new Set(ce.map(xe=>xe.report_no))];z(ve.length)}const oe=await fetch(`${ue}/reports?status=APPROVED`);if(oe.ok){const ce=await oe.json(),ve=[...new Set(ce.map(xe=>xe.report_no))];re(ve.length)}const W=await fetch(`${ue}/reports?status=ALL`);if(W.ok){const ce=await W.json(),ve=[...new Set(ce.map(xe=>xe.report_no))];he(ve.length)}}catch(q){console.error("Error fetching report counts:",q)}},pe=async()=>{try{p(!0);const q=await fetch(`${ue}/reports?status=${m}`);if(!q.ok)throw new Error("Failed to fetch reports");const oe=await q.json(),W=[],ce=new Set;oe.forEach(ve=>{ce.has(ve.report_no)||(ce.add(ve.report_no),W.push(ve))}),r(W),_("")}catch(q){_(` Error: ${q.message}`)}finally{p(!1)}},je=async q=>{try{w(!0),H(new Set),F(!1);const oe=await fetch(`${ue}/invoices/projects/${q}/reports-invoiced-status`);if(!oe.ok)throw new Error("Failed to fetch project reports");const ce=(await oe.json()).reports.map(xe=>{let Se=[];return xe.covers_samples&&xe.covers_samples.length>0&&(Se=xe.covers_samples),{report_id:xe.report_id,report_no:xe.report_no,test_name:xe.test_name,created_at:xe.created_date,covers_samples:Se,covered_samples:Se,sample_count:xe.sample_count||1,is_invoiced:xe.is_invoiced,invoice_status:xe.invoice_status||(xe.is_invoiced?"Invoiced":"Uninvoiced")}});G(ce);const ve=S.find(xe=>xe.project_id===q);ve&&E({...ve,project_name_raw:ve.project_name_raw||ve.project_name}),_("")}catch(oe){console.error("Error fetching project reports:",oe),_(` Error loading project reports: ${oe.message}`),G([])}finally{w(!1)}},R=q=>{const oe=S.find(W=>W.project_id===q);E(oe),q?je(q):G([])},A=q=>d[q]?d[q]:{6:"admin",7:"labtech1",8:"supervisor1",9:"chemist2"}[q]||`User ${q}`,te=async q=>{if(window.confirm("Are you sure you want to approve this report?"))try{const oe=await fetch(`${ue}/reports/reports/${q}/approve?approved_by=${s.user_id}`,{method:"POST"});if(!oe.ok)throw new Error("Failed to approve report");const W=await oe.json();_(` Report ${W.report_no} approved successfully`),pe(),de()}catch(oe){_(` Approval error: ${oe.message}`)}},fe=async q=>{try{const oe=await fetch(`${ue}/reports/${q}/download`);if(!oe.ok)throw new Error("Failed to download report");const W=await oe.blob(),ce=window.URL.createObjectURL(W),ve=document.createElement("a");ve.href=ce;const xe=oe.headers.get("content-disposition");let Se=`Report_${q}`;if(xe){const ye=xe.match(/filename="?([^"]+)"?/);ye&&ye[1]&&(Se=ye[1])}ve.download=Se,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),window.URL.revokeObjectURL(ce)}catch(oe){_(` Download error: ${oe.message}`)}},Q=q=>{const oe=new Set(ne);oe.has(q)?oe.delete(q):oe.add(q),H(oe);const W=N.filter(ce=>!ce.is_invoiced);F(oe.size===W.length)},se=async()=>{if(ne.size===0){_(" Please select at least one report");return}if(!b){_(" No project selected");return}try{_(" Generating Proforma Invoice for selected reports...");const q=N.filter(ye=>ne.has(ye.report_id)),oe=await fetch(`${ue}/invoices/generate-proforma-for-multiple-reports`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:b.project_id,report_ids:Array.from(ne),report_nos:q.map(ye=>ye.report_no)})});if(!oe.ok)throw new Error("Failed to generate proforma invoice");const W=await oe.blob(),ce=window.URL.createObjectURL(W),ve=document.createElement("a");ve.href=ce;const xe=oe.headers.get("content-disposition");let Se=`Proforma_${ne.size}_reports.xlsx`;if(xe){const ye=xe.match(/filename="?([^"]+)"?/);ye&&ye[1]&&(Se=ye[1])}ve.download=Se,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),window.URL.revokeObjectURL(ce),_(` Proforma invoice generated for ${ne.size} report(s)`),H(new Set),F(!1)}catch(q){console.error("Error generating bulk proforma invoice:",q),_(` Error: ${q.message}`)}};if(!s)return n.jsx("div",{className:"loading",children:" Access Denied - Only Supervisors Have Access"});const D=s.role||"CHEMIST";return["SUPERVISOR","MANAGER"].includes(D)?n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsx("h2",{children:"Reports Management"}),n.jsx("div",{className:"user-info",children:n.jsxs("span",{className:"role-badge",children:[s.role," - Reports Dashboard"]})})]}),v&&n.jsx("div",{className:`message ${v.includes("")?"success":"error"}`,children:v}),n.jsxs("div",{className:"filter-section",children:[n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("button",{className:m==="UNDER_REVIEW"?"active":"",onClick:()=>x("UNDER_REVIEW"),children:[" Pending Approval (",k,")"]}),n.jsxs("button",{className:m==="APPROVED"?"active":"",onClick:()=>x("APPROVED"),children:[" Approved (",ee,")"]}),n.jsxs("button",{className:m==="ALL"?"active":"",onClick:()=>x("ALL"),children:[" All Reports (",P,")"]})]}),n.jsx("button",{onClick:()=>{pe(),de()},className:"btn-refresh",children:" Refresh"})]}),y?n.jsx("div",{className:"loading",children:"Loading reports..."}):u.length===0?n.jsxs("div",{className:"no-data",children:[n.jsx("h3",{children:" No Reports Found"}),n.jsx("p",{children:"No reports match the current filter."})]}):n.jsx("div",{className:"reports-table-container",children:n.jsxs("table",{className:"reports-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Report No"}),n.jsx("th",{children:"Samples"}),n.jsx("th",{children:"Test Name"}),n.jsx("th",{children:"Uploaded"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:u.map(q=>n.jsxs("tr",{children:[n.jsxs("td",{className:"report-no",children:[n.jsx("strong",{children:q.report_no}),q.covered_samples&&q.covered_samples.length>0&&n.jsx("div",{className:"samples-tooltip",children:n.jsxs("small",{children:[" Samples: ",q.covered_samples.join(", ")]})})]}),n.jsx("td",{className:"sample-count",children:q.sample_count||1}),n.jsx("td",{className:"test-name",children:q.test_name||"N/A"}),n.jsx("td",{className:"uploaded-by",children:A(q.uploaded_by)}),n.jsx("td",{className:"upload-date",children:new Date(q.created_at).toLocaleDateString()}),n.jsxs("td",{className:"status",children:[n.jsx("span",{className:`status-badge ${q.status.toLowerCase()}`,children:q.status}),q.is_locked&&n.jsx("span",{className:"lock-badge",children:"(L)"})]}),n.jsxs("td",{className:"actions",children:[n.jsx("button",{onClick:()=>fe(q.report_id),className:"btn-download",title:"Download Report",children:"Download"}),n.jsx("button",{className:"btn-notes",onClick:()=>K(q),title:"View Notes",children:"Notes"}),q.status==="UNDER_REVIEW"&&!q.is_locked&&n.jsx("button",{onClick:()=>te(q.report_id),className:"btn-approve",title:"Approve Report",children:"Approve"}),q.status==="APPROVED"&&n.jsxs("span",{className:"approved-info",children:["Approved by: ",A(q.approved_by)]})]})]},q.report_id))})]})}),n.jsxs("div",{className:"section-divider",children:[n.jsx("hr",{}),n.jsx("h3",{children:"Get Reports by LP"})]}),n.jsxs("div",{className:"project-search-section",children:[n.jsxs("div",{className:"search-box",children:[n.jsx("label",{htmlFor:"project-search",children:"Search by Project (Lab Project No.):"}),n.jsxs("select",{id:"project-search",onChange:q=>R(parseInt(q.target.value)),value:b?.project_id||"",className:"project-select",children:[n.jsx("option",{value:"",children:"Last 10 Projects"}),S.map(q=>n.jsxs("option",{value:q.project_id,children:[q.project_no," - ",q.project_name_raw," (",q.client_name,")"]},q.project_id))]}),b&&n.jsxs("div",{className:"project-info-card",children:[n.jsxs("h4",{children:["Project: ",b.project_no]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",b.project_name_raw]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Client:"})," ",b.client_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Location:"})," ",b.location]})]})]}),b&&n.jsxs("div",{className:"project-reports-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsxs("h4",{children:["Reports for ",b.project_no]}),n.jsxs("div",{className:"stats-section",children:[n.jsxs("div",{className:"stats-badges",children:[n.jsxs("span",{className:"badge invoiced",children:["Invoiced: ",N.filter(q=>q.is_invoiced).length]}),n.jsxs("span",{className:"badge uninvoiced",children:["Uninvoiced: ",N.filter(q=>!q.is_invoiced).length]}),n.jsxs("span",{className:"badge total",children:["Total: ",N.length]})]}),N.filter(q=>!q.is_invoiced).length>0&&n.jsx("div",{className:"bulk-actions",children:ne.size>0&&n.jsxs("button",{onClick:se,className:"btn-bulk-proforma",title:"Generate Proforma for Selected Reports",children:[ne.size," Invoice "]})})]})]}),V?n.jsx("div",{className:"loading",children:"Loading project reports..."}):N.length===0?n.jsxs("div",{className:"no-data",children:[n.jsx("h4",{children:" No Reports Found"}),n.jsxs("p",{children:["No approved reports found for project ",b.project_no,"."]})]}):n.jsx("div",{className:"project-reports-table-container",children:n.jsxs("table",{className:"project-reports-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{width:"40px"}}),n.jsx("th",{children:"Report No"}),n.jsx("th",{children:"Samples"}),n.jsx("th",{children:"Test Name"}),n.jsx("th",{children:"Created Date"}),n.jsx("th",{children:"Invoice Status"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:N.map(q=>n.jsxs("tr",{children:[n.jsx("td",{className:"select-cell",children:!q.is_invoiced&&n.jsx("input",{type:"checkbox",checked:ne.has(q.report_id),onChange:()=>Q(q.report_id),className:"report-checkbox",title:"Select for bulk proforma"})}),n.jsxs("td",{className:"report-no",children:[n.jsx("strong",{children:q.report_no}),q.covers_samples&&q.covers_samples.length>0&&n.jsx("div",{className:"samples-tooltip",children:n.jsxs("small",{children:[" ",q.covers_samples.slice(0,2).join(", "),q.covers_samples.length>2&&` +${q.covers_samples.length-2} more`]})})]}),n.jsx("td",{className:"sample-count",children:q.sample_count||1}),n.jsx("td",{className:"test-name",children:q.test_name||"N/A"}),n.jsx("td",{className:"created-date",children:q.created_at?new Date(q.created_at).toLocaleDateString():"N/A"}),n.jsx("td",{className:"invoice-status",children:q.is_invoiced?n.jsx("span",{className:"status-tag invoiced",title:"This report is in PERFORMA/TAX invoice or delivery note",children:" Invoiced"}):n.jsx("span",{className:"status-tag uninvoiced",title:"This report is not in any invoice or delivery note",children:" Uninvoiced"})}),n.jsx("td",{className:"actions",children:q.is_invoiced?n.jsx("button",{onClick:()=>fe(q.report_id),className:"btn-download-small",title:"Download Report",children:" Report"}):n.jsx(n.Fragment,{children:n.jsx("button",{onClick:()=>fe(q.report_id),className:"btn-download-small",title:"Download Report",children:" Report"})})})]},q.report_id))})]})})]})]}),J&&n.jsx("div",{className:"notes-modal-overlay",onClick:()=>K(null),children:n.jsxs("div",{className:"notes-modal-content",onClick:q=>q.stopPropagation(),children:[n.jsxs("div",{className:"notes-modal-header",children:[n.jsxs("h4",{children:["Notes for ",J.report_no]}),n.jsx("button",{className:"close-btn",onClick:()=>K(null),children:""})]}),n.jsx("div",{className:"notes-modal-body",children:n.jsx("p",{children:J.notes||"No notes provided for this report."})})]})}),n.jsx("style",{jsx:!0,children:`
        .module-content {
          padding: 20px;
        }
        
        .module-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }
        
        .module-header h2 {
          margin: 0;
          color: #2c3e50;
        }
        
        .user-info {
          display: flex;
          align-items: center;
          gap: 10px;
        }
        
        .role-badge {
          background: #3498db;
          color: white;
          padding: 5px 10px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: bold;
        }
        
        .message {
          padding: 12px 16px;
          border-radius: 6px;
          margin-bottom: 20px;
          font-weight: 500;
        }
        
        .message.success {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }
        
        .message.error {
          background: #f8d7da;
          color: #721c24;
          border: 1px solid #f5c6cb;
        }
        
        .filter-section {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          padding: 15px;
          background: #f8f9fa;
          border-radius: 8px;
          border: 1px solid #e0e0e0;
        }
        
        .filter-buttons {
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
        }
        
        .filter-buttons button {
          padding: 8px 16px;
          border: 1px solid #dee2e6;
          background: white;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.3s;
        }
        
        .filter-buttons button:hover {
          background: #f8f9fa;
        }
        
        .filter-buttons button.active {
          background: #007bff;
          color: white;
          border-color: #007bff;
        }
        
        .btn-refresh {
          padding: 8px 16px;
          background: #6c757d;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          transition: background 0.3s;
        }
        
        .btn-refresh:hover {
          background: #5a6268;
        }
        
        .loading {
          text-align: center;
          padding: 40px;
          color: #6c757d;
          font-size: 16px;
        }
        
        .no-data {
          text-align: center;
          padding: 40px;
          background: #f8f9fa;
          border-radius: 8px;
          border: 1px dashed #dee2e6;
          color: #6c757d;
        }
        
        .reports-table-container {
          overflow-x: auto;
          background: white;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .reports-table {
          width: 100%;
          border-collapse: collapse;
        }
        
        .reports-table th {
          background: #f8f9fa;
          padding: 12px 15px;
          text-align: left;
          font-weight: 600;
          color: #495057;
          border-bottom: 2px solid #dee2e6;
          font-size: 14px;
        }
        
        .reports-table td {
          padding: 12px 15px;
          border-bottom: 1px solid #e9ecef;
          font-size: 14px;
        }
        
        .reports-table tr:hover {
          background: #f8f9fa;
        }
        
        .status-badge {
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          display: inline-block;
        }
        
        .status-badge.under_review {
          background: #fff3cd;
          color: #856404;
        }
        
        .status-badge.approved {
          background: #d4edda;
          color: #155724;
        }
        
        .lock-badge {
          font-size: 11px;
          color: #dc3545;
          margin-left: 5px;
        }
        
        .actions {
          display: flex;
          gap: 5px;
          align-items: center;
        }
        
        .btn-download {
          padding: 6px 12px;
          background: #007;
          margin-top: 18px;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 13px;
          transition: background 0.3s;
        }
        
        .btn-download:hover {
          background: #0056b3;
        }
        
        .btn-approve {
          padding: 6px 12px;
          background: #28a745;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 13px;
          transition: background 0.3s;
        }
        
        .btn-approve:hover {
          background: #218838;
        }
        
        .btn-notes {
          background: #6c757d;
          color: white;
          border: none;
          padding: 5px 15px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 13px;
          margin-right: 5px;
        }
        
        .btn-notes:hover {
          background: #5a6268;
        }
        
        .approved-info {
          font-size: 12px;
          color: #6c757d;
        }
        
        /* New styles for bulk selection */
        .section-divider {
          margin: 40px 0 20px 0;
          text-align: center;
          position: relative;
        }
        
        .section-divider hr {
          border: none;
          height: 1px;
          background: #e0e0e0;
          margin: 20px 0;
        }
        
        .section-divider h3 {
          display: inline-block;
          background: white;
          padding: 0 20px;
          color: #2c3e50;
          position: relative;
          top: -12px;
          font-size: 18px;
        }
        
        .project-search-section {
          margin: 30px 0;
          padding: 25px;
          background: #f8f9fa;
          border-radius: 10px;
          border: 1px solid #e0e0e0;
        }
        
        .search-box {
          max-width: 800px;
        }
        
        .search-box label {
          display: block;
          margin-bottom: 8px;
          font-weight: 600;
          color: #2c3e50;
          font-size: 16px;
        }
        
        .project-select {
          width: 100%;
          padding: 12px;
          border: 2px solid #dee2e6;
          border-radius: 8px;
          font-size: 16px;
          color: #495057;
          background: white;
          margin-bottom: 20px;
          transition: border-color 0.3s, box-shadow 0.3s;
        }
        
        .project-select:focus {
          outline: none;
          border-color: #007bff;
          box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }
        
        .project-info-card {
          padding: 20px;
          background: white;
          border-radius: 8px;
          border-left: 4px solid #28a745;
          margin-top: 10px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .project-info-card h4 {
          margin: 0 0 15px 0;
          color: #2c3e50;
          font-size: 18px;
        }
        
        .project-info-card p {
          margin: 8px 0;
          color: #555;
          font-size: 14px;
        }
        
        .project-info-card p strong {
          color: #333;
          min-width: 60px;
          display: inline-block;
        }
        
        .project-reports-section {
          margin-top: 30px;
        }
        
        .section-header {
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 2px solid #e0e0e0;
        }
        
        .section-header h4 {
          margin: 0 0 15px 0;
          color: #2c3e50;
          font-size: 18px;
        }
        
        .stats-section {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
          align-items: center;
          gap: 20px;
        }
        
        .stats-badges {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }
        
        .bulk-actions {
          display: flex;
          flex-direction: column;
          gap: 10px;
          align-items: flex-end;
        }
        
        .select-all-control {
          background: #f8f9fa;
          padding: 8px 16px;
          border-radius: 6px;
          border: 1px solid #dee2e6;
        }
        
        .checkbox-label {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
          user-select: none;
          font-size: 14px;
        }
        
        .select-all-checkbox,
        .report-checkbox {
          width: 18px;
          height: 18px;
          cursor: pointer;
        }
        
        .btn-bulk-proforma {
          padding: 10px 20px;
          background: #28a745;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          transition: background 0.3s;
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .btn-bulk-proforma:hover {
          background: #218838;
        }
        
        .badge {
          padding: 8px 16px;
          border-radius: 20px;
          font-size: 13px;
          font-weight: 600;
          display: inline-flex;
          align-items: center;
          gap: 6px;
        }
        
        .badge.invoiced {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }
        
        .badge.uninvoiced {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }
        
        .badge.total {
          background: #d1ecf1;
          color: #0c5460;
          border: 1px solid #bee5eb;
        }
        
        .project-reports-table-container {
          overflow-x: auto;
        }
        
        .project-reports-table {
          width: 100%;
          border-collapse: collapse;
          background: white;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .project-reports-table th {
          background: #f8f9fa;
          padding: 15px;
          text-align: left;
          font-weight: 600;
          color: #495057;
          border-bottom: 2px solid #dee2e6;
          font-size: 14px;
        }
        
        .project-reports-table td {
          padding: 12px 15px;
          border-bottom: 1px solid #e9ecef;
          font-size: 14px;
          vertical-align: middle;
        }
        
        .select-cell {
          text-align: center;
          padding: 12px 5px !important;
        }
        
        .project-reports-table tr:hover {
          background: #f8f9fa;
        }
        
        .status-tag {
          padding: 4px 10px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          display: inline-block;
        }
        
        .status-tag.invoiced {
          background: #d4edda;
          color: #155724;
        }
        
        .status-tag.uninvoiced {
          background: #fff3cd;
          color: #856404;
        }
        
        .btn-download-small {
          padding: 6px 12px;
          background: #007bff;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: background 0.3s;
          margin-right: 5px;
        }
        
        .btn-download-small:hover {
          background: #0056b3;
        }
        
        .btn-proforma {
          padding: 6px 12px;
          background: #17a2b8;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          transition: background 0.3s;
          margin-right: 5px;
        }
        
        .btn-proforma:hover {
          background: #138496;
        }
        
        .samples-tooltip {
          margin-top: 4px;
          color: #6c757d;
          font-size: 12px;
        }
        
        .samples-tooltip small {
          display: flex;
          align-items: center;
          gap: 4px;
        }
        
        /* Notes Modal Styling */
        .notes-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          z-index: 1000;
          padding-top: 60px;
        }
        
        .notes-modal-content {
          background: white;
          padding: 20px;
          border-radius: 8px;
          width: 90%;
          max-width: 400px;
          box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .notes-modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 15px;
          border-bottom: 1px solid #eee;
          padding-bottom: 10px;
        }
        
        .notes-modal-header h4 {
          margin: 0;
          color: #333;
        }
        
        .close-btn {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #999;
        }
        
        .notes-modal-body {
          font-size: 15px;
          line-height: 1.5;
          color: #444;
          white-space: pre-wrap;
        }
          
        @media (max-width: 768px) {
          .module-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
          }
          
          .filter-section {
            flex-direction: column;
            gap: 15px;
          }
          
          .filter-buttons {
            width: 100%;
            justify-content: center;
          }
          
          .stats-section {
            flex-direction: column;
            align-items: flex-start;
            gap: 15px;
          }
          
          .bulk-actions {
            width: 100%;
            align-items: stretch;
          }
          
          .btn-bulk-proforma {
            width: 100%;
            justify-content: center;
          }
          
          .stats-badges {
            width: 100%;
            justify-content: flex-start;
            flex-wrap: wrap;
          }
          
          .actions {
            flex-wrap: wrap;
          }
          
          .btn-download, .btn-notes, .btn-approve {
            margin-bottom: 5px;
          }
        }
        
        @media (max-width: 480px) {
          .module-content {
            padding: 10px;
          }
          
          .project-search-section {
            padding: 15px;
          }
          
          .filter-buttons button {
            padding: 6px 12px;
            font-size: 14px;
          }
          
          .reports-table th, 
          .reports-table td,
          .project-reports-table th,
          .project-reports-table td {
            padding: 8px 10px;
            font-size: 13px;
          }
          
          .badge {
            padding: 6px 12px;
            font-size: 12px;
          }
        }
      `})]}):n.jsx("div",{className:"module-content",children:n.jsxs("div",{className:"access-denied",children:[n.jsx("h2",{children:" Access Denied"}),n.jsx("p",{children:"Only Supervisors and Managers can access this page."}),n.jsxs("p",{children:["Your role: ",n.jsx("strong",{children:D})]})]})})}function km(s,c){return function(){return s.apply(c,arguments)}}const{toString:yy}=Object.prototype,{getPrototypeOf:Lc}=Object,{iterator:Xi,toStringTag:Mm}=Symbol,Zi=(s=>c=>{const u=yy.call(c);return s[u]||(s[u]=u.slice(8,-1).toLowerCase())})(Object.create(null)),Kt=s=>(s=s.toLowerCase(),c=>Zi(c)===s),Ji=s=>c=>typeof c===s,{isArray:rl}=Array,sl=Ji("undefined");function hs(s){return s!==null&&!sl(s)&&s.constructor!==null&&!sl(s.constructor)&&St(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const $m=Kt("ArrayBuffer");function jy(s){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(s):c=s&&s.buffer&&$m(s.buffer),c}const by=Ji("string"),St=Ji("function"),Bm=Ji("number"),ms=s=>s!==null&&typeof s=="object",_y=s=>s===!0||s===!1,$i=s=>{if(Zi(s)!=="object")return!1;const c=Lc(s);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Mm in s)&&!(Xi in s)},Ny=s=>{if(!ms(s)||hs(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Sy=Kt("Date"),wy=Kt("File"),Ey=Kt("Blob"),Cy=Kt("FileList"),Ry=s=>ms(s)&&St(s.pipe),Ty=s=>{let c;return s&&(typeof FormData=="function"&&s instanceof FormData||St(s.append)&&((c=Zi(s))==="formdata"||c==="object"&&St(s.toString)&&s.toString()==="[object FormData]"))},Ay=Kt("URLSearchParams"),[Dy,qy,Oy,Ly]=["ReadableStream","Request","Response","Headers"].map(Kt),Uy=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ps(s,c,{allOwnKeys:u=!1}={}){if(s===null||typeof s>"u")return;let r,d;if(typeof s!="object"&&(s=[s]),rl(s))for(r=0,d=s.length;r<d;r++)c.call(null,s[r],r,s);else{if(hs(s))return;const h=u?Object.getOwnPropertyNames(s):Object.keys(s),m=h.length;let x;for(r=0;r<m;r++)x=h[r],c.call(null,s[x],x,s)}}function Hm(s,c){if(hs(s))return null;c=c.toLowerCase();const u=Object.keys(s);let r=u.length,d;for(;r-- >0;)if(d=u[r],c===d.toLowerCase())return d;return null}const xn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qm=s=>!sl(s)&&s!==xn;function Sc(){const{caseless:s,skipUndefined:c}=Qm(this)&&this||{},u={},r=(d,h)=>{const m=s&&Hm(u,h)||h;$i(u[m])&&$i(d)?u[m]=Sc(u[m],d):$i(d)?u[m]=Sc({},d):rl(d)?u[m]=d.slice():(!c||!sl(d))&&(u[m]=d)};for(let d=0,h=arguments.length;d<h;d++)arguments[d]&&ps(arguments[d],r);return u}const zy=(s,c,u,{allOwnKeys:r}={})=>(ps(c,(d,h)=>{u&&St(d)?s[h]=km(d,u):s[h]=d},{allOwnKeys:r}),s),ky=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),My=(s,c,u,r)=>{s.prototype=Object.create(c.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:c.prototype}),u&&Object.assign(s.prototype,u)},$y=(s,c,u,r)=>{let d,h,m;const x={};if(c=c||{},s==null)return c;do{for(d=Object.getOwnPropertyNames(s),h=d.length;h-- >0;)m=d[h],(!r||r(m,s,c))&&!x[m]&&(c[m]=s[m],x[m]=!0);s=u!==!1&&Lc(s)}while(s&&(!u||u(s,c))&&s!==Object.prototype);return c},By=(s,c,u)=>{s=String(s),(u===void 0||u>s.length)&&(u=s.length),u-=c.length;const r=s.indexOf(c,u);return r!==-1&&r===u},Hy=s=>{if(!s)return null;if(rl(s))return s;let c=s.length;if(!Bm(c))return null;const u=new Array(c);for(;c-- >0;)u[c]=s[c];return u},Qy=(s=>c=>s&&c instanceof s)(typeof Uint8Array<"u"&&Lc(Uint8Array)),Gy=(s,c)=>{const r=(s&&s[Xi]).call(s);let d;for(;(d=r.next())&&!d.done;){const h=d.value;c.call(s,h[0],h[1])}},Vy=(s,c)=>{let u;const r=[];for(;(u=s.exec(c))!==null;)r.push(u);return r},Fy=Kt("HTMLFormElement"),Yy=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(u,r,d){return r.toUpperCase()+d}),Wh=(({hasOwnProperty:s})=>(c,u)=>s.call(c,u))(Object.prototype),Xy=Kt("RegExp"),Gm=(s,c)=>{const u=Object.getOwnPropertyDescriptors(s),r={};ps(u,(d,h)=>{let m;(m=c(d,h,s))!==!1&&(r[h]=m||d)}),Object.defineProperties(s,r)},Zy=s=>{Gm(s,(c,u)=>{if(St(s)&&["arguments","caller","callee"].indexOf(u)!==-1)return!1;const r=s[u];if(St(r)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+u+"'")})}})},Jy=(s,c)=>{const u={},r=d=>{d.forEach(h=>{u[h]=!0})};return rl(s)?r(s):r(String(s).split(c)),u},Ky=()=>{},Py=(s,c)=>s!=null&&Number.isFinite(s=+s)?s:c;function Iy(s){return!!(s&&St(s.append)&&s[Mm]==="FormData"&&s[Xi])}const Wy=s=>{const c=new Array(10),u=(r,d)=>{if(ms(r)){if(c.indexOf(r)>=0)return;if(hs(r))return r;if(!("toJSON"in r)){c[d]=r;const h=rl(r)?[]:{};return ps(r,(m,x)=>{const y=u(m,d+1);!sl(y)&&(h[x]=y)}),c[d]=void 0,h}}return r};return u(s,0)},ej=Kt("AsyncFunction"),tj=s=>s&&(ms(s)||St(s))&&St(s.then)&&St(s.catch),Vm=((s,c)=>s?setImmediate:c?((u,r)=>(xn.addEventListener("message",({source:d,data:h})=>{d===xn&&h===u&&r.length&&r.shift()()},!1),d=>{r.push(d),xn.postMessage(u,"*")}))(`axios@${Math.random()}`,[]):u=>setTimeout(u))(typeof setImmediate=="function",St(xn.postMessage)),aj=typeof queueMicrotask<"u"?queueMicrotask.bind(xn):typeof process<"u"&&process.nextTick||Vm,nj=s=>s!=null&&St(s[Xi]),X={isArray:rl,isArrayBuffer:$m,isBuffer:hs,isFormData:Ty,isArrayBufferView:jy,isString:by,isNumber:Bm,isBoolean:_y,isObject:ms,isPlainObject:$i,isEmptyObject:Ny,isReadableStream:Dy,isRequest:qy,isResponse:Oy,isHeaders:Ly,isUndefined:sl,isDate:Sy,isFile:wy,isBlob:Ey,isRegExp:Xy,isFunction:St,isStream:Ry,isURLSearchParams:Ay,isTypedArray:Qy,isFileList:Cy,forEach:ps,merge:Sc,extend:zy,trim:Uy,stripBOM:ky,inherits:My,toFlatObject:$y,kindOf:Zi,kindOfTest:Kt,endsWith:By,toArray:Hy,forEachEntry:Gy,matchAll:Vy,isHTMLForm:Fy,hasOwnProperty:Wh,hasOwnProp:Wh,reduceDescriptors:Gm,freezeMethods:Zy,toObjectSet:Jy,toCamelCase:Yy,noop:Ky,toFiniteNumber:Py,findKey:Hm,global:xn,isContextDefined:Qm,isSpecCompliantForm:Iy,toJSONObject:Wy,isAsyncFn:ej,isThenable:tj,setImmediate:Vm,asap:aj,isIterable:nj};function Re(s,c,u,r,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",c&&(this.code=c),u&&(this.config=u),r&&(this.request=r),d&&(this.response=d,this.status=d.status?d.status:null)}X.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Fm=Re.prototype,Ym={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Ym[s]={value:s}});Object.defineProperties(Re,Ym);Object.defineProperty(Fm,"isAxiosError",{value:!0});Re.from=(s,c,u,r,d,h)=>{const m=Object.create(Fm);X.toFlatObject(s,m,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const x=s&&s.message?s.message:"Error",y=c==null&&s?s.code:c;return Re.call(m,x,y,u,r,d),s&&m.cause==null&&Object.defineProperty(m,"cause",{value:s,configurable:!0}),m.name=s&&s.name||"Error",h&&Object.assign(m,h),m};const lj=null;function wc(s){return X.isPlainObject(s)||X.isArray(s)}function Xm(s){return X.endsWith(s,"[]")?s.slice(0,-2):s}function em(s,c,u){return s?s.concat(c).map(function(d,h){return d=Xm(d),!u&&h?"["+d+"]":d}).join(u?".":""):c}function sj(s){return X.isArray(s)&&!s.some(wc)}const ij=X.toFlatObject(X,{},null,function(c){return/^is[A-Z]/.test(c)});function Ki(s,c,u){if(!X.isObject(s))throw new TypeError("target must be an object");c=c||new FormData,u=X.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,N){return!X.isUndefined(N[E])});const r=u.metaTokens,d=u.visitor||v,h=u.dots,m=u.indexes,y=(u.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(c);if(!X.isFunction(d))throw new TypeError("visitor must be a function");function p(b){if(b===null)return"";if(X.isDate(b))return b.toISOString();if(X.isBoolean(b))return b.toString();if(!y&&X.isBlob(b))throw new Re("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(b)||X.isTypedArray(b)?y&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function v(b,E,N){let G=b;if(b&&!N&&typeof b=="object"){if(X.endsWith(E,"{}"))E=r?E:E.slice(0,-2),b=JSON.stringify(b);else if(X.isArray(b)&&sj(b)||(X.isFileList(b)||X.endsWith(E,"[]"))&&(G=X.toArray(b)))return E=Xm(E),G.forEach(function(w,J){!(X.isUndefined(w)||w===null)&&c.append(m===!0?em([E],J,h):m===null?E:E+"[]",p(w))}),!1}return wc(b)?!0:(c.append(em(N,E,h),p(b)),!1)}const _=[],S=Object.assign(ij,{defaultVisitor:v,convertValue:p,isVisitable:wc});function C(b,E){if(!X.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+E.join("."));_.push(b),X.forEach(b,function(G,V){(!(X.isUndefined(G)||G===null)&&d.call(c,G,X.isString(V)?V.trim():V,E,S))===!0&&C(G,E?E.concat(V):[V])}),_.pop()}}if(!X.isObject(s))throw new TypeError("data must be an object");return C(s),c}function tm(s){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return c[r]})}function Uc(s,c){this._pairs=[],s&&Ki(s,this,c)}const Zm=Uc.prototype;Zm.append=function(c,u){this._pairs.push([c,u])};Zm.toString=function(c){const u=c?function(r){return c.call(this,r,tm)}:tm;return this._pairs.map(function(d){return u(d[0])+"="+u(d[1])},"").join("&")};function oj(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Jm(s,c,u){if(!c)return s;const r=u&&u.encode||oj;X.isFunction(u)&&(u={serialize:u});const d=u&&u.serialize;let h;if(d?h=d(c,u):h=X.isURLSearchParams(c)?c.toString():new Uc(c,u).toString(r),h){const m=s.indexOf("#");m!==-1&&(s=s.slice(0,m)),s+=(s.indexOf("?")===-1?"?":"&")+h}return s}class am{constructor(){this.handlers=[]}use(c,u,r){return this.handlers.push({fulfilled:c,rejected:u,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){X.forEach(this.handlers,function(r){r!==null&&c(r)})}}const Km={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rj=typeof URLSearchParams<"u"?URLSearchParams:Uc,cj=typeof FormData<"u"?FormData:null,uj=typeof Blob<"u"?Blob:null,dj={isBrowser:!0,classes:{URLSearchParams:rj,FormData:cj,Blob:uj},protocols:["http","https","file","blob","url","data"]},zc=typeof window<"u"&&typeof document<"u",Ec=typeof navigator=="object"&&navigator||void 0,fj=zc&&(!Ec||["ReactNative","NativeScript","NS"].indexOf(Ec.product)<0),hj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mj=zc&&window.location.href||"http://localhost",pj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zc,hasStandardBrowserEnv:fj,hasStandardBrowserWebWorkerEnv:hj,navigator:Ec,origin:mj},Symbol.toStringTag,{value:"Module"})),mt={...pj,...dj};function xj(s,c){return Ki(s,new mt.classes.URLSearchParams,{visitor:function(u,r,d,h){return mt.isNode&&X.isBuffer(u)?(this.append(r,u.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...c})}function gj(s){return X.matchAll(/\w+|\[(\w*)]/g,s).map(c=>c[0]==="[]"?"":c[1]||c[0])}function vj(s){const c={},u=Object.keys(s);let r;const d=u.length;let h;for(r=0;r<d;r++)h=u[r],c[h]=s[h];return c}function Pm(s){function c(u,r,d,h){let m=u[h++];if(m==="__proto__")return!0;const x=Number.isFinite(+m),y=h>=u.length;return m=!m&&X.isArray(d)?d.length:m,y?(X.hasOwnProp(d,m)?d[m]=[d[m],r]:d[m]=r,!x):((!d[m]||!X.isObject(d[m]))&&(d[m]=[]),c(u,r,d[m],h)&&X.isArray(d[m])&&(d[m]=vj(d[m])),!x)}if(X.isFormData(s)&&X.isFunction(s.entries)){const u={};return X.forEachEntry(s,(r,d)=>{c(gj(r),d,u,0)}),u}return null}function yj(s,c,u){if(X.isString(s))try{return(c||JSON.parse)(s),X.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(u||JSON.stringify)(s)}const xs={transitional:Km,adapter:["xhr","http","fetch"],transformRequest:[function(c,u){const r=u.getContentType()||"",d=r.indexOf("application/json")>-1,h=X.isObject(c);if(h&&X.isHTMLForm(c)&&(c=new FormData(c)),X.isFormData(c))return d?JSON.stringify(Pm(c)):c;if(X.isArrayBuffer(c)||X.isBuffer(c)||X.isStream(c)||X.isFile(c)||X.isBlob(c)||X.isReadableStream(c))return c;if(X.isArrayBufferView(c))return c.buffer;if(X.isURLSearchParams(c))return u.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let x;if(h){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xj(c,this.formSerializer).toString();if((x=X.isFileList(c))||r.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Ki(x?{"files[]":c}:c,y&&new y,this.formSerializer)}}return h||d?(u.setContentType("application/json",!1),yj(c)):c}],transformResponse:[function(c){const u=this.transitional||xs.transitional,r=u&&u.forcedJSONParsing,d=this.responseType==="json";if(X.isResponse(c)||X.isReadableStream(c))return c;if(c&&X.isString(c)&&(r&&!this.responseType||d)){const m=!(u&&u.silentJSONParsing)&&d;try{return JSON.parse(c,this.parseReviver)}catch(x){if(m)throw x.name==="SyntaxError"?Re.from(x,Re.ERR_BAD_RESPONSE,this,null,this.response):x}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mt.classes.FormData,Blob:mt.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],s=>{xs.headers[s]={}});const jj=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bj=s=>{const c={};let u,r,d;return s&&s.split(`
`).forEach(function(m){d=m.indexOf(":"),u=m.substring(0,d).trim().toLowerCase(),r=m.substring(d+1).trim(),!(!u||c[u]&&jj[u])&&(u==="set-cookie"?c[u]?c[u].push(r):c[u]=[r]:c[u]=c[u]?c[u]+", "+r:r)}),c},nm=Symbol("internals");function rs(s){return s&&String(s).trim().toLowerCase()}function Bi(s){return s===!1||s==null?s:X.isArray(s)?s.map(Bi):String(s)}function _j(s){const c=Object.create(null),u=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=u.exec(s);)c[r[1]]=r[2];return c}const Nj=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function yc(s,c,u,r,d){if(X.isFunction(r))return r.call(this,c,u);if(d&&(c=u),!!X.isString(c)){if(X.isString(r))return c.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(c)}}function Sj(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,u,r)=>u.toUpperCase()+r)}function wj(s,c){const u=X.toCamelCase(" "+c);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+u,{value:function(d,h,m){return this[r].call(this,c,d,h,m)},configurable:!0})})}let wt=class{constructor(c){c&&this.set(c)}set(c,u,r){const d=this;function h(x,y,p){const v=rs(y);if(!v)throw new Error("header name must be a non-empty string");const _=X.findKey(d,v);(!_||d[_]===void 0||p===!0||p===void 0&&d[_]!==!1)&&(d[_||y]=Bi(x))}const m=(x,y)=>X.forEach(x,(p,v)=>h(p,v,y));if(X.isPlainObject(c)||c instanceof this.constructor)m(c,u);else if(X.isString(c)&&(c=c.trim())&&!Nj(c))m(bj(c),u);else if(X.isObject(c)&&X.isIterable(c)){let x={},y,p;for(const v of c){if(!X.isArray(v))throw TypeError("Object iterator must return a key-value pair");x[p=v[0]]=(y=x[p])?X.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}m(x,u)}else c!=null&&h(u,c,r);return this}get(c,u){if(c=rs(c),c){const r=X.findKey(this,c);if(r){const d=this[r];if(!u)return d;if(u===!0)return _j(d);if(X.isFunction(u))return u.call(this,d,r);if(X.isRegExp(u))return u.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,u){if(c=rs(c),c){const r=X.findKey(this,c);return!!(r&&this[r]!==void 0&&(!u||yc(this,this[r],r,u)))}return!1}delete(c,u){const r=this;let d=!1;function h(m){if(m=rs(m),m){const x=X.findKey(r,m);x&&(!u||yc(r,r[x],x,u))&&(delete r[x],d=!0)}}return X.isArray(c)?c.forEach(h):h(c),d}clear(c){const u=Object.keys(this);let r=u.length,d=!1;for(;r--;){const h=u[r];(!c||yc(this,this[h],h,c,!0))&&(delete this[h],d=!0)}return d}normalize(c){const u=this,r={};return X.forEach(this,(d,h)=>{const m=X.findKey(r,h);if(m){u[m]=Bi(d),delete u[h];return}const x=c?Sj(h):String(h).trim();x!==h&&delete u[h],u[x]=Bi(d),r[x]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const u=Object.create(null);return X.forEach(this,(r,d)=>{r!=null&&r!==!1&&(u[d]=c&&X.isArray(r)?r.join(", "):r)}),u}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,u])=>c+": "+u).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...u){const r=new this(c);return u.forEach(d=>r.set(d)),r}static accessor(c){const r=(this[nm]=this[nm]={accessors:{}}).accessors,d=this.prototype;function h(m){const x=rs(m);r[x]||(wj(d,m),r[x]=!0)}return X.isArray(c)?c.forEach(h):h(c),this}};wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(wt.prototype,({value:s},c)=>{let u=c[0].toUpperCase()+c.slice(1);return{get:()=>s,set(r){this[u]=r}}});X.freezeMethods(wt);function jc(s,c){const u=this||xs,r=c||u,d=wt.from(r.headers);let h=r.data;return X.forEach(s,function(x){h=x.call(u,h,d.normalize(),c?c.status:void 0)}),d.normalize(),h}function Im(s){return!!(s&&s.__CANCEL__)}function cl(s,c,u){Re.call(this,s??"canceled",Re.ERR_CANCELED,c,u),this.name="CanceledError"}X.inherits(cl,Re,{__CANCEL__:!0});function Wm(s,c,u){const r=u.config.validateStatus;!u.status||!r||r(u.status)?s(u):c(new Re("Request failed with status code "+u.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u))}function Ej(s){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return c&&c[1]||""}function Cj(s,c){s=s||10;const u=new Array(s),r=new Array(s);let d=0,h=0,m;return c=c!==void 0?c:1e3,function(y){const p=Date.now(),v=r[h];m||(m=p),u[d]=y,r[d]=p;let _=h,S=0;for(;_!==d;)S+=u[_++],_=_%s;if(d=(d+1)%s,d===h&&(h=(h+1)%s),p-m<c)return;const C=v&&p-v;return C?Math.round(S*1e3/C):void 0}}function Rj(s,c){let u=0,r=1e3/c,d,h;const m=(p,v=Date.now())=>{u=v,d=null,h&&(clearTimeout(h),h=null),s(...p)};return[(...p)=>{const v=Date.now(),_=v-u;_>=r?m(p,v):(d=p,h||(h=setTimeout(()=>{h=null,m(d)},r-_)))},()=>d&&m(d)]}const Vi=(s,c,u=3)=>{let r=0;const d=Cj(50,250);return Rj(h=>{const m=h.loaded,x=h.lengthComputable?h.total:void 0,y=m-r,p=d(y),v=m<=x;r=m;const _={loaded:m,total:x,progress:x?m/x:void 0,bytes:y,rate:p||void 0,estimated:p&&x&&v?(x-m)/p:void 0,event:h,lengthComputable:x!=null,[c?"download":"upload"]:!0};s(_)},u)},lm=(s,c)=>{const u=s!=null;return[r=>c[0]({lengthComputable:u,total:s,loaded:r}),c[1]]},sm=s=>(...c)=>X.asap(()=>s(...c)),Tj=mt.hasStandardBrowserEnv?((s,c)=>u=>(u=new URL(u,mt.origin),s.protocol===u.protocol&&s.host===u.host&&(c||s.port===u.port)))(new URL(mt.origin),mt.navigator&&/(msie|trident)/i.test(mt.navigator.userAgent)):()=>!0,Aj=mt.hasStandardBrowserEnv?{write(s,c,u,r,d,h,m){if(typeof document>"u")return;const x=[`${s}=${encodeURIComponent(c)}`];X.isNumber(u)&&x.push(`expires=${new Date(u).toUTCString()}`),X.isString(r)&&x.push(`path=${r}`),X.isString(d)&&x.push(`domain=${d}`),h===!0&&x.push("secure"),X.isString(m)&&x.push(`SameSite=${m}`),document.cookie=x.join("; ")},read(s){if(typeof document>"u")return null;const c=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return c?decodeURIComponent(c[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Dj(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function qj(s,c){return c?s.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):s}function ep(s,c,u){let r=!Dj(c);return s&&(r||u==!1)?qj(s,c):c}const im=s=>s instanceof wt?{...s}:s;function vn(s,c){c=c||{};const u={};function r(p,v,_,S){return X.isPlainObject(p)&&X.isPlainObject(v)?X.merge.call({caseless:S},p,v):X.isPlainObject(v)?X.merge({},v):X.isArray(v)?v.slice():v}function d(p,v,_,S){if(X.isUndefined(v)){if(!X.isUndefined(p))return r(void 0,p,_,S)}else return r(p,v,_,S)}function h(p,v){if(!X.isUndefined(v))return r(void 0,v)}function m(p,v){if(X.isUndefined(v)){if(!X.isUndefined(p))return r(void 0,p)}else return r(void 0,v)}function x(p,v,_){if(_ in c)return r(p,v);if(_ in s)return r(void 0,p)}const y={url:h,method:h,data:h,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:x,headers:(p,v,_)=>d(im(p),im(v),_,!0)};return X.forEach(Object.keys({...s,...c}),function(v){const _=y[v]||d,S=_(s[v],c[v],v);X.isUndefined(S)&&_!==x||(u[v]=S)}),u}const tp=s=>{const c=vn({},s);let{data:u,withXSRFToken:r,xsrfHeaderName:d,xsrfCookieName:h,headers:m,auth:x}=c;if(c.headers=m=wt.from(m),c.url=Jm(ep(c.baseURL,c.url,c.allowAbsoluteUrls),s.params,s.paramsSerializer),x&&m.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),X.isFormData(u)){if(mt.hasStandardBrowserEnv||mt.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(X.isFunction(u.getHeaders)){const y=u.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,_])=>{p.includes(v.toLowerCase())&&m.set(v,_)})}}if(mt.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(c)),r||r!==!1&&Tj(c.url))){const y=d&&h&&Aj.read(h);y&&m.set(d,y)}return c},Oj=typeof XMLHttpRequest<"u",Lj=Oj&&function(s){return new Promise(function(u,r){const d=tp(s);let h=d.data;const m=wt.from(d.headers).normalize();let{responseType:x,onUploadProgress:y,onDownloadProgress:p}=d,v,_,S,C,b;function E(){C&&C(),b&&b(),d.cancelToken&&d.cancelToken.unsubscribe(v),d.signal&&d.signal.removeEventListener("abort",v)}let N=new XMLHttpRequest;N.open(d.method.toUpperCase(),d.url,!0),N.timeout=d.timeout;function G(){if(!N)return;const w=wt.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),K={data:!x||x==="text"||x==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:w,config:s,request:N};Wm(function(z){u(z),E()},function(z){r(z),E()},K),N=null}"onloadend"in N?N.onloadend=G:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(G)},N.onabort=function(){N&&(r(new Re("Request aborted",Re.ECONNABORTED,s,N)),N=null)},N.onerror=function(J){const K=J&&J.message?J.message:"Network Error",k=new Re(K,Re.ERR_NETWORK,s,N);k.event=J||null,r(k),N=null},N.ontimeout=function(){let J=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const K=d.transitional||Km;d.timeoutErrorMessage&&(J=d.timeoutErrorMessage),r(new Re(J,K.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,s,N)),N=null},h===void 0&&m.setContentType(null),"setRequestHeader"in N&&X.forEach(m.toJSON(),function(J,K){N.setRequestHeader(K,J)}),X.isUndefined(d.withCredentials)||(N.withCredentials=!!d.withCredentials),x&&x!=="json"&&(N.responseType=d.responseType),p&&([S,b]=Vi(p,!0),N.addEventListener("progress",S)),y&&N.upload&&([_,C]=Vi(y),N.upload.addEventListener("progress",_),N.upload.addEventListener("loadend",C)),(d.cancelToken||d.signal)&&(v=w=>{N&&(r(!w||w.type?new cl(null,s,N):w),N.abort(),N=null)},d.cancelToken&&d.cancelToken.subscribe(v),d.signal&&(d.signal.aborted?v():d.signal.addEventListener("abort",v)));const V=Ej(d.url);if(V&&mt.protocols.indexOf(V)===-1){r(new Re("Unsupported protocol "+V+":",Re.ERR_BAD_REQUEST,s));return}N.send(h||null)})},Uj=(s,c)=>{const{length:u}=s=s?s.filter(Boolean):[];if(c||u){let r=new AbortController,d;const h=function(p){if(!d){d=!0,x();const v=p instanceof Error?p:this.reason;r.abort(v instanceof Re?v:new cl(v instanceof Error?v.message:v))}};let m=c&&setTimeout(()=>{m=null,h(new Re(`timeout ${c} of ms exceeded`,Re.ETIMEDOUT))},c);const x=()=>{s&&(m&&clearTimeout(m),m=null,s.forEach(p=>{p.unsubscribe?p.unsubscribe(h):p.removeEventListener("abort",h)}),s=null)};s.forEach(p=>p.addEventListener("abort",h));const{signal:y}=r;return y.unsubscribe=()=>X.asap(x),y}},zj=function*(s,c){let u=s.byteLength;if(u<c){yield s;return}let r=0,d;for(;r<u;)d=r+c,yield s.slice(r,d),r=d},kj=async function*(s,c){for await(const u of Mj(s))yield*zj(u,c)},Mj=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const c=s.getReader();try{for(;;){const{done:u,value:r}=await c.read();if(u)break;yield r}}finally{await c.cancel()}},om=(s,c,u,r)=>{const d=kj(s,c);let h=0,m,x=y=>{m||(m=!0,r&&r(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await d.next();if(p){x(),y.close();return}let _=v.byteLength;if(u){let S=h+=_;u(S)}y.enqueue(new Uint8Array(v))}catch(p){throw x(p),p}},cancel(y){return x(y),d.return()}},{highWaterMark:2})},rm=64*1024,{isFunction:zi}=X,$j=(({Request:s,Response:c})=>({Request:s,Response:c}))(X.global),{ReadableStream:cm,TextEncoder:um}=X.global,dm=(s,...c)=>{try{return!!s(...c)}catch{return!1}},Bj=s=>{s=X.merge.call({skipUndefined:!0},$j,s);const{fetch:c,Request:u,Response:r}=s,d=c?zi(c):typeof fetch=="function",h=zi(u),m=zi(r);if(!d)return!1;const x=d&&zi(cm),y=d&&(typeof um=="function"?(b=>E=>b.encode(E))(new um):async b=>new Uint8Array(await new u(b).arrayBuffer())),p=h&&x&&dm(()=>{let b=!1;const E=new u(mt.origin,{body:new cm,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!E}),v=m&&x&&dm(()=>X.isReadableStream(new r("").body)),_={stream:v&&(b=>b.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!_[b]&&(_[b]=(E,N)=>{let G=E&&E[b];if(G)return G.call(E);throw new Re(`Response type '${b}' is not supported`,Re.ERR_NOT_SUPPORT,N)})});const S=async b=>{if(b==null)return 0;if(X.isBlob(b))return b.size;if(X.isSpecCompliantForm(b))return(await new u(mt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(X.isArrayBufferView(b)||X.isArrayBuffer(b))return b.byteLength;if(X.isURLSearchParams(b)&&(b=b+""),X.isString(b))return(await y(b)).byteLength},C=async(b,E)=>{const N=X.toFiniteNumber(b.getContentLength());return N??S(E)};return async b=>{let{url:E,method:N,data:G,signal:V,cancelToken:w,timeout:J,onDownloadProgress:K,onUploadProgress:k,responseType:z,headers:ee,withCredentials:re="same-origin",fetchOptions:P}=tp(b),he=c||fetch;z=z?(z+"").toLowerCase():"text";let ne=Uj([V,w&&w.toAbortSignal()],J),H=null;const Y=ne&&ne.unsubscribe&&(()=>{ne.unsubscribe()});let F;try{if(k&&p&&N!=="get"&&N!=="head"&&(F=await C(ee,G))!==0){let R=new u(E,{method:"POST",body:G,duplex:"half"}),A;if(X.isFormData(G)&&(A=R.headers.get("content-type"))&&ee.setContentType(A),R.body){const[te,fe]=lm(F,Vi(sm(k)));G=om(R.body,rm,te,fe)}}X.isString(re)||(re=re?"include":"omit");const O=h&&"credentials"in u.prototype,I={...P,signal:ne,method:N.toUpperCase(),headers:ee.normalize().toJSON(),body:G,duplex:"half",credentials:O?re:void 0};H=h&&new u(E,I);let de=await(h?he(H,P):he(E,I));const pe=v&&(z==="stream"||z==="response");if(v&&(K||pe&&Y)){const R={};["status","statusText","headers"].forEach(Q=>{R[Q]=de[Q]});const A=X.toFiniteNumber(de.headers.get("content-length")),[te,fe]=K&&lm(A,Vi(sm(K),!0))||[];de=new r(om(de.body,rm,te,()=>{fe&&fe(),Y&&Y()}),R)}z=z||"text";let je=await _[X.findKey(_,z)||"text"](de,b);return!pe&&Y&&Y(),await new Promise((R,A)=>{Wm(R,A,{data:je,headers:wt.from(de.headers),status:de.status,statusText:de.statusText,config:b,request:H})})}catch(O){throw Y&&Y(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,b,H),{cause:O.cause||O}):Re.from(O,O&&O.code,b,H)}}},Hj=new Map,ap=s=>{let c=s&&s.env||{};const{fetch:u,Request:r,Response:d}=c,h=[r,d,u];let m=h.length,x=m,y,p,v=Hj;for(;x--;)y=h[x],p=v.get(y),p===void 0&&v.set(y,p=x?new Map:Bj(c)),v=p;return p};ap();const kc={http:lj,xhr:Lj,fetch:{get:ap}};X.forEach(kc,(s,c)=>{if(s){try{Object.defineProperty(s,"name",{value:c})}catch{}Object.defineProperty(s,"adapterName",{value:c})}});const fm=s=>`- ${s}`,Qj=s=>X.isFunction(s)||s===null||s===!1;function Gj(s,c){s=X.isArray(s)?s:[s];const{length:u}=s;let r,d;const h={};for(let m=0;m<u;m++){r=s[m];let x;if(d=r,!Qj(r)&&(d=kc[(x=String(r)).toLowerCase()],d===void 0))throw new Re(`Unknown adapter '${x}'`);if(d&&(X.isFunction(d)||(d=d.get(c))))break;h[x||"#"+m]=d}if(!d){const m=Object.entries(h).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let x=u?m.length>1?`since :
`+m.map(fm).join(`
`):" "+fm(m[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d}const np={getAdapter:Gj,adapters:kc};function bc(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new cl(null,s)}function hm(s){return bc(s),s.headers=wt.from(s.headers),s.data=jc.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),np.getAdapter(s.adapter||xs.adapter,s)(s).then(function(r){return bc(s),r.data=jc.call(s,s.transformResponse,r),r.headers=wt.from(r.headers),r},function(r){return Im(r)||(bc(s),r&&r.response&&(r.response.data=jc.call(s,s.transformResponse,r.response),r.response.headers=wt.from(r.response.headers))),Promise.reject(r)})}const lp="1.13.2",Pi={};["object","boolean","number","function","string","symbol"].forEach((s,c)=>{Pi[s]=function(r){return typeof r===s||"a"+(c<1?"n ":" ")+s}});const mm={};Pi.transitional=function(c,u,r){function d(h,m){return"[Axios v"+lp+"] Transitional option '"+h+"'"+m+(r?". "+r:"")}return(h,m,x)=>{if(c===!1)throw new Re(d(m," has been removed"+(u?" in "+u:"")),Re.ERR_DEPRECATED);return u&&!mm[m]&&(mm[m]=!0,console.warn(d(m," has been deprecated since v"+u+" and will be removed in the near future"))),c?c(h,m,x):!0}};Pi.spelling=function(c){return(u,r)=>(console.warn(`${r} is likely a misspelling of ${c}`),!0)};function Vj(s,c,u){if(typeof s!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let d=r.length;for(;d-- >0;){const h=r[d],m=c[h];if(m){const x=s[h],y=x===void 0||m(x,h,s);if(y!==!0)throw new Re("option "+h+" must be "+y,Re.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new Re("Unknown option "+h,Re.ERR_BAD_OPTION)}}const Hi={assertOptions:Vj,validators:Pi},ta=Hi.validators;let gn=class{constructor(c){this.defaults=c||{},this.interceptors={request:new am,response:new am}}async request(c,u){try{return await this._request(c,u)}catch(r){if(r instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const h=d.stack?d.stack.replace(/^.+\n/,""):"";try{r.stack?h&&!String(r.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+h):r.stack=h}catch{}}throw r}}_request(c,u){typeof c=="string"?(u=u||{},u.url=c):u=c||{},u=vn(this.defaults,u);const{transitional:r,paramsSerializer:d,headers:h}=u;r!==void 0&&Hi.assertOptions(r,{silentJSONParsing:ta.transitional(ta.boolean),forcedJSONParsing:ta.transitional(ta.boolean),clarifyTimeoutError:ta.transitional(ta.boolean)},!1),d!=null&&(X.isFunction(d)?u.paramsSerializer={serialize:d}:Hi.assertOptions(d,{encode:ta.function,serialize:ta.function},!0)),u.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?u.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:u.allowAbsoluteUrls=!0),Hi.assertOptions(u,{baseUrl:ta.spelling("baseURL"),withXsrfToken:ta.spelling("withXSRFToken")},!0),u.method=(u.method||this.defaults.method||"get").toLowerCase();let m=h&&X.merge(h.common,h[u.method]);h&&X.forEach(["delete","get","head","post","put","patch","common"],b=>{delete h[b]}),u.headers=wt.concat(m,h);const x=[];let y=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(u)===!1||(y=y&&E.synchronous,x.unshift(E.fulfilled,E.rejected))});const p=[];this.interceptors.response.forEach(function(E){p.push(E.fulfilled,E.rejected)});let v,_=0,S;if(!y){const b=[hm.bind(this),void 0];for(b.unshift(...x),b.push(...p),S=b.length,v=Promise.resolve(u);_<S;)v=v.then(b[_++],b[_++]);return v}S=x.length;let C=u;for(;_<S;){const b=x[_++],E=x[_++];try{C=b(C)}catch(N){E.call(this,N);break}}try{v=hm.call(this,C)}catch(b){return Promise.reject(b)}for(_=0,S=p.length;_<S;)v=v.then(p[_++],p[_++]);return v}getUri(c){c=vn(this.defaults,c);const u=ep(c.baseURL,c.url,c.allowAbsoluteUrls);return Jm(u,c.params,c.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(c){gn.prototype[c]=function(u,r){return this.request(vn(r||{},{method:c,url:u,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(c){function u(r){return function(h,m,x){return this.request(vn(x||{},{method:c,headers:r?{"Content-Type":"multipart/form-data"}:{},url:h,data:m}))}}gn.prototype[c]=u(),gn.prototype[c+"Form"]=u(!0)});let Fj=class sp{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let u;this.promise=new Promise(function(h){u=h});const r=this;this.promise.then(d=>{if(!r._listeners)return;let h=r._listeners.length;for(;h-- >0;)r._listeners[h](d);r._listeners=null}),this.promise.then=d=>{let h;const m=new Promise(x=>{r.subscribe(x),h=x}).then(d);return m.cancel=function(){r.unsubscribe(h)},m},c(function(h,m,x){r.reason||(r.reason=new cl(h,m,x),u(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const u=this._listeners.indexOf(c);u!==-1&&this._listeners.splice(u,1)}toAbortSignal(){const c=new AbortController,u=r=>{c.abort(r)};return this.subscribe(u),c.signal.unsubscribe=()=>this.unsubscribe(u),c.signal}static source(){let c;return{token:new sp(function(d){c=d}),cancel:c}}};function Yj(s){return function(u){return s.apply(null,u)}}function Xj(s){return X.isObject(s)&&s.isAxiosError===!0}const Cc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Cc).forEach(([s,c])=>{Cc[c]=s});function ip(s){const c=new gn(s),u=km(gn.prototype.request,c);return X.extend(u,gn.prototype,c,{allOwnKeys:!0}),X.extend(u,c,null,{allOwnKeys:!0}),u.create=function(d){return ip(vn(s,d))},u}const ke=ip(xs);ke.Axios=gn;ke.CanceledError=cl;ke.CancelToken=Fj;ke.isCancel=Im;ke.VERSION=lp;ke.toFormData=Ki;ke.AxiosError=Re;ke.Cancel=ke.CanceledError;ke.all=function(c){return Promise.all(c)};ke.spread=Yj;ke.isAxiosError=Xj;ke.mergeConfig=vn;ke.AxiosHeaders=wt;ke.formToJSON=s=>Pm(X.isHTMLForm(s)?new FormData(s):s);ke.getAdapter=np.getAdapter;ke.HttpStatusCode=Cc;ke.default=ke;const{Axios:fb,AxiosError:hb,CanceledError:mb,isCancel:pb,CancelToken:xb,VERSION:gb,all:vb,Cancel:yb,isAxiosError:jb,spread:bb,toFormData:_b,AxiosHeaders:Nb,HttpStatusCode:Sb,formToJSON:wb,getAdapter:Eb,mergeConfig:Cb}=ke;function Zj(){const[s,c]=j.useState({project_id:"",payment_method:"CASH",document_type:"PROFORMA"}),[u,r]=j.useState([]),[d,h]=j.useState(!1),[m,x]=j.useState(!1),[y,p]=j.useState(!1),[v,_]=j.useState(""),[S,C]=j.useState(null),[b,E]=j.useState([]),[N,G]=j.useState([]),[V,w]=j.useState(!0);j.useEffect(()=>{J()},[]),j.useEffect(()=>{s.project_id&&["PROFORMA","TAX","DELIVERY_NOTE"].includes(s.document_type)?K():(E([]),G([]))},[s.project_id,s.document_type]);const J=async()=>{h(!0);try{const F=await ke.get(`${ue}/invoices/projects/latest/`);r(F.data)}catch(F){console.error("Error fetching projects:",F),_(" Failed to load projects. Please try again.")}finally{h(!1)}},K=async()=>{try{console.log("Fetching reports for:",{project:s.project_id,document_type:s.document_type});let F;s.document_type==="DELIVERY_NOTE"?F=await ke.get(`${ue}/invoices/projects/${s.project_id}/reports-for-delivery`):F=await ke.get(`${ue}/invoices/projects/${s.project_id}/reports-for-invoice/${s.document_type}`),console.log("Reports response:",F.data),E(F.data.reports||[]);const O=(F.data.reports||[]).filter(I=>!I.already_invoiced).map(I=>I.report_id);console.log("Uninvoiced report IDs:",O),G(O),w(O.length>0)}catch(F){console.error("Error fetching reports:",F),console.error("Error details:",F.response?.data),E([]),_(" Failed to load reports: "+(F.response?.data?.detail||F.message))}},k=F=>{const O=F.target.value;c({...s,project_id:O});const I=u.find(de=>de.project_id==O);C(I||null)},z=F=>{c({...s,document_type:F})},ee=F=>{const O=b.find(I=>I.report_id===F);O&&O.already_invoiced||G(I=>I.includes(F)?I.filter(de=>de!==F):[...I,F])},re=F=>{if(w(F),F){const O=b.filter(I=>!I.already_invoiced).map(I=>I.report_id);G(O)}else G([])},P=async F=>{if(F.preventDefault(),!s.project_id){_(" Please select a project first");return}s.document_type==="DELIVERY_NOTE"?await ne():await he()},he=async()=>{x(!0),_("");try{let F;if(s.document_type==="PROFORMA"||s.document_type==="TAX"){F={project_id:parseInt(s.project_id),invoice_type:s.document_type,payment_method:s.payment_method,document_type:s.document_type,invoice_date:new Date().toISOString().split("T")[0],payment_terms:s.payment_method==="CREDIT"?"30 days":"Immediate",services_description:"Professional services rendered",selected_report_ids:V?null:N,include_all_reports:V},console.log("Sending invoice payload:",F);const O=await ke.post(`${ue}/invoices/generate-with-reports`,F,{responseType:"blob"}),I=window.URL.createObjectURL(new Blob([O.data])),de=document.createElement("a");de.href=I;const pe=O.headers["content-disposition"];let je=`${s.document_type}-Invoice.xlsx`;if(pe){const R=pe.match(/filename\*=UTF-8''([^;]+)/);if(R&&R[1])je=decodeURIComponent(R[1]);else{const A=pe.match(/filename="?([^"]+)"?/);A&&A[1]&&(je=A[1])}je=je.replace(/[_ ]+$/,""),je.toLowerCase().endsWith(".xlsx")||(je=je.replace(/\.xlsx_+$/,"")+".xlsx")}de.setAttribute("download",je),document.body.appendChild(de),de.click(),de.remove(),window.URL.revokeObjectURL(I),_(` ${s.document_type} Invoice (${s.payment_method}) generated successfully!`)}else{const O={project_id:parseInt(s.project_id),invoice_type:"CASH",payment_method:"CASH",invoice_date:new Date().toISOString().split("T")[0],payment_terms:"Immediate",services_description:"Professional services rendered"},I=await ke.post(`${ue}/invoices/with-payment-method`,O),de=I.data.invoice_id,pe=await ke.get(`${ue}/invoices/${de}/excel`,{responseType:"blob"}),je=window.URL.createObjectURL(new Blob([pe.data])),R=document.createElement("a");R.href=je;const A=pe.headers["content-disposition"];let te=`Invoice-${I.data.invoice_no}.xlsx`;if(A){const fe=A.match(/filename\*=UTF-8''([^;]+)/);if(fe&&fe[1])te=decodeURIComponent(fe[1]);else{const Q=A.match(/filename="?([^"]+)"?/);Q&&Q[1]&&(te=Q[1])}}R.setAttribute("download",te),document.body.appendChild(R),R.click(),R.remove(),window.URL.revokeObjectURL(je),_(" Invoice generated successfully!")}}catch(F){console.error("Error generating invoice:",F);let O=" An unexpected error occurred";F.response?O=` ${F.response.data?.detail||F.response.statusText}`:F.request?O=" Network error. Please check if the server is running.":O=` ${F.message}`,_(O)}finally{x(!1)}},ne=async()=>{p(!0),_("");try{const F={project_id:parseInt(s.project_id),...V?{}:{selected_report_ids:N},include_all_reports:V};console.log("Sending delivery note payload:",F);const O=await ke.post(`${ue}/invoices/delivery-notes/generate-excel-template`,F,{responseType:"blob"}),I=window.URL.createObjectURL(new Blob([O.data])),de=document.createElement("a");de.href=I;const pe=O.headers["content-disposition"];let je="Delivery-Note.xlsx";if(pe){const R=pe.match(/filename="?(.+)"?/);R&&R[1]&&(je=R[1])}de.setAttribute("download",je),document.body.appendChild(de),de.click(),de.remove(),window.URL.revokeObjectURL(I),_(" Delivery Note generated successfully!")}catch(F){console.error("Error generating delivery note:",F);let O=" Failed to generate delivery note";F.response?(console.error("Server response:",F.response.data),O=` ${F.response.data?.detail||F.response.statusText||"Unknown error"}`):F.request?O=" Network error. Please check if the server is running.":O=` ${F.message}`,_(O)}finally{p(!1)}},H=()=>[{value:"PROFORMA",label:" Generate Proforma Invoice"},{value:"TAX",label:" Generate Tax Invoice"},{value:"DELIVERY_NOTE",label:" Generate Delivery Notes"}],Y=()=>["PROFORMA","TAX","DELIVERY_NOTE"].includes(s.document_type);return n.jsxs("div",{className:"module-content",children:[n.jsx("div",{className:"module-header",children:n.jsx("h2",{children:"Generate Invoices"})}),n.jsxs("div",{className:"form-section",children:[n.jsx("h3",{children:"Generate Invoices from Project"}),v&&n.jsx("div",{className:`message ${v.includes("")?"success":"error"}`,children:v}),n.jsxs("form",{onSubmit:P,className:"sample-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"project-id",children:"Select Project *"}),n.jsxs("select",{id:"project-id",value:s.project_id,onChange:k,className:"form-input",required:!0,disabled:m||d||y,children:[n.jsx("option",{value:"",children:"Select a Project"}),u.map(F=>n.jsx("option",{value:F.project_id,children:F.label},F.project_id))]}),n.jsx("small",{className:"field-hint",children:"Select a project to generate invoice"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Payment Method *"}),n.jsx("div",{className:"payment-method-buttons",children:[{value:"CASH",label:" Cash Payment"},{value:"CREDIT",label:" Credit Payment"}].map(F=>n.jsx("button",{type:"button",onClick:()=>c({...s,payment_method:F.value,document_type:F.value==="CREDIT"?"DELIVERY_NOTE":"PROFORMA"}),className:`payment-method-btn ${s.payment_method===F.value?"active":""}`,children:F.label},F.value))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Document Type *"}),n.jsx("div",{className:"document-type-buttons",children:H().map(F=>n.jsx("button",{type:"button",onClick:()=>z(F.value),className:`document-type-btn ${s.document_type===F.value?"active":""} ${F.value==="DELIVERY_NOTE"&&s.payment_method==="CASH"?"disabled":""}`,disabled:F.value==="DELIVERY_NOTE"&&s.payment_method==="CASH",title:F.value==="DELIVERY_NOTE"&&s.payment_method==="CASH"?"Delivery Notes are only for Credit invoices":"",children:F.label},F.value))})]}),S&&n.jsxs("div",{className:"selected-project-details",children:[n.jsx("h4",{children:"Selected Project Details"}),n.jsxs("div",{className:"details-grid",children:[n.jsxs("div",{className:"detail-card",children:[n.jsx("p",{className:"detail-label",children:" Project No"}),n.jsx("p",{className:"detail-value",children:S.project_no})]}),n.jsxs("div",{className:"detail-card",children:[n.jsx("p",{className:"detail-label",children:" Client"}),n.jsx("p",{className:"detail-value",children:S.client_name})]}),n.jsxs("div",{className:"detail-card",children:[n.jsx("p",{className:"detail-label",children:" Location"}),n.jsx("p",{className:"detail-value",children:S.location})]}),n.jsxs("div",{className:"detail-card",children:[n.jsx("p",{className:"detail-label",children:" Payment Method"}),n.jsx("p",{className:"detail-value",children:s.payment_method})]})]})]}),Y()&&b.length>0&&n.jsxs("div",{className:"reports-selection-section",children:[n.jsxs("h4",{children:["Select Reports for"," ",s.document_type==="PROFORMA"?"Proforma Invoice":s.document_type==="TAX"?"Tax Invoice":"Delivery Note"," (",s.payment_method,")"]}),n.jsx("div",{className:"select-all-checkbox",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",checked:V,onChange:F=>re(F.target.checked)}),"Select All ",b.filter(F=>!F.already_invoiced).length," Uninvoiced reports",b.filter(F=>F.already_invoiced).length>0&&n.jsxs("span",{className:"invoiced-count",children:["(",b.filter(F=>F.already_invoiced).length," already"," ",s.document_type==="DELIVERY_NOTE"?"delivered":"invoiced"," - excluded)"]})]})}),n.jsx("div",{className:"reports-list",children:b.map(F=>n.jsx("div",{className:`report-item ${F.already_invoiced?"invoiced disabled":""}`,title:F.already_invoiced?`Already included in previous ${s.document_type==="DELIVERY_NOTE"?"delivery note":s.document_type.toLowerCase()} invoice`:"",children:n.jsxs("label",{children:[n.jsx("input",{type:"checkbox",checked:F.already_invoiced?!1:V||N.includes(F.report_id),onChange:()=>ee(F.report_id),disabled:F.already_invoiced}),n.jsxs("span",{className:"report-info",children:[n.jsx("strong",{children:F.report_no})," - ",F.test_name,n.jsxs("span",{className:"report-meta",children:[F.sample_count," Test(s)  ",F.created_date,F.already_invoiced&&n.jsxs("span",{className:"invoiced-badge",children:["* ",s.document_type==="DELIVERY_NOTE"?"Delivered":"Invoiced"]})]})]})]})},F.report_id))})]}),n.jsx("div",{className:"action-buttons",children:n.jsx("button",{type:"submit",className:"btn-primary",style:{margin:"0 auto",display:"block"},disabled:m||y||!s.project_id||Y()&&N.length===0&&!V,children:m||y?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),s.document_type==="DELIVERY_NOTE"?"Generating Delivery Note...":s.document_type==="PROFORMA"?"Generating Proforma Invoice...":s.document_type==="TAX"?"Generating Tax Invoice...":"Generating Invoice..."]}):s.document_type==="DELIVERY_NOTE"?`Generate & Download Delivery Note (${s.payment_method})`:s.document_type==="PROFORMA"?`Generate & Download Proforma Invoice (${s.payment_method})`:s.document_type==="TAX"?`Generate & Download Tax Invoice (${s.payment_method})`:`Generate & Download Invoice (${s.payment_method})`})})]})]})]})}var Qi={exports:{}},Jj=Qi.exports,pm;function Kj(){return pm||(pm=1,(function(s,c){(function(u,r){r()})(Jj,function(){function u(p,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function r(p,v,_){var S=new XMLHttpRequest;S.open("GET",p),S.responseType="blob",S.onload=function(){y(S.response,v,_)},S.onerror=function(){console.error("could not download file")},S.send()}function d(p){var v=new XMLHttpRequest;v.open("HEAD",p,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function h(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(v)}}var m=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Li=="object"&&Li.global===Li?Li:void 0,x=m.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),y=m.saveAs||(typeof window!="object"||window!==m?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(p,v,_){var S=m.URL||m.webkitURL,C=document.createElement("a");v=v||p.name||"download",C.download=v,C.rel="noopener",typeof p=="string"?(C.href=p,C.origin===location.origin?h(C):d(C.href)?r(p,v,_):h(C,C.target="_blank")):(C.href=S.createObjectURL(p),setTimeout(function(){S.revokeObjectURL(C.href)},4e4),setTimeout(function(){h(C)},0))}:"msSaveOrOpenBlob"in navigator?function(p,v,_){if(v=v||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(u(p,_),v);else if(d(p))r(p,v,_);else{var S=document.createElement("a");S.href=p,S.target="_blank",setTimeout(function(){h(S)})}}:function(p,v,_,S){if(S=S||open("","_blank"),S&&(S.document.title=S.document.body.innerText="downloading..."),typeof p=="string")return r(p,v,_);var C=p.type==="application/octet-stream",b=/constructor/i.test(m.HTMLElement)||m.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||C&&b||x)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var w=N.result;w=E?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),S?S.location.href=w:location=w,S=null},N.readAsDataURL(p)}else{var G=m.URL||m.webkitURL,V=G.createObjectURL(p);S?S.location=V:location.href=V,S=null,setTimeout(function(){G.revokeObjectURL(V)},4e4)}});m.saveAs=y.saveAs=y,s.exports=y})})(Qi)),Qi.exports}var op=Kj();const Pj=(s,c)=>{let u;return(...r)=>{clearTimeout(u),u=setTimeout(()=>s(...r),c)}};function Ij(){const[s,c]=j.useState(""),[u,r]=j.useState([]),[d,h]=j.useState(!1),[m,x]=j.useState(!1),[y,p]=j.useState("all"),[v,_]=j.useState(null),[S,C]=j.useState(!1),[b,E]=j.useState(null),[N,G]=j.useState(null),[V,w]=j.useState(!1),[J,K]=j.useState(!1),[k,z]=j.useState(null),[ee,re]=j.useState(!1),[P,he]=j.useState(null),[ne,H]=j.useState(!1),[Y,F]=j.useState(null),[O,I]=j.useState(!1),de=async(D,q,oe,W)=>{try{const ce=await ke.get(`${ue}/invoices/${D}/excel`,{responseType:"blob"});let ve=`${q.replace("/","-")}.xlsx`;const xe=ce.headers["content-disposition"];if(xe){const Se=/filename\*=UTF-8''([^;]+)/i.exec(xe);if(Se&&Se[1])ve=decodeURIComponent(Se[1]);else{const ye=/filename="([^"]+)"/i.exec(xe);ye&&ye[1]&&(ve=ye[1])}}op.saveAs(new Blob([ce.data]),ve),I(!1)}catch(ce){console.error("Error downloading invoice:",ce),alert("Failed to download invoice. Please try again.")}};j.useRef(Pj(async D=>{if(!D.trim()){r([]);return}x(!0);try{const q=await pe(D,y);r(q)}catch(q){console.error("Search error:",q),r([])}finally{x(!1)}},300)).current,j.useEffect(()=>{const D=setTimeout(async()=>{if(!s.trim()){r([]);return}x(!0);try{const q=await pe(s,y);r(q)}catch(q){console.error("Search error:",q),r([])}finally{x(!1)}},300);return()=>clearTimeout(D)},[s,y]);const pe=async(D,q)=>{console.log(` Searching for "${D}" in tab: "${q}"`);const oe=D.toLowerCase(),W=[];try{const ce=await fetch(`${ue}/enquiries/clients/`),ve=ce.ok?await ce.json():[],xe={};ve.forEach(ye=>{xe[ye.client_id]=ye.name||`Client ${ye.client_id}`});const Se=ye=>{if(q==="all")return!0;switch(ye){case"enquiry":return q==="enquiries";case"quotation":return q==="quotations";case"project":return q==="projects";case"test-request":return q==="test-requests";case"sample":return q==="samples";case"report":return q==="reports";case"invoice":return q==="invoices";default:return!1}};if(Se("enquiry")){console.log(" Searching enquiries...");const ye=await fetch(`${ue}/enquiries/`);if(ye.ok){const $e=(await ye.json()).filter(me=>me.enquiry_ref?.toLowerCase().includes(oe)||me.enquiry_id?.toString().includes(D)||me.project_name?.toLowerCase().includes(oe)).map(me=>({type:"enquiry",id:me.enquiry_id,reference:me.enquiry_ref,name:me.project_name,client_name:xe[me.client_id]||`Client ID: ${me.client_id}`,client_id:me.client_id,date:me.enquiry_date,status:me.status,entity:me}));console.log(` Found ${$e.length} enquiry matches`),W.push(...$e)}}if(Se("quotation")){console.log(" Searching quotations...");const ye=await fetch(`${ue}/quotations/`);if(ye.ok){const $e=(await ye.json()).filter(me=>me.quotation_no?.toLowerCase().includes(oe)||me.quotation_id?.toString().includes(D)||me.enquiry_ref?.toLowerCase().includes(oe)||xe[me.client_id]?.toLowerCase().includes(oe)).map(me=>{let xt="No name";return me.project_name?xt=me.project_name:me.enquiry_ref?xt=`Quotation for ${me.enquiry_ref}`:me.quotation_no&&(xt=`Quotation ${me.quotation_no}`),{type:"quotation",id:me.quotation_id,reference:me.quotation_no,name:xt,client_name:xe[me.client_id]||`Client ID: ${me.client_id}`,client_id:me.client_id,date:me.quotation_date,status:me.status,amount:me.total_amount,entity:me}});console.log(` Found ${$e.length} quotation matches`),W.push(...$e)}}if(Se("project")){console.log(" Searching projects...");const ye=await fetch(`${ue}/projects/projects`);if(ye.ok){const $e=(await ye.json()).filter(me=>me.project_no?.toLowerCase().includes(oe)||me.project_id?.toString().includes(D)||me.project_name?.toLowerCase().includes(oe)||me.client_name?.toLowerCase().includes(oe)).map(me=>({type:"project",id:me.project_id,reference:me.project_no,name:me.project_name,client_name:me.client_name||`Client ID: ${me.client_id}`,client_id:me.client_id,date:me.created_date,status:me.status,entity:me}));console.log(` Found ${$e.length} project matches`),W.push(...$e)}}if(Se("test-request"))try{console.log(" Searching test requests...");const ye=await fetch(`${ue}/test-requests/`);if(ye.ok){const $e=(await ye.json()).filter(me=>me.request_no?.toLowerCase().includes(oe)||me.test_request_no?.toString().includes(D)||me.requested_by?.toLowerCase().includes(oe)||me.project_id?.toString().includes(D)).map(me=>({type:"test-request",id:me.test_request_id,reference:me.request_no,name:`${me.project_name}`,client_name:`${xe[me.client_id]}`,date:me.created_at,requested_by:me.requested_by,status:me.status,entity:me}));console.log(` Found ${$e.length} test request matches`),W.push(...$e)}}catch(ye){console.warn("Error fetching test requests:",ye)}if(Se("sample"))try{console.log(" Searching samples...");const ye=await fetch(`${ue}/samples-workflow/all-samples`);if(ye.ok){const Ut=await ye.json(),$e=Ee=>Ee?Ee.toString().toLowerCase().replace(/[^a-z0-9]/g,""):"",me=$e(D),xt=Ut.filter(Ee=>{const Ka=$e(Ee.sample_no),ul=$e(Ee.barcode),dl=$e(Ee.storage_location),ot=$e(Ee.collected_by),fl=$e(Ee.request_no),Sa=Ee.sample_id?.toString();return Ka.includes(me)||Sa&&Sa.includes(D)||ul.includes(me)||dl.includes(me)||ot.includes(me)||fl.includes(me)}).map(Ee=>({type:"sample",id:Ee.sample_id,reference:Ee.sample_no||`SMP-${Ee.sample_id}`,name:`Sample from Request ${Ee.request_no}`,date:Ee.received_date||"N/A",status:Ee.status,storage_location:Ee.storage_location,collected_by:Ee.collected_by,barcode:Ee.barcode,request_no:Ee.request_no,entity:Ee}));console.log(` Found ${xt.length} sample matches`),W.push(...xt)}else console.error("Samples API error:",await ye.text())}catch(ye){console.warn("Error fetching samples:",ye)}if(Se("report"))try{console.log(" Searching reports...");const ye=await fetch(`${ue}/reports`);if(ye.ok){const $e=(await ye.json()).filter(me=>me.report_no?.toLowerCase().includes(oe)||me.report_id?.toString().includes(D)||me.uploaded_by?.toString().includes(D)).map(me=>({type:"report",id:me.report_id,reference:me.report_no,name:`Report for Sample(s) ${me.covers_samples}`,client_name:`Sample ID: ${me.sample_id}`,client_id:me.sample_id,date:me.created_at,uploaded_by:me.uploaded_by,status:me.status,test_type:me.covers_test_type,entity:me}));console.log(` Found ${$e.length} report matches`),W.push(...$e)}}catch(ye){console.warn("Error fetching reports:",ye)}if(Se("invoice"))try{console.log(" Searching invoices (frontend filter)...");const ye=await fetch(`${ue}/invoices/`);if(!ye.ok)console.error("Invoices API error");else{const Ut=await ye.json(),$e=Ee=>Ee?Ee.toString().toLowerCase().replace(/[^a-z0-9]/g,""):"",me=$e(D),xt=Ut.filter(Ee=>{const Ka=$e(Ee.invoice_no),ul=$e(Ee.project_details?.project_no),dl=$e(Ee.project_details?.project_name),ot=$e(Ee.project_details?.client_name),fl=$e(Ee.lpo_reference),Sa=Ee.invoice_id?.toString();return Ka.includes(me)||ul.includes(me)||dl.includes(me)||ot.includes(me)||fl.includes(me)||Sa&&Sa.includes(D)}).map(Ee=>({type:"invoice",id:Ee.invoice_id,reference:Ee.invoice_no,name:Ee.project_details?.project_name||"No project",client_name:Ee.project_details?.client_name,date:Ee.invoice_date,status:Ee.payment_status,amount:Ee.total}));console.log(` Found ${xt.length} invoice matches`),W.push(...xt)}}catch(ye){console.warn("Error fetching invoices:",ye)}}catch(ce){console.error("Search API error:",ce)}return console.log(` Search completed. Total results for tab "${q}": ${W.length}`),W.sort((ce,ve)=>{const xe=ce.reference?.toLowerCase()||"",Se=ve.reference?.toLowerCase()||"";return xe===oe&&Se!==oe?-1:xe!==oe&&Se===oe?1:0})},je=async D=>{if(h(!1),c(""),D.type==="project")try{K(!0);const q=await fetch(`${ue}/projects/${D.id}`);if(!q.ok)throw new Error("Failed to fetch project");const oe=await q.json();let W=null;if(oe.quotation_id)try{const ce=await fetch(`${ue}/quotations/${oe.quotation_id}`);ce.ok&&(W=await ce.json(),oe.client_name=W.client_name,oe.client_contact=W.client_contact,oe.client_email=W.client_email,oe.quotation_date=W.quotation_date)}catch(ce){console.warn("Could not fetch quotation details:",ce)}E(oe),_(D),C(!0)}catch(q){console.error("Error loading project:",q),alert("Failed to load project details")}finally{K(!1)}else if(D.type==="quotation")try{K(!0);const q=await fetch(`${ue}/quotations/${D.id}`);if(!q.ok)throw new Error("Failed to fetch quotation");const oe=await q.json();G(oe),_(D),w(!0)}catch{alert("Failed to load quotation details")}finally{K(!1)}else if(D.type==="sample")try{K(!0);const q=await fetch(`${ue}/samples-workflow/debug/worksheet/${D.id}`);if(!q.ok)throw new Error("Failed to fetch sample");const oe=await q.json();z(oe),_(D),re(!0)}catch(q){console.error("Error loading sample:",q),z({sample_info:{sample_id:D.id,sample_no:D.reference,status:D.status,stored_assignment:{description:D.entity?.assigned_test||"Not assigned"}}}),_(D),re(!0)}finally{K(!1)}else if(D.type==="test-request")try{K(!0);const q=await fetch(`${ue}/test-requests/${D.id}`);if(!q.ok)throw new Error("Failed to fetch test request");const oe=await q.json();he(oe),_(D),H(!0)}catch(q){console.error("Error loading test request:",q),he({test_request_id:D.id,request_no:D.reference,status:D.status,requested_by:D.requested_by}),_(D),H(!0)}finally{K(!1)}else if(D.type==="invoice")try{K(!0);const q=await fetch(`${ue}/invoices/${D.id}`);if(!q.ok)throw new Error("Failed to fetch invoice");const oe=await q.json();F(oe),_(D),I(!0)}catch(q){console.error("Error loading invoice:",q),F({invoice_id:D.id,invoice_no:D.reference,payment_status:D.status,total:D.amount,project_details:{client_name:D.client_name,project_name:D.name}}),_(D),I(!0)}finally{K(!1)}else alert(`${D.type.toUpperCase()} selected: ${D.reference}`)},R=()=>{C(!1),E(null),_(null)},A=()=>{w(!1),G(null),_(null)},te=()=>{re(!1),z(null),_(null)},fe=()=>{H(!1),he(null),_(null)},Q=D=>{switch(D){case"enquiry":return"";case"quotation":return"";case"project":return"";case"test-request":return"";case"sample":return"";case"report":return"";case"invoice":return"";default:return""}},se=D=>{switch(D){case"enquiry":return"var(--enquiry-color)";case"quotation":return"var(--quotation-color)";case"project":return"var(--project-color)";case"test-request":return"var(--test-request-color, #8b5cf6)";case"sample":return"var(--sample-color, #10b981)";case"report":return"var(--report-color, #3b82f6)";case"invoice":return"var(--invoice-color, #f59e0b)";default:return"#666"}};return n.jsxs("div",{className:"search-container-wrapper",children:[n.jsxs("div",{className:"search-input-wrapper",children:[n.jsx("input",{type:"text",value:s,onChange:D=>{c(D.target.value),h(!0)},onFocus:()=>h(!0),placeholder:"Search",className:"search-input"}),n.jsx("button",{className:"search-btn",children:m?"":""}),d&&s&&n.jsxs("div",{className:"search-results-dropdown",children:[n.jsxs("div",{className:"search-results-header",children:[n.jsxs("div",{className:"search-tabs",children:[n.jsx("button",{className:`search-tab ${y==="all"?"active":""}`,onClick:()=>p("all"),children:"All"}),n.jsx("button",{className:`search-tab ${y==="enquiries"?"active":""}`,onClick:()=>p("enquiries"),children:" Enquiries"}),n.jsx("button",{className:`search-tab ${y==="quotations"?"active":""}`,onClick:()=>p("quotations"),children:" Quotations"}),n.jsx("button",{className:`search-tab ${y==="projects"?"active":""}`,onClick:()=>p("projects"),children:" Projects"}),n.jsx("button",{className:`search-tab ${y==="test-requests"?"active":""}`,onClick:()=>p("test-requests"),children:" Test Requests"}),n.jsx("button",{className:`search-tab ${y==="samples"?"active":""}`,onClick:()=>p("samples"),children:" Samples"}),n.jsx("button",{className:`search-tab ${y==="reports"?"active":""}`,onClick:()=>p("reports"),children:" Reports"}),n.jsx("button",{className:`search-tab ${y==="invoices"?"active":""}`,onClick:()=>p("invoices"),children:" Invoices"})]}),n.jsx("button",{className:"close-results-btn",onClick:()=>h(!1),children:""})]}),n.jsx("div",{className:"search-results-list",children:m?n.jsxs("div",{className:"search-loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("span",{children:"Searching..."})]}):u.length===0?n.jsxs("div",{className:"no-search-results",children:[n.jsx("div",{className:"no-results-icon",children:""}),n.jsxs("div",{className:"no-results-text",children:[n.jsx("h4",{children:"No results found"}),n.jsx("p",{children:"Try searching for a different term"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"results-count",children:["Found ",u.length," result",u.length!==1?"s":""]}),u.map(D=>n.jsxs("div",{className:"search-result-item",onClick:()=>je(D),children:[n.jsxs("div",{className:"result-type-badge",style:{backgroundColor:se(D.type)},children:[Q(D.type)," ",D.type.toUpperCase()]}),n.jsxs("div",{className:"result-content",children:[n.jsxs("div",{className:"result-main",children:[n.jsx("div",{className:"result-reference",children:n.jsx("strong",{children:D.reference||`ID: ${D.id}`})}),n.jsx("div",{className:"result-name",children:D.name||"No name"}),D.client_name&&n.jsx("div",{className:"result-client",children:n.jsxs("small",{children:["Client: ",D.client_name]})}),D.client_id&&!D.client_name&&n.jsx("div",{className:"result-client",children:n.jsxs("small",{children:["Client ID: ",D.client_id]})})]}),n.jsxs("div",{className:"result-meta",children:[D.date&&n.jsx("div",{className:"result-date",children:new Date(D.date).toLocaleDateString()}),D.status&&n.jsx("div",{className:`result-status ${D.status.toLowerCase()}`,children:D.status}),D.type==="test-request"&&D.requested_by&&n.jsxs("div",{className:"result-meta-field",children:["By: ",D.requested_by]}),D.type==="sample"&&D.storage_location&&n.jsxs("div",{className:"result-meta-field",children:["In: ",D.storage_location]}),D.type==="sample"&&D.collected_by&&n.jsxs("div",{className:"result-meta-field",children:["By: ",D.collected_by]}),D.type==="report"&&D.uploaded_by&&n.jsxs("div",{className:"result-meta-field",children:["Uploaded by: ",D.uploaded_by]}),D.type==="invoice"&&D.invoice_type&&n.jsxs("div",{className:"result-meta-field",children:["Type: ",n.jsx("span",{className:`invoice-type-${D.invoice_type.toLowerCase()}`,children:D.invoice_type})]}),D.type==="invoice"&&D.lpo_reference&&D.lpo_reference!==" - "&&n.jsxs("div",{className:"result-meta-field",children:[" LPO: ",D.lpo_reference]}),D.amount&&n.jsxs("div",{className:"result-amount",children:["AED ",parseFloat(D.amount).toLocaleString()]})]})]})]},`${D.type}-${D.id}`))]})})]})]}),S&&b&&n.jsx("div",{className:"modal-overlay",onClick:R,children:n.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Project ",b.project_no]}),n.jsx("button",{onClick:R,children:""})]}),J?n.jsx("p",{children:"Loading project details..."}):n.jsxs("div",{className:"project-details-content",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("p",{children:[n.jsx("b",{children:"Project Number:"})," ",b.project_no]}),n.jsxs("p",{children:[n.jsx("b",{children:"Project Name:"})," ",b.project_name]}),n.jsxs("p",{children:[n.jsx("b",{children:"Status:"})," ",n.jsx("span",{className:`status-badge status-${b.status?.toLowerCase()||"active"}`,children:b.status||"ACTIVE"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"Created Date:"})," ",b.created_at?new Date(b.created_at).toLocaleDateString():"N/A"]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Client Information"}),b.client_name||b.client_contact?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("b",{children:"Client Name:"})," ",b.client_name||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Contact Person:"})," ",b.client_contact||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Email:"})," ",b.client_email||"N/A"]})]}):b.quotation_details?.client_name?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("b",{children:"Client Name:"})," ",b.quotation_details.client_name||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Contact Person:"})," ",b.quotation_details.client_contact||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Email:"})," ",b.quotation_details.client_email||"N/A"]})]}):b.quotation_id?n.jsxs("p",{children:[n.jsx("b",{children:"Client ID:"})," ",b.client_id||b.quotation_id]}):n.jsx("p",{children:"No client information available"})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Project Details"}),n.jsxs("p",{children:[n.jsx("b",{children:"Location:"})," ",b.location||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Division:"})," ",b.division||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Quotation:"})," ",b.quotation_no||"N/A"]}),b.quotation_date&&n.jsxs("p",{children:[n.jsx("b",{children:"Quotation Date:"})," ",new Date(b.quotation_date).toLocaleDateString()]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"LPO Information"}),b.lpo_no?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("b",{children:"LPO Number:"})," ",b.lpo_no||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"LPO Date:"})," ",b.lpo_date?new Date(b.lpo_date).toLocaleDateString():"N/A"]})]}):n.jsx("p",{children:"No LPO information available"})]}),n.jsx("div",{className:"modal-actions",children:n.jsx("button",{onClick:()=>{b.lpo_no?window.open(`${ue}/projects/${b.project_id}/download-lpo`,"_blank"):alert("No document available for download")},className:"btn-download",children:" Download LPO"})})]})]})}),O&&Y&&n.jsx("div",{className:"modal-overlay",onClick:()=>I(!1),children:n.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Invoice ",Y.invoice_no||`ID: ${v?.id}`]}),n.jsx("button",{onClick:()=>I(!1),children:""})]}),J?n.jsx("p",{children:"Loading invoice details..."}):n.jsxs("div",{className:"invoice-details-content",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("p",{children:[n.jsx("b",{children:"Invoice Number:"})," ",Y.invoice_no]}),n.jsxs("p",{children:[n.jsx("b",{children:"Type:"})," ",n.jsx("span",{className:`type-badge ${Y.invoice_type?.toLowerCase()}`,children:Y.invoice_type})]}),n.jsxs("p",{children:[n.jsx("b",{children:"Payment Status:"})," ",n.jsx("span",{className:`status-badge status-${Y.payment_status?.toLowerCase()||"pending"}`,children:Y.payment_status||"PENDING"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"Date:"})," ",Y.invoice_date?new Date(Y.invoice_date).toLocaleDateString():"N/A"]}),Y.lpo_reference&&Y.lpo_reference!==" - "&&n.jsxs("p",{children:[n.jsx("b",{children:"LPO Reference:"})," ",Y.lpo_reference]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Project Information"}),Y.project_details?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("b",{children:"Project:"})," ",Y.project_details.project_no," - ",Y.project_details.project_name]}),n.jsxs("p",{children:[n.jsx("b",{children:"Client:"})," ",Y.project_details.client_contact]}),n.jsxs("p",{children:[n.jsx("b",{children:"Location:"})," ",Y.project_details.location||"N/A"]})]}):v?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("b",{children:"Project:"})," ",v.name]}),n.jsxs("p",{children:[n.jsx("b",{children:"Client:"})," ",v.client_name]})]}):null]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Financial Details"}),n.jsxs("div",{className:"financial-grid",children:[n.jsxs("div",{className:"financial-item",children:[n.jsx("span",{className:"financial-label",children:"Subtotal:"}),n.jsxs("span",{className:"financial-value",children:["AED ",parseFloat(Y.subtotal||0).toLocaleString("en-AE",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"financial-item",children:[n.jsx("span",{className:"financial-label",children:"VAT (5%):"}),n.jsxs("span",{className:"financial-value",children:["AED ",parseFloat(Y.vat||0).toLocaleString("en-AE",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"financial-item total",children:[n.jsx("span",{className:"financial-label",children:"Grand Total:"}),n.jsxs("span",{className:"financial-value",children:["AED ",parseFloat(Y.total||0).toLocaleString("en-AE",{minimumFractionDigits:2})]})]})]}),Y.invoice_type&&["PROFORMA","TAX"].includes(Y.invoice_type)&&n.jsx("div",{className:"invoice-filter-info"}),Y.amount_in_words&&n.jsx("div",{className:"amount-words",children:n.jsx("small",{style:{color:"red"},children:Y.amount_in_words})})]}),n.jsx("div",{className:"modal-actions",children:n.jsx("button",{onClick:()=>de(Y.invoice_id,Y.invoice_no,Y.project_details?.project_name,Y.lpo_reference),className:"btn-download",children:" Download Excel"})})]})]})}),ee&&k&&n.jsx("div",{className:"modal-overlay",onClick:te,children:n.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Sample ",k.sample_info?.sample_no||`ID: ${v?.id}`]}),n.jsx("button",{onClick:te,children:""})]}),J?n.jsx("p",{children:"Loading sample details..."}):n.jsxs("div",{className:"sample-details-content",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Sample Information"}),n.jsxs("p",{children:[n.jsx("b",{children:"Sample ID:"})," ",k.sample_info?.sample_id]}),n.jsxs("p",{children:[n.jsx("b",{children:"Sample Number:"})," ",k.sample_info?.sample_no||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Request No:"})," ",k.sample_info?.request_no||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Status:"})," ",n.jsx("span",{className:`status-badge status-${v?.status?.toLowerCase()||"pending"}`,children:v?.status||"PENDING"})]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Test Assignment"}),k.sample_info?.stored_assignment?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("b",{children:"Assigned Test:"})," ",k.sample_info.stored_assignment.description||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Item Code:"})," ",k.sample_info.stored_assignment.item_code||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Test Standard:"})," ",k.sample_info.stored_assignment.test_standard||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Unit Rate:"})," AED ",k.sample_info.stored_assignment.unit_rate||"0.00"]})]}):n.jsx("p",{children:"No test assigned to this sample"})]}),v&&n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Additional Details"}),v.storage_location&&n.jsxs("p",{children:[n.jsx("b",{children:"Storage Location:"})," ",v.storage_location]}),v.collected_by&&n.jsxs("p",{children:[n.jsx("b",{children:"Collected By:"})," ",v.collected_by]}),v.barcode&&n.jsxs("p",{children:[n.jsx("b",{children:"Barcode:"})," ",v.barcode]}),v.date&&n.jsxs("p",{children:[n.jsx("b",{children:"Date:"})," ",new Date(v.date).toLocaleDateString()]})]}),k.all_tests_in_request&&k.all_tests_in_request.length>0&&n.jsxs("div",{className:"detail-section",children:[n.jsxs("h4",{children:["Tests in Request (",k.all_tests_in_request.length,")"]}),n.jsxs("div",{className:"items-list",children:[k.all_tests_in_request.slice(0,3).map((D,q)=>n.jsxs("div",{className:"item-row",children:[n.jsxs("div",{children:[n.jsx("b",{children:D.description})," (",D.item_code,")"]}),n.jsxs("div",{children:["Quantity: ",D.requested_quantity,"  AED ",D.unit_rate.toFixed(2)]}),D.test_standard&&n.jsxs("div",{children:["Standard: ",D.test_standard]})]},q)),k.all_tests_in_request.length>3&&n.jsxs("div",{className:"more-items",children:["+ ",k.all_tests_in_request.length-3," more tests"]})]})]}),k.existing_worksheets&&k.existing_worksheets.length>0&&n.jsxs("div",{className:"detail-section",children:[n.jsxs("h4",{children:["Existing Worksheets (",k.existing_worksheets.length,")"]}),n.jsx("div",{className:"items-list",children:k.existing_worksheets.map((D,q)=>n.jsxs("div",{className:"item-row",children:[n.jsx("div",{children:n.jsx("b",{children:D.worksheet_no})}),n.jsxs("div",{children:["Test: ",D.test_name]}),n.jsxs("div",{children:["Created: ",new Date(D.created_at).toLocaleDateString()]})]},q))})]}),n.jsx("div",{className:"modal-actions"})]})]})}),ne&&P&&n.jsx("div",{className:"modal-overlay",onClick:fe,children:n.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Test Request ",P.request_no||`ID: ${v?.id}`]}),n.jsx("button",{onClick:fe,children:""})]}),J?n.jsx("p",{children:"Loading test request details..."}):n.jsxs("div",{className:"test-request-details-content",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("p",{children:[n.jsx("b",{children:"Request Number:"})," ",P.request_no]}),n.jsxs("p",{children:[n.jsx("b",{children:"Status:"})," ",n.jsx("span",{className:`status-badge status-${P.status?.toLowerCase()||"pending"}`,children:P.status||"PENDING"})]}),n.jsxs("p",{children:[n.jsx("b",{children:"Requested By:"})," ",P.requested_by||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Created Date:"})," ",P.created_at?new Date(P.created_at).toLocaleDateString():"N/A"]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Project Information"}),n.jsxs("p",{children:[n.jsx("b",{children:"Project ID:"})," ",P.project_id]}),n.jsxs("p",{children:[n.jsx("b",{children:"Project Number:"})," ",P.project_no||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Project Name:"})," ",P.project_name||"N/A"]})]}),P.items&&P.items.length>0?n.jsxs("div",{className:"detail-section",children:[n.jsxs("h4",{children:["Tests Requested (",P.items.length,")"]}),n.jsxs("div",{className:"items-list",children:[P.items.slice(0,5).map((D,q)=>n.jsxs("div",{className:"item-row",children:[n.jsxs("div",{className:"item-header",children:[n.jsx("b",{children:D.description||`Test ${q+1}`}),n.jsxs("span",{className:"item-quantity",children:["Qty: ",D.quantity||1]})]}),D.test_standard&&n.jsxs("div",{className:"item-detail",children:["Standard: ",D.test_standard]}),n.jsxs("div",{className:"item-detail",children:["Rate: AED ",D.unit_rate?.toFixed(2)||"0.00","  ",D.quantity||1," = AED ",D.amount?.toFixed(2)||"0.00"]})]},D.tri_id||q)),P.items.length>5&&n.jsxs("div",{className:"more-items",children:["+ ",P.items.length-5," more tests"]})]}),n.jsxs("div",{className:"financial-summary",children:[n.jsxs("p",{children:[n.jsx("b",{children:"Total Tests:"})," ",P.items.length]}),n.jsxs("p",{children:[n.jsx("b",{children:"Total Amount:"})," AED ",(P.items.reduce((D,q)=>D+(q.amount||0),0)*1.05).toFixed(2)]})]})]}):n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Tests Requested"}),n.jsx("p",{children:"No tests have been added to this request yet."})]}),n.jsx("div",{className:"modal-actions",children:n.jsx("button",{onClick:async()=>{try{const D=await fetch(`${ue}/test-requests/${P.test_request_id}/download-doc`,{method:"GET"});if(D.ok){const q=await D.blob(),oe=window.URL.createObjectURL(q),W=document.createElement("a");W.href=oe,W.download=`Test_Request_${P.request_no||P.test_request_id}.xlsx`,document.body.appendChild(W),W.click(),window.URL.revokeObjectURL(oe),document.body.removeChild(W)}else alert("Failed to download document")}catch(D){console.error("Download error:",D),alert("Error downloading document")}},className:"btn-download",children:" Download Excel"})})]})]})}),V&&N&&n.jsx("div",{className:"modal-overlay",onClick:A,children:n.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h3",{children:["Quotation ",N.quotation_no]}),n.jsx("button",{onClick:A,children:""})]}),J?n.jsx("p",{children:"Loading quotation details..."}):n.jsxs("div",{className:"quotation-details-content",children:[n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Basic Information"}),n.jsxs("p",{children:[n.jsx("b",{children:"Quotation No:"})," ",N.quotation_no]}),n.jsxs("p",{children:[n.jsx("b",{children:"Status:"})," ",n.jsx("span",{className:`status-badge status-${N.status.toLowerCase()}`,children:N.status})]}),n.jsxs("p",{children:[n.jsx("b",{children:"Revision:"})," V",N.revision]}),n.jsxs("p",{children:[n.jsx("b",{children:"Division:"})," ",N.division]}),n.jsxs("p",{children:[n.jsx("b",{children:"Enquiry Reference:"})," ",N.enquiry_ref||"N/A"]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Client Information"}),n.jsxs("p",{children:[n.jsx("b",{children:"Client Name:"})," ",N.client_name||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Contact Person:"})," ",N.client_contact||"N/A"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Email:"})," ",N.client_email||"N/A"]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsx("h4",{children:"Financial Details"}),n.jsxs("p",{children:[n.jsx("b",{children:"Total Amount:"})," AED ",N.total_amount?.toFixed(2)||"0.00"]}),n.jsxs("p",{children:[n.jsx("b",{children:"VAT (5%):"})," AED ",N.vat?.toFixed(2)||"0.00"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Grand Total:"})," AED ",N.grand_total?.toFixed(2)||"0.00"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Payment Terms:"})," ",N.payment_terms||"Standard Terms"]}),n.jsxs("p",{children:[n.jsx("b",{children:"Validity:"})," ",N.validity_days||30," days"]})]}),n.jsxs("div",{className:"detail-section",children:[n.jsxs("h4",{children:["Items (",N.items?.length||0,")"]}),N.items&&N.items.length>0?n.jsxs("div",{className:"items-list",children:[N.items.slice(0,3).map((D,q)=>n.jsxs("div",{className:"item-row",children:[n.jsx("div",{children:n.jsx("b",{children:D.description})}),n.jsxs("div",{children:["Quantity: ",D.quantity,"  AED ",D.unit_rate.toFixed(2)," = AED ",D.amount.toFixed(2)]}),D.test_standard&&n.jsxs("div",{children:["Standard: ",D.test_standard]})]},q)),N.items.length>3&&n.jsxs("div",{className:"more-items",children:["+ ",N.items.length-3," more items"]})]}):n.jsx("p",{children:"No items added"})]}),n.jsx("div",{className:"modal-actions",children:n.jsx("button",{onClick:()=>window.open(`${ue}/quotations/${N.quotation_id}/download`,"_blank"),className:"btn-download",children:" Download Quotation"})})]})]})})]})}function Wj(){const[s,c]=j.useState([]),[u,r]=j.useState([]),[d,h]=j.useState(!0),[m,x]=j.useState(""),[y,p]=j.useState(null),[v,_]=j.useState("ALL"),[S,C]=j.useState("ALL");j.useEffect(()=>{b()},[]),j.useEffect(()=>{if(s.length>0){let w=[...s];v!=="ALL"&&(w=w.filter(J=>J.invoice_type?.toUpperCase()===v)),S!=="ALL"&&(w=w.filter(J=>(J.payment_status||"UNPAID").toUpperCase()===S)),r(w)}},[s,v,S]);const b=async()=>{h(!0);try{const w=await ke.get(`${ue}/invoices/`);c(w.data)}catch(w){console.error("Error fetching invoices:",w),x(" Failed to load invoices. Please try again.")}finally{h(!1)}},E=async(w,J)=>{try{const K=await ke.patch(`${ue}/invoices/${w}/payment-status/`,{payment_status:J,paid_date:J==="PAID"?new Date().toISOString().split("T")[0]:null});x(` ${K.data.message}`),b(),setTimeout(()=>x(""),3e3)}catch(K){console.error("Error updating payment status:",K),x(` Failed to update status: ${K.response?.data?.detail||K.message}`)}},N=async(w,J,K,k)=>{try{const z=await ke.get(`${ue}/invoices/${w}/excel/`,{responseType:"blob"});let ee=`${J.replace("/","-")}.xlsx`;const re=z.headers["content-disposition"];if(re){const P=/filename\*=UTF-8''([^;]+)/i.exec(re);if(P&&P[1])ee=decodeURIComponent(P[1]);else{const he=/filename="([^"]+)"/i.exec(re);he&&he[1]&&(ee=he[1])}}op.saveAs(new Blob([z.data]),ee),x(` Invoice ${J} downloaded as "${ee}"`),setTimeout(()=>x(""),3e3)}catch(z){console.error("Error downloading invoice:",z),x(" Failed to download invoice. Please try again.")}},G=async(w,J)=>{if(window.confirm(`Are you sure you want to delete invoice ${J}? This action cannot be undone.`)){p(w);try{(await ke.delete(`${ue}/invoices/${w}/`)).status===200&&(c(k=>k.filter(z=>z.invoice_id!==w)),x(` Invoice ${J} deleted successfully`),setTimeout(()=>x(""),3e3))}catch(K){console.error("Error deleting invoice:",K),x(` Failed to delete invoice ${J}. ${K.response?.data?.detail||K.message}`)}finally{p(null)}}},V=w=>w?new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsx("h2",{children:"View Invoices"}),n.jsx("p",{className:"module-description",children:"View and manage all generated invoices. Download Excel files or delete invoices."})]}),m&&n.jsx("div",{className:`message ${m.includes("")?"success":"error"}`,children:m}),n.jsxs("div",{className:"table-section",children:[n.jsxs("div",{className:"table-header",children:[n.jsx("h3",{children:"All Invoices"}),n.jsxs("div",{className:"table-controls",children:[n.jsx("div",{className:"filter-dropdown",children:n.jsxs("div",{className:"custom-select",children:[n.jsxs("select",{id:"invoiceTypeFilter",value:v,onChange:w=>_(w.target.value),className:"modern-dropdown",children:[n.jsx("option",{value:"ALL",children:"All Invoices"}),n.jsx("option",{value:"TAX",children:"Tax Invoices"}),n.jsx("option",{value:"PROFORMA",children:"Proforma Invoices"})]}),n.jsx("div",{className:"select-arrow",children:""})]})}),n.jsx("div",{className:"filter-dropdown",children:n.jsxs("div",{className:"custom-select",children:[n.jsxs("select",{id:"paymentStatusFilter",value:S,onChange:w=>C(w.target.value),className:"modern-dropdown",children:[n.jsx("option",{value:"ALL",children:"All Payment Status"}),n.jsx("option",{value:"PAID",children:"Paid"}),n.jsx("option",{value:"UNPAID",children:"Unpaid"})]}),n.jsx("div",{className:"select-arrow",children:""})]})})]})]}),d?n.jsxs("div",{className:"loading-state",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading invoices..."})]}):u.length===0?n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:s.length===0?"No invoices found. Generate your first invoice from the 'Generate Invoice' section.":`No ${v==="ALL"?"":v.toLowerCase()} ${S==="ALL"?"":S.toLowerCase()} invoices found.`})}):n.jsx("div",{className:"table-container",children:n.jsxs("table",{className:"data-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Invoice No"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Project Name"}),n.jsx("th",{children:"Type"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:u.map(w=>n.jsxs("tr",{children:[n.jsxs("td",{children:[n.jsx("strong",{children:w.invoice_no}),w.lpo_reference&&w.lpo_reference!==" - "&&n.jsxs("div",{className:"sub-info",children:["LPO: ",w.lpo_reference]})]}),n.jsx("td",{children:V(w.invoice_date)}),n.jsx("td",{children:w.project_details?.client_contact||"N/A"}),n.jsxs("td",{children:[w.project_details?.project_name||"N/A",n.jsx("div",{className:"sub-info",children:w.project_details?.project_no})]}),n.jsx("td",{children:n.jsx("span",{className:`type-badge ${w.invoice_type?.toLowerCase()||"default"}`,children:w.invoice_type||"N/A"})}),n.jsxs("td",{children:[n.jsxs("select",{value:w.payment_status||"UNPAID",onChange:J=>E(w.invoice_id,J.target.value),className:`status-select ${w.payment_status==="PAID"?"paid":"unpaid"}`,children:[n.jsx("option",{value:"UNPAID",children:"Unpaid"}),n.jsx("option",{value:"PAID",children:"Paid"})]}),w.paid_date&&n.jsxs("div",{className:"sub-info",children:["Paid on: ",V(w.paid_date)]})]}),n.jsx("td",{children:n.jsxs("div",{className:"action-buttons",children:[n.jsx("button",{onClick:()=>N(w.invoice_id,w.invoice_no,w.project_details?.project_name,w.lpo_reference),className:"btn-download",title:"Download Excel Invoice",children:" Download"}),n.jsx("button",{onClick:()=>G(w.invoice_id,w.invoice_no),className:"btn-delete",disabled:y===w.invoice_id,title:"Delete Invoice",children:y===w.invoice_id?"Deleting...":"Delete"})]})})]},w.invoice_id))})]})}),n.jsxs("div",{className:"table-footer",children:[n.jsxs("p",{children:["Showing: ",n.jsx("strong",{children:u.length})," of ",n.jsx("strong",{children:s.length})," invoices",v!=="ALL"&&` (Type: ${v})`,S!=="ALL"&&` (Payment: ${S})`]}),n.jsx("p",{className:"info-text",children:" Tip: Downloaded Excel files are automatically saved with invoice number, project name, and LPO reference."})]})]})]})}const eb=({showNewClientModal:s,setShowNewClientModal:c,newClientForm:u,handleNewClientChange:r,handleCreateNewClient:d,creatingClient:h})=>{if(!s)return null;const m=x=>{x.key==="Enter"&&x.target.type!=="submit"&&x.preventDefault()};return n.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:n.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{children:"Create New Client"}),n.jsx("button",{className:"modal-close",onClick:()=>c(!1),type:"button","aria-label":"Close",children:""})]}),n.jsxs("form",{onSubmit:d,className:"new-client-form",onKeyDown:m,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Company Name *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:r,required:!0,placeholder:"Enter company name",className:"form-input",autoFocus:!0})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"contact_person",children:"Contact Person"}),n.jsx("input",{type:"text",id:"contact_person",name:"contact_person",value:u.contact_person,onChange:r,placeholder:"Enter contact person name",className:"form-input"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email"}),n.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:r,placeholder:"Enter email address",className:"form-input"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Phone"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:r,placeholder:"Enter phone number",className:"form-input"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"address",children:"Address"}),n.jsx("textarea",{id:"address",name:"address",value:u.address,onChange:r,placeholder:"Enter full address",rows:"3",className:"form-textarea",onKeyDown:x=>{x.key==="Enter"&&!x.shiftKey&&x.preventDefault()}})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"submit",disabled:h,className:"btn-primary",children:h?"Creating...":"Create Client"}),n.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"})]})]})]})})};function tb({onBack:s,onEnquiryCreated:c}){const[u,r]=j.useState({client_id:"",enquiry_ref:"",enquiry_date:new Date().toISOString().split("T")[0],project_name:"",location:"",notes:""}),[d,h]=j.useState(!1),[m,x]=j.useState(""),[y,p]=j.useState([]),[v,_]=j.useState(!0),[S,C]=j.useState(!1),[b,E]=j.useState({name:"",contact_person:"",email:"",phone:"",address:""}),[N,G]=j.useState(!1);j.useEffect(()=>{V()},[]);const V=async()=>{try{_(!0);const z=await fetch(`${ue}/enquiries/clients/`);if(z.ok){const ee=await z.json();p(ee)}else x(" Failed to load clients. Please try again.")}catch(z){console.error("Error fetching clients:",z),x(" Network error while loading clients")}finally{_(!1)}},w=z=>{const{name:ee,value:re}=z.target;r(ee==="client_id"?{...u,[ee]:re}:{...u,[ee]:re})},J=z=>{const{name:ee,value:re}=z.target;E({...b,[ee]:re})},K=async z=>{if(z.preventDefault(),!b.name.trim()){x(" Client name is required");return}G(!0);try{const ee=await fetch(`${ue}/enquiries/clients/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(ee.ok){const re=await ee.json();p(P=>[...P,{client_id:re.client_id,name:re.name,email:re.email,phone:re.phone}]),r(P=>({...P,client_id:re.client_id.toString()})),C(!1),E({name:"",contact_person:"",email:"",phone:"",address:""}),x(` New client "${re.name}" created and selected!`)}else{const re=await ee.json();x(` Failed to create client: ${re.detail||"Unknown error"}`)}}catch(ee){console.error("Error creating client:",ee),x(` Network error while creating client: ${ee.message}`)}finally{G(!1)}},k=async z=>{if(z.preventDefault(),h(!0),x(""),u.enquiry_ref&&(u.enquiry_ref.toLowerCase()==="string"||u.enquiry_ref.toLowerCase()==="customer"||u.enquiry_ref.trim()==="")){x(" Please enter a valid enquiry reference or leave it blank for auto-generation"),h(!1);return}if(!u.client_id||!u.project_name){x(" Please select a client and enter a Project Name"),h(!1);return}try{const ee={client_id:parseInt(u.client_id),project_name:u.project_name,location:u.location,notes:u.notes,enquiry_date:u.enquiry_date};u.enquiry_ref&&u.enquiry_ref.trim()!==""&&(ee.enquiry_ref=u.enquiry_ref);const re=await fetch(`${ue}/enquiries/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)});if(re.ok){const P=await re.json(),he=` Enquiry ${P.enquiry_id} Created! Reference: ${P.enquiry_ref}`;x(he),c(P),r({client_id:"",enquiry_ref:"",enquiry_date:new Date().toISOString().split("T")[0],project_name:"",location:"",notes:""})}else{const P=await re.json();x(` Error: ${P.detail}`)}}catch(ee){x(` Network error: ${ee.message}`)}finally{h(!1)}};return n.jsxs("div",{className:"module-content",children:[n.jsx("div",{className:"module-header",children:n.jsx("h2",{children:"Create New Enquiry"})}),m&&n.jsx("div",{className:`message ${m.includes("")?"success":"error"}`,children:m}),n.jsxs("form",{onSubmit:k,className:"enquiry-form",children:[n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsxs("div",{className:"form-header-with-action",children:[n.jsx("label",{htmlFor:"client_id",children:"Client *"}),n.jsx("button",{type:"button",onClick:()=>C(!0),className:"btn-create-client",title:"Create New Client",children:"+ New Client"})]}),n.jsxs("select",{id:"client_id",name:"client_id",value:u.client_id,onChange:w,required:!0,className:"form-select",disabled:v,children:[n.jsx("option",{value:"",children:"Select a client..."}),y.map(z=>n.jsxs("option",{value:z.client_id,children:[z.name||`Client ${z.client_id}`,z.email?` (${z.email})`:""]},z.client_id))]}),n.jsx("small",{className:"field-hint",children:v?"Loading clients...":'Select from existing clients or click "New Client"'})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"enquiry_ref",children:"Enquiry Reference"}),n.jsx("input",{type:"text",id:"enquiry_ref",name:"enquiry_ref",value:u.enquiry_ref,onChange:w,placeholder:"Leave blank for auto-generation (Recommended)",className:"form-input"}),n.jsx("small",{className:"field-hint",children:"Auto-generated format: ENQ-YYYY-XXX"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"enquiry_date",children:"Enquiry Date"}),n.jsx("input",{type:"date",id:"enquiry_date",name:"enquiry_date",value:u.enquiry_date,onChange:w,className:"form-input"})]}),n.jsxs("div",{className:"form-group full-width",children:[n.jsx("label",{htmlFor:"project_name",children:"Project Name *"}),n.jsx("input",{type:"text",id:"project_name",name:"project_name",value:u.project_name,onChange:w,required:!0,placeholder:"Enter project name",className:"form-input"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"location",children:"Location"}),n.jsx("input",{type:"text",id:"location",name:"location",value:u.location,onChange:w,placeholder:"Enter location",className:"form-input"})]}),n.jsxs("div",{className:"form-group full-width",children:[n.jsx("label",{htmlFor:"notes",children:"Notes"}),n.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:w,placeholder:"Additional notes...",rows:"4",className:"form-textarea"})]})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"submit",disabled:d||v,className:"btn-primary",children:d?"Creating...":"Create Enquiry"}),n.jsx("button",{type:"button",onClick:()=>V(),className:"btn-secondary",disabled:v,children:v?"Loading...":" Refresh Clients"})]})]}),n.jsx(eb,{showNewClientModal:S,setShowNewClientModal:C,newClientForm:b,handleNewClientChange:J,handleCreateNewClient:K,creatingClient:N})]})}function ab({onStatusUpdate:s}){const[c,u]=j.useState([]),[r,d]=j.useState({}),[h,m]=j.useState(!0),[x,y]=j.useState("");j.useEffect(()=>{p()},[]);const p=async()=>{try{m(!0),y(""),console.log("Fetching data...");const[S,C]=await Promise.all([fetch(`${ue}/enquiries/`),fetch(`${ue}/enquiries/clients/`)]);if(S.ok){const b=await S.json();console.log("Raw enquiries data:",b);const E=b.filter(N=>N.status==="OPEN");console.log("Pending enquiries:",E),u(E)}else{const b=await S.text();console.error("Server error for enquiries:",b),y(` Failed to load enquiries: ${S.status} ${S.statusText}`)}if(C.ok){const b=await C.json();console.log("Clients data:",b);const E={};b.forEach(N=>{E[N.client_id]=N}),console.log("Clients map:",E),d(E)}else{const b=await C.text();console.error("Server error for clients:",b),y(E=>`${E}  Failed to load clients.`)}}catch(S){console.error("Network error details:",S),y(` Network error: ${S.message}`)}finally{m(!1)}},v=S=>{const C=r[S];return C?C.name||`Client ${S}`:(console.log(`Client not found for ID: ${S}`),`Client ${S}`)},_=async(S,C)=>{try{console.log(`Updating enquiry ${S} to ${C}`);const b=await fetch(`${ue}/enquiries/${S}/status?status=${C}/`,{method:"POST",headers:{"Content-Type":"application/json"}});if(b.ok){const E=await b.json();console.log("Update successful:",E);const N=c.find(V=>V.enquiry_id===S);u(V=>V.filter(w=>w.enquiry_id!==S));const G=c.length-1;s(S,C,N),y(` Enquiry ${S} ${C.toLowerCase()} successfully. ${G} enquiries remaining.`),setTimeout(()=>{p()},500)}else{const E=await b.json();console.error("Update failed:",E),y(` Failed to update enquiry status: ${E.detail||b.status}`)}}catch(b){console.error("Update network error:",b),y(` Network error during update: ${b.message}`)}};return h?n.jsx("div",{className:"loading",children:"Loading enquiries..."}):n.jsxs("div",{className:"module-content",children:[n.jsxs("div",{className:"module-header",children:[n.jsx("h2",{children:"Pending Enquiries"}),n.jsxs("div",{className:"enquiry-count",children:[c.length," pending enquiry",c.length!==1?"s":""]})]}),x&&n.jsx("div",{className:`message ${x.includes("")?"success":"error"}`,children:x}),n.jsxs("div",{className:"refresh-section",children:[n.jsx("button",{onClick:p,className:"btn-refresh",children:" Refresh List"}),n.jsxs("small",{className:"refresh-hint",children:["  Last updated: ",new Date().toLocaleTimeString()]})]}),c.length===0?n.jsxs("div",{className:"no-data",children:[n.jsx("h3",{children:" No Pending Enquiries!"}),n.jsx("p",{children:"All enquiries have been processed. Great work!"})]}):n.jsx("div",{className:"enquiries-table-container",children:n.jsxs("table",{className:"enquiries-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"No"}),n.jsx("th",{children:"Reference"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Project Name"}),n.jsx("th",{children:"Location"}),n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Notes"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:c.map((S,C)=>n.jsxs("tr",{children:[n.jsx("td",{className:"si-no",children:C+1}),n.jsx("td",{className:"enquiry-ref",children:S.enquiry_ref}),n.jsx("td",{className:"client-name",children:v(S.client_id)}),n.jsx("td",{className:"project-name",children:S.project_name}),n.jsx("td",{className:"location",children:S.location||"-"}),n.jsx("td",{className:"enquiry-date",children:S.enquiry_date?new Date(S.enquiry_date).toLocaleDateString():"N/A"}),n.jsx("td",{className:"notes",children:S.notes||"-"}),n.jsxs("td",{className:"actions",children:[n.jsx("button",{onClick:()=>_(S.enquiry_id,"APPROVED"),className:"btn-approve",title:"Approve this enquiry",children:" Approve"}),n.jsx("button",{onClick:()=>_(S.enquiry_id,"REJECTED"),className:"btn-reject",title:"Reject this enquiry",children:" Reject"})]})]},S.enquiry_id))})]})})]})}function nb({onStatusUpdate:s,onNotification:c}){const[u,r]=j.useState([]),[d,h]=j.useState([]),[m,x]=j.useState(!0),[y,p]=j.useState("ALL"),[v,_]=j.useState({all:0,approved:0,rejected:0,clarification:0,draft:0,sent:0}),[S,C]=j.useState(null),[b,E]=j.useState(!1),[N,G]=j.useState(""),V=async(ne=!1)=>{try{ne||x(!0);const H=await fetch(`${ue}/quotations/`);if(H.ok){const Y=await H.json();r(Y);const F={all:Y.length,approved:Y.filter(O=>O.status==="APPROVED").length,rejected:Y.filter(O=>O.status==="REJECTED").length,clarification:Y.filter(O=>O.status==="CLARIFICATION").length,draft:Y.filter(O=>O.status==="DRAFT").length,sent:Y.filter(O=>O.status==="SENT").length};_(F),w(y,Y)}}catch(H){console.error("Failed to fetch quotations:",H),c&&c("Failed to load quotations","error")}finally{x(!1)}},w=(ne,H=u)=>{let Y=[...H];ne!=="ALL"&&(Y=Y.filter(F=>F.status===ne)),h(Y)};j.useEffect(()=>{V()},[]);const J=ne=>{p(ne),w(ne)},K=()=>{V(),c&&c("Quotations refreshed","info")},k=()=>{p("ALL"),w("ALL")},z=ne=>{r(H=>H.map(Y=>Y.quotation_id===ne.quotation_id?{...Y,...ne}:Y)),h(H=>H.map(Y=>Y.quotation_id===ne.quotation_id?{...Y,...ne}:Y))},ee=async ne=>{try{const H=await fetch(`${ue}/quotations/${ne}`);if(H.ok){const Y=await H.json();C(Y),E(!0)}}catch(H){G(` Failed to fetch quotation details: ${H.message}`)}},re=async(ne,H)=>{try{const Y=await fetch(`${ue}/quotations/${ne}/${H}`,{method:"POST"});if(Y.ok){const F=await Y.json();r(de=>de.map(pe=>pe.quotation_id===ne?{...pe,status:H.toUpperCase()}:pe)),h(de=>de.map(pe=>pe.quotation_id===ne?{...pe,status:H.toUpperCase()}:pe));const O=u.find(de=>de.quotation_id===ne),I=O?O.quotation_no:`ID: ${ne}`;G(` Quotation ${I} ${H}ed successfully`),E(!1),C(null),setTimeout(()=>{V()},500),s&&s(I,{approve:"APPROVED",reject:"REJECTED",clarification:"CLARIFICATION",send:"SENT",revision:"REVISION"}[H]||H.toUpperCase())}else{const F=await Y.json();G(` Failed to ${H}: ${F.detail}`)}}catch(Y){G(` Network error: ${Y.message}`)}},P=ne=>{const Y={DRAFT:{class:"draft",label:"Draft"},SENT:{class:"sent",label:"Sent"},APPROVED:{class:"approved",label:"Approved"},REJECTED:{class:"rejected",label:"Rejected"},CLARIFICATION:{class:"clarification",label:"Clarification"}}[ne]||{class:"default",label:ne};return n.jsx("span",{className:`status-badge status-${Y.class}`,children:Y.label})},he=ne=>{switch(ne.status){case"DRAFT":return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>re(ne.quotation_id,"send"),className:"btn-send",children:"Send"}),n.jsx("button",{onClick:()=>ee(ne.quotation_id),className:"btn-view",children:"View"})]});case"SENT":return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>re(ne.quotation_id,"approve"),className:"btn-approve",children:"Approve"}),n.jsx("button",{onClick:()=>re(ne.quotation_id,"reject"),className:"btn-reject",children:"Reject"}),n.jsx("button",{onClick:()=>re(ne.quotation_id,"clarification"),className:"btn-clarify",children:"Clarify"}),n.jsx("button",{onClick:()=>ee(ne.quotation_id),className:"btn-view",children:"View"})]});case"CLARIFICATION":return n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>re(ne.quotation_id,"revision"),className:"btn-revision",children:"Create Revision"}),n.jsx("button",{onClick:()=>ee(ne.quotation_id),className:"btn-view",children:"View"})]});default:return n.jsx("button",{onClick:()=>ee(ne.quotation_id),className:"btn-view",children:"View"})}};return m?n.jsxs("div",{className:"quotation-dashboard-loading",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"Loading quotations..."})]}):n.jsxs("div",{className:"quotation-dashboard",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{className:"header-left",children:[n.jsx("h1",{children:"Quotation Dashboard"}),n.jsx("p",{className:"subtitle",children:"Manage and track all quotations"})]}),n.jsx("div",{className:"header-right",children:n.jsx("button",{className:"refresh-btn",onClick:K,children:"Refresh"})})]}),N&&n.jsx("div",{className:`dashboard-message ${N.includes("")?"success":"error"}`,children:N}),n.jsxs("div",{className:"dashboard-main-content",children:[n.jsxs("div",{className:"status-filters-container",children:[n.jsxs("button",{className:`status-filter-btn ${y==="ALL"?"active":""}`,onClick:()=>J("ALL"),children:[n.jsx("div",{className:"status-label",children:"All Quotations"}),n.jsx("div",{className:"status-count all",children:v.all})]}),n.jsxs("button",{className:`status-filter-btn ${y==="APPROVED"?"active":""}`,onClick:()=>J("APPROVED"),children:[n.jsx("div",{className:"status-label",children:"Approved"}),n.jsx("div",{className:"status-count approved",children:v.approved})]}),n.jsxs("button",{className:`status-filter-btn ${y==="REJECTED"?"active":""}`,onClick:()=>J("REJECTED"),children:[n.jsx("div",{className:"status-label",children:"Rejected"}),n.jsx("div",{className:"status-count rejected",children:v.rejected})]}),n.jsxs("button",{className:`status-filter-btn ${y==="CLARIFICATION"?"active":""}`,onClick:()=>J("CLARIFICATION"),children:[n.jsx("div",{className:"status-label",children:"Clarification"}),n.jsx("div",{className:"status-count clarification",children:v.clarification})]}),n.jsxs("button",{className:`status-filter-btn ${y==="DRAFT"?"active":""}`,onClick:()=>J("DRAFT"),children:[n.jsx("div",{className:"status-label",children:"Draft"}),n.jsx("div",{className:"status-count draft",children:v.draft})]})]}),n.jsx("div",{className:"results-header",children:n.jsxs("h3",{children:[y==="ALL"?"All Quotations":y==="APPROVED"?"Approved Quotations":y==="REJECTED"?"Rejected Quotations":y==="CLARIFICATION"?"Quotations Needing Clarification":y==="DRAFT"?"Draft Quotations":"Sent Quotations",n.jsxs("span",{className:"results-count",children:[" (",d.length,")"]})]})}),b&&S&&n.jsx(Lm,{quotation:S,onClose:()=>{E(!1),V(!0)},onStatusUpdate:re,onQuotationUpdate:ne=>{z(ne),V(!0)}}),d.length===0?n.jsxs("div",{className:"no-results",children:[n.jsx("div",{className:"no-results-icon",children:""}),n.jsx("h3",{children:"No quotations found"}),n.jsx("p",{children:"Try selecting a different status filter"}),n.jsx("button",{className:"reset-filters-btn",onClick:k,children:"Show All Quotations"})]}):n.jsx("div",{className:"quotation-table-container",children:n.jsxs("table",{className:"quotation-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Quotation No"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Enquiry Ref"}),n.jsx("th",{children:"Division"}),n.jsx("th",{children:"Total Amount"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:d.map(ne=>n.jsxs("tr",{children:[n.jsx("td",{className:"quotation-no",children:ne.quotation_no||"N/A"}),n.jsx("td",{children:ne.client_name||"N/A"}),n.jsx("td",{children:ne.enquiry_ref||"N/A"}),n.jsx("td",{children:ne.division||"N/A"}),n.jsx("td",{className:"amount",children:ne.grand_total?`AED ${ne.grand_total.toLocaleString()}`:"AED 0.00"}),n.jsx("td",{className:"status-cell",children:P(ne.status)}),n.jsx("td",{className:"actions",children:he(ne)})]},ne.quotation_id||ne.quotation_no))})]})})]})]})}function lb(){const[s,c]=j.useState(null),[u,r]=j.useState("dashboard"),[d,h]=j.useState(!0),[m,x]=j.useState([]),[y,p]=j.useState(!1),v=wm();j.useEffect(()=>{const E=JSON.parse(localStorage.getItem("user"));if(!E){v("/");return}c(E);const N=JSON.parse(localStorage.getItem("notifications"))||[];x(N)},[v]);const _=(E,N="info")=>{const V=[{id:Date.now(),message:E,type:N,timestamp:new Date().toLocaleString(),read:!1},...m];x(V),localStorage.setItem("notifications",JSON.stringify(V))},S=E=>{const N=m.map(G=>G.id===E?{...G,read:!0}:G);x(N),localStorage.setItem("notifications",JSON.stringify(N))},C=()=>{x([]),localStorage.setItem("notifications",JSON.stringify([]))},b=()=>{localStorage.removeItem("user"),v("/")};return s?n.jsxs("div",{className:"dashboard-container",children:[n.jsx(sb,{user:s,onLogout:b,onToggleSidebar:()=>h(!d),sidebarOpen:d,notifications:m,showNotifications:y,setShowNotifications:p,onMarkAsRead:S,onClearAll:C}),n.jsxs("div",{className:"dashboard-content",children:[d&&n.jsx(ib,{activeModule:u,setActiveModule:r,setSidebarOpen:h}),n.jsxs("main",{className:`main-content ${d?"":"full-width"}`,children:[u==="dashboard"&&n.jsx(ob,{user:s,setActiveModule:r}),u==="create-enquiry"&&n.jsx(tb,{onBack:()=>r("dashboard"),onEnquiryCreated:E=>{_(`Enquiry ${E.enquiry_id} Created - ${E.enquiry_ref}`,"success"),r("pending-enquiries")}}),u==="pending-enquiries"&&n.jsx(ab,{onStatusUpdate:(E,N)=>{_(`Enquiry ${E} ${N==="APPROVED"?"Approved":"Rejected"}`,"warning")}}),u==="create-quotation"&&n.jsx(ry,{onQuotationCreated:E=>{_(`Quotation ${E.quotation_no} created`,"success"),setTimeout(()=>{r("view-quotations")},900)}}),u==="view-quotations"&&n.jsx(cy,{onStatusUpdate:(E,N)=>{_(`Quotation ${E} ${{APPROVED:"Approved",REJECTED:"Rejected",CLARIFICATION:"Sent to Revision"}[N]||N}`,"info")}}),u==="approved-quotations"&&n.jsx(ApprovedQuotations,{onNotification:(E,N)=>_(E,N)}),u==="revisions"&&n.jsx(RevisionsClarification,{onStatusUpdate:(E,N)=>{_(`Quotation ${E} ${{APPROVED:"Approved",REJECTED:"Rejected",CLARIFICATION:"Sent to Revision"}[N]||N}`,"warning")}}),u==="rejected-quotations"&&n.jsx(RejectedQuotations,{onNotification:(E,N)=>_(E,N)}),u==="quotation-dashboard"&&n.jsx(nb,{onStatusUpdate:(E,N)=>{_(`Quotation ${E} ${{APPROVED:"Approved",REJECTED:"Rejected",CLARIFICATION:"Sent to Revision"}[N]||N}`,"info")},onNotification:(E,N)=>_(E,N)}),u==="create-project"&&n.jsx(Um,{onProjectCreated:E=>{_(`Project ${E.project_no} created`,"success"),setTimeout(()=>{r("view-projects")},1e3)}}),u==="view-projects"&&n.jsx(zm,{}),u==="create-test-request"&&n.jsx(uy,{onTestRequestCreated:E=>{_(`Test Request ${E.request_no} created`,"success"),setTimeout(()=>{r("view-test-requests")},1e3)}}),u==="view-test-requests"&&n.jsx(dy,{}),u==="generate-samples"&&n.jsx(fy,{}),u==="accept-reject-samples"&&n.jsx(hy,{}),u==="generate-worksheet"&&n.jsx(xy,{}),u==="create-report"&&n.jsx(gy,{}),u==="view-reports"&&n.jsx(vy,{}),u==="view-invoices"&&n.jsx(Wj,{}),u==="generate-invoice"&&n.jsx(Zj,{})]})]})]}):n.jsx("div",{className:"loading",children:"Loading..."})}function sb({user:s,onLogout:c,onToggleSidebar:u,sidebarOpen:r,notifications:d,showNotifications:h,setShowNotifications:m,onMarkAsRead:x,onClearAll:y}){const p=d.filter(v=>!v.read).length;return n.jsxs("header",{className:"top-bar",children:[n.jsxs("div",{className:"top-bar-left",children:[n.jsx("button",{className:"sidebar-toggle",onClick:u,children:r?"":""}),n.jsx("h1",{children:"Global Engineering Laboratory"})]}),n.jsx("div",{className:"top-bar-center",children:n.jsx(Ij,{})}),n.jsxs("div",{className:"top-bar-right",children:[n.jsxs("div",{className:"notifications-container",children:[n.jsxs("button",{className:"notification-btn",onClick:()=>m(!h),children:["",p>0&&n.jsx("span",{className:"notification-badge",children:p})]}),h&&n.jsxs("div",{className:"notifications-dropdown",children:[n.jsxs("div",{className:"notifications-header",children:[n.jsx("h4",{children:"Notifications"}),d.length>0&&n.jsx("button",{className:"clear-all-btn",onClick:y,children:"Clear All"})]}),n.jsx("div",{className:"notifications-list",children:d.length===0?n.jsx("div",{className:"no-notifications",children:"No notifications"}):d.map(v=>n.jsxs("div",{className:`notification-item ${v.read?"read":"unread"} ${v.type}`,onClick:()=>x(v.id),children:[n.jsx("div",{className:"notification-message",children:v.message}),n.jsx("div",{className:"notification-time",children:v.timestamp}),!v.read&&n.jsx("div",{className:"unread-dot"})]},v.id))})]})]}),n.jsxs("div",{className:"user-profile",children:[n.jsx("div",{className:"user-info",children:n.jsxs("span",{className:"role",children:["Role : ",s.role||s.role_id]})}),n.jsx("button",{onClick:c,className:"logout-btn",children:"LogOut"})]})]})]})}function ib({activeModule:s,setActiveModule:c,setSidebarOpen:u}){const r=d=>{c(d),u(!1)};return n.jsxs("nav",{className:"side-navigation",children:[n.jsx("div",{className:"nav-section",children:n.jsx("ul",{children:n.jsx("li",{className:s==="dashboard"?"active":"",onClick:()=>r("dashboard"),children:" Dashboard"})})}),n.jsxs("div",{className:"nav-section",children:[n.jsx("h3",{children:"ENQUIRIES"}),n.jsxs("ul",{children:[n.jsx("li",{className:s==="create-enquiry"?"active":"",onClick:()=>r("create-enquiry"),children:" Create New Enquiry"}),n.jsx("li",{className:s==="pending-enquiries"?"active":"",onClick:()=>r("pending-enquiries"),children:" View Pending Enquiries"})]})]}),n.jsxs("div",{className:"nav-section",children:[n.jsx("h3",{children:"QUOTATIONS"}),n.jsxs("ul",{children:[n.jsx("li",{className:s==="create-quotation"?"active":"",onClick:()=>r("create-quotation"),children:" Create Quotations"}),n.jsx("li",{className:s==="view-quotations"?"active":"",onClick:()=>r("view-quotations"),children:" Add Tests To Quotations"}),n.jsx("li",{className:s==="quotation-dashboard"?"active":"",onClick:()=>r("quotation-dashboard"),children:" Quotation Dashboard"})]})]}),n.jsxs("div",{className:"nav-section",children:[n.jsx("h3",{children:"PROJECTS"}),n.jsxs("ul",{children:[n.jsx("li",{className:s==="create-project"?"active":"",onClick:()=>r("create-project"),children:" Create Project"}),n.jsx("li",{className:s==="view-projects"?"active":"",onClick:()=>r("view-projects"),children:" View Projects"})]})]}),n.jsxs("div",{className:"nav-section",children:[n.jsx("h3",{children:"TEST REQUESTS"}),n.jsxs("ul",{children:[n.jsx("li",{className:s==="create-test-request"?"active":"",onClick:()=>r("create-test-request"),children:" Create Test Request"}),n.jsx("li",{className:s==="view-test-requests"?"active":"",onClick:()=>r("view-test-requests"),children:" View Test Requests"})]})]}),n.jsxs("div",{className:"nav-section",children:[n.jsx("h3",{children:"SAMPLE MANAGEMENT"}),n.jsxs("ul",{children:[n.jsx("li",{className:s==="generate-samples"?"active":"",onClick:()=>r("generate-samples"),children:" Generate Samples"}),n.jsx("li",{className:s==="accept-reject-samples"?"active":"",onClick:()=>r("accept-reject-samples"),children:" Accept/Reject Samples"}),n.jsx("li",{className:s==="generate-worksheet"?"active":"",onClick:()=>r("generate-worksheet"),children:" Generate Worksheet"})]})]}),n.jsxs("div",{className:"nav-section",children:[n.jsx("h3",{children:"REPORTS"}),n.jsxs("ul",{children:[n.jsx("li",{className:s==="create-report"?"active":"",onClick:()=>r("create-report"),children:" Create/Upload Report"}),n.jsx("li",{className:s==="view-reports"?"active":"",onClick:()=>r("view-reports"),children:" View Reports (Supervisor/Manager Only)"})]})]}),n.jsxs("div",{className:"nav-section",children:[n.jsx("h3",{children:"INVOICES"}),n.jsxs("ul",{children:[n.jsx("li",{className:s==="generate-invoice"?"active":"",onClick:()=>r("generate-invoice"),children:" Generate Invoice"}),n.jsx("li",{className:s==="view-invoices"?"active":"",onClick:()=>r("view-invoices"),children:" View Invoices"})]})]})]})}function ob({user:s,setActiveModule:c}){const[u,r]=j.useState({pendingEnquiries:0,draftQuotations:0,pendingReports:0,totalProjects:0}),[d,h]=j.useState(null),[m,x]=j.useState(!0),[y,p]=j.useState(""),[v,_]=j.useState(!0);j.useEffect(()=>{S(),C();const N=setInterval(()=>{S(),C()},3e4);return()=>clearInterval(N)},[]);const S=async()=>{try{console.log("Fetching dashboard stats...");const N=await fetch(`${ue}/enquiries/`);if(N.ok){const V=(await N.json()).filter(k=>k.status==="OPEN").length;let w=0;try{const k=await fetch(`${ue}/projects/projects`);k.ok&&(w=(await k.json()).filter(re=>re.status==="ACTIVE"||re.status==="active").length)}catch(k){console.warn("Could not fetch projects:",k),w=0}let J=0;try{const k=await fetch(`${ue}/quotations/`);k.ok&&(J=(await k.json()).filter(ee=>ee.status==="DRAFT").length)}catch(k){console.warn("Could not fetch quotations:",k),J=0}let K=0;try{const k=await fetch(`${ue}/reports?status=UNDER_REVIEW`);if(k.ok){const z=await k.json(),ee=new Set;K=z.filter(P=>ee.has(P.report_no)?!1:(ee.add(P.report_no),!0)).length}}catch(k){console.warn("Could not fetch pending reports:",k),K=0}r({pendingEnquiries:V,draftQuotations:J,pendingReports:K,totalProjects:w}),p(new Date().toLocaleTimeString())}else r({pendingEnquiries:0,draftQuotations:0,pendingReports:0,totalProjects:0}),p(new Date().toLocaleTimeString())}catch(N){console.error("Error fetching dashboard stats:",N),r({pendingEnquiries:0,draftQuotations:0,pendingReports:0,totalProjects:0}),p(new Date().toLocaleTimeString())}finally{x(!1)}},C=async()=>{try{_(!0);const N=await fetch(`${ue}/projects/projects`);if(N.ok){const G=await N.json();if(G.length>0){const V=[...G].sort((w,J)=>J.project_id-w.project_id);h(V[0])}else h(null)}}catch(N){console.error("Error fetching latest project:",N),h(null)}finally{_(!1)}},b=N=>{console.log(`Navigating to: ${N}`),c(N)},E=()=>{d&&c("view-projects")};return m?n.jsxs("div",{className:"dashboard-home",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsx("h2",{children:"Dashboard Overview"}),n.jsx("div",{className:"user-role-display",children:n.jsxs("span",{className:"role-badge",children:["Role ",s.role_id]})})]}),n.jsx("div",{className:"loading-stats",children:"Loading statistics..."})]}):n.jsxs("div",{className:"dashboard-home",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{className:"header-left",children:[n.jsx("h2",{children:"Dashboard Overview"}),y&&n.jsxs("small",{className:"last-updated",children:["Time: ",y]})]}),n.jsx("div",{className:"user-role-display",children:n.jsx("span",{className:"role-badge",children:s.role||s.role_id})})]}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card pending clickable",onClick:()=>b("pending-enquiries"),children:[n.jsxs("div",{className:"stat-header",children:[n.jsx("h3",{children:"PENDING ENQUIRIES"}),n.jsx("span",{className:"stat-icon",children:""})]}),n.jsx("div",{className:"stat-number",children:u.pendingEnquiries}),n.jsx("p",{children:"Requires attention"})]}),n.jsxs("div",{className:"stat-card draft clickable",onClick:()=>b("view-quotations"),title:"Click to view draft quotations",children:[n.jsxs("div",{className:"stat-header",children:[n.jsx("h3",{children:"DRAFT QUOTATIONS"}),n.jsx("span",{className:"stat-icon",children:""})]}),n.jsx("div",{className:"stat-number",children:u.draftQuotations}),n.jsx("p",{children:"In progress"})]}),n.jsxs("div",{className:"stat-card pending-reports clickable",onClick:()=>b("view-reports"),title:"Click to view pending reports",children:[n.jsxs("div",{className:"stat-header",children:[n.jsx("h3",{children:"PENDING REPORTS"}),n.jsx("span",{className:"stat-icon",children:""})]}),n.jsx("div",{className:"stat-number",children:u.pendingReports||0}),n.jsx("p",{children:"Requires approval"})]}),n.jsxs("div",{className:"stat-card total clickable",onClick:()=>b("view-projects"),title:"Click to view all projects",children:[n.jsxs("div",{className:"stat-header",children:[n.jsx("h3",{children:"TOTAL PROJECTS"}),n.jsx("span",{className:"stat-icon",children:""})]}),n.jsx("div",{className:"stat-number",children:u.totalProjects}),n.jsx("p",{children:"Active Projects"})]})]}),n.jsxs("div",{className:"dashboard-bottom-section",children:[n.jsxs("div",{className:"three-cards-section",children:[n.jsx("div",{className:"section-title",children:n.jsx("h3",{children:"Statistics"})}),n.jsxs("div",{className:"three-cards-grid",children:[n.jsxs("div",{className:"metric-card",children:[n.jsxs("div",{className:"metric-header",children:[n.jsx("span",{className:"metric-icon",children:""}),n.jsx("h4",{children:"Total Quotations"})]}),n.jsx("div",{className:"metric-number",children:"0"}),n.jsxs("div",{className:"metric-trend positive",children:[n.jsx("span",{className:"trend-arrow",children:""}),n.jsx("span",{className:"trend-text",children:"% from last month"})]})]}),n.jsxs("div",{className:"metric-card",children:[n.jsxs("div",{className:"metric-header",children:[n.jsx("span",{className:"metric-icon",children:""}),n.jsx("h4",{children:"Completion Rate"})]}),n.jsx("div",{className:"metric-number",children:"0%"}),n.jsxs("div",{className:"metric-trend excellent",children:[n.jsx("span",{className:"trend-arrow",children:""}),n.jsx("span",{className:"trend-text",children:"Exceeding targets"})]})]}),n.jsxs("div",{className:"metric-card",children:[n.jsxs("div",{className:"metric-header",children:[n.jsx("span",{className:"metric-icon",children:""}),n.jsx("h4",{children:"Pending Rate"})]}),n.jsx("div",{className:"metric-number",children:"0%"}),n.jsxs("div",{className:"metric-trend good",children:[n.jsx("span",{className:"trend-arrow",children:""}),n.jsx("span",{className:"trend-text",children:"-0% from last week"})]})]})]})]}),n.jsxs("div",{className:"latest-project-section",children:[n.jsxs("div",{className:"section-title",children:[n.jsx("h3",{children:"Latest Project"}),n.jsx("button",{style:{backgroundColor:"#333333",color:"#ffffff",border:"1px solid #555555"},onClick:C,className:"refresh-btn",disabled:v,children:v?"":" Refresh"})]}),v?n.jsx("div",{className:"loading-project",children:"Loading project info..."}):d?n.jsxs("div",{className:"latest-project-card clickable",onClick:E,children:[n.jsxs("div",{className:"project-header",children:[n.jsx("span",{className:"project-badge",children:"NEW"}),n.jsx("span",{className:"project-type",children:"PROJECT"})]}),n.jsxs("div",{className:"project-number-display",children:[n.jsx("div",{className:"project-label",children:"Project No"}),n.jsx("div",{className:"project-number",children:d.project_no})]}),n.jsxs("div",{className:"project-details",children:[n.jsxs("div",{className:"project-detail",children:[n.jsx("span",{className:"detail-label",children:"Project Name:"}),n.jsx("span",{className:"detail-value",children:d.project_name})]}),d.client_name&&n.jsxs("div",{className:"project-detail",children:[n.jsx("span",{className:"detail-label",children:"Client:"}),n.jsx("span",{className:"detail-value",children:d.client_name})]}),d.status&&n.jsxs("div",{className:"project-detail",children:[n.jsx("span",{className:"detail-label",children:"Status:"}),n.jsx("span",{className:`status-badge ${d.status.toLowerCase()}`,children:d.status})]})]}),n.jsx("div",{className:"project-footer",children:n.jsx("span",{className:"view-all-link",onClick:N=>{N.stopPropagation(),c("view-projects")},children:"View All Projects "})})]}):n.jsxs("div",{className:"no-projects-message",children:[n.jsx("div",{className:"no-projects-icon",children:""}),n.jsx("h4",{children:"No Projects Yet"}),n.jsx("p",{children:"Create your first project to get started"}),n.jsx("button",{className:"create-project-btn",onClick:()=>c("create-project"),children:"+ Create Project"})]})]})]})]})}function rb(){const[s,c]=j.useState("generate-samples"),[u,r]=j.useState(""),[d,h]=j.useState([]),[m,x]=j.useState(!1),[y,p]=j.useState("");return n.jsxs("div",{className:"module-content",children:[n.jsx("div",{className:"module-header",children:n.jsx("h2",{children:"Sample Management"})}),n.jsxs("div",{className:"samples-tabs",children:[n.jsx("button",{className:`tab-button ${s==="generate-samples"?"active":""}`,onClick:()=>c("generate-samples"),children:"Generate Samples"}),n.jsx("button",{className:`tab-button ${s==="accept-reject"?"active":""}`,onClick:()=>c("accept-reject"),children:"Accept/Reject Samples"}),n.jsx("button",{className:`tab-button ${s==="generate-worksheet"?"active":""}`,onClick:()=>c("generate-worksheet"),children:"Generate Worksheet"})]}),n.jsxs("div",{className:"tab-content",children:[s==="generate-samples"&&n.jsx(GenerateSamples,{onSamplesGenerated:()=>c("accept-reject")}),s==="accept-reject"&&n.jsx(AcceptRejectSamples,{}),s==="generate-worksheet"&&n.jsx(GenerateWorksheet,{})]})]})}function cb(){return n.jsx(Kv,{children:n.jsxs(Cv,{children:[n.jsx(ll,{path:"/",element:n.jsx(oy,{})}),n.jsx(ll,{path:"/dashboard",element:n.jsx(lb,{})}),n.jsx(ll,{path:"/projects",element:n.jsx(zm,{})}),n.jsx(ll,{path:"/projects/create",element:n.jsx(Um,{})}),n.jsx(ll,{path:"/samples",element:n.jsx(rb,{})})]})})}zg.createRoot(document.getElementById("root")).render(n.jsx(j.StrictMode,{children:n.jsx(cb,{})}));
